{"version":3,"file":"card.js","sourceRoot":"","sources":["../../../src/components/card/card.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentInterface, Host, Prop, h, Event, JSX, EventEmitter, Element } from '@stencil/core';\r\nimport { Header } from './card.interface';\r\nimport { CardOrientation, CardOrientations, CardSize, CardSizes } from './card.model';\r\n\r\nlet cardSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-card',\r\n  styleUrls: ['card.scss'],\r\n  scoped: true,\r\n})\r\nexport class AthCard implements ComponentInterface {\r\n  private hostId = `card-${++cardSequence}`;\r\n  private titleId = `${this.hostId}-title`;\r\n  private subtitleId = `${this.hostId}-subtitle`;\r\n  private bodyId = `${this.hostId}-body`;\r\n  private dateId = `${this.hostId}-date`;\r\n  private tagId = `${this.hostId}-tag`;\r\n\r\n  /**\r\n   * Size of the card\r\n   **/\r\n  @Prop() size: CardSizes = CardSize.Small;\r\n\r\n  /**\r\n   * Orientation Card\r\n   **/\r\n  @Prop() orientation: CardOrientations = CardOrientation.Vertical;\r\n\r\n  /**\r\n   * Card is clickable\r\n   **/\r\n  @Prop() clickable = false;\r\n\r\n  /**\r\n   * if Card thumbnail is fluid\r\n   */\r\n  @Prop() fluid = false;\r\n\r\n  /**\r\n   * ancho de la card\r\n   */\r\n  @Prop() width: string;\r\n\r\n  /**\r\n   * ancho máximo de la card\r\n   */\r\n  @Prop() maxWidth: string;\r\n\r\n  /**\r\n   * ancho máximo de la card\r\n   */\r\n  @Prop() ariaLabelledBy: string;\r\n\r\n  /**\r\n   * Emitted when card is clicked\r\n   */\r\n  @Event() athClick: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when card gains focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when card loses focus\r\n   */\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  private ArticleEl: HTMLElement;\r\n  private header: Header;\r\n  private isHeaderSlotted = true;\r\n\r\n  constructor() {\r\n    this.header = {\r\n      headingText: undefined,\r\n      date: undefined,\r\n      overline: undefined,\r\n      subtitle: undefined,\r\n    };\r\n  }\r\n\r\n  private handleClick = () => {\r\n    this.ArticleEl.focus();\r\n    this.athClick.emit();\r\n  };\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleBlur = () => {\r\n    this.athBlur.emit();\r\n  };\r\n\r\n  private getClassNames = () => ({\r\n    'ath-card': true,\r\n    [`ath-card--${this.orientation}`]: true,\r\n    'ath-card--clickable': this.clickable,\r\n    'ath-card--fluid': this.fluid,\r\n  });\r\n\r\n  private getImgClassNames = () => ({\r\n    'ath-card-header_wrapper__addons-img': true,\r\n  });\r\n\r\n  private getTagClassNames = () => ({\r\n    'ath-card-header_wrapper__tag': true,\r\n  });\r\n\r\n  private getWrapperClassNames = () => ({\r\n    'ath-card-wrapper': true,\r\n    [`ath-card-wrapper--${this.size}`]: !!this.size,\r\n  });\r\n\r\n  private getThumbnailClassNames = () => ({\r\n    'ath-card-thumbnail': true,\r\n  });\r\n\r\n  private getAriaAttributes = (): { [key: string]: unknown } => {\r\n    return {\r\n      'aria-labelledby': this.clickable && this.titleId ? this.titleId : this.ariaLabelledBy || undefined,\r\n      'aria-describedby': this.clickable ? [this.dateId, this.tagId, this.subtitleId, this.bodyId].filter(Boolean).join(' ') : undefined,\r\n    };\r\n  };\r\n\r\n  private getHostAttributes = () => ({\r\n    style: !!this.width ? { width: this.width } : undefined,\r\n    role: this.clickable ? 'button' : undefined,\r\n    tabindex: this.clickable ? 0 : -1,\r\n    onFocus: this.handleFocus,\r\n    onBlur: this.handleBlur,\r\n    onClick: this.clickable ? this.handleClick : undefined,\r\n  });\r\n\r\n  private renderIcon = () => {\r\n    return <ath-icon icon=\"arrow_right\"></ath-icon>;\r\n  };\r\n\r\n  private isSlotted(slotName: string) {\r\n    const namedSlot = this.el.querySelector(`[slot=\"${slotName}\"]`) as HTMLSlotElement;\r\n\r\n    if (namedSlot && slotName === 'thumbnail') {\r\n      const thumbnail = this.el.querySelector('ath-card-thumbnail');\r\n      if (thumbnail && typeof thumbnail['updateTypeCard'] === 'function') {\r\n        thumbnail['updateTypeCard'](this.fluid, this.orientation === CardOrientation.Vertical);\r\n      }\r\n    }\r\n\r\n    return !!namedSlot;\r\n  }\r\n\r\n  private emptySlot(slotSelector: string) {\r\n    const element = this.el.querySelector(slotSelector);\r\n    if (element) {\r\n      element.classList.add('empty');\r\n    }\r\n  }\r\n\r\n  private fillHeaderinterface() {\r\n    const athHeader: HTMLAthCardHeaderElement = this.el.querySelector('ath-card-header');\r\n    if (athHeader) {\r\n      this.header.date = athHeader.date ?? undefined;\r\n      this.header.headingText = athHeader.headingText ?? undefined;\r\n      this.header.overline = athHeader.overline ?? undefined;\r\n      this.header.subtitle = athHeader.subtitle ?? undefined;\r\n    } else {\r\n      this.isHeaderSlotted = false;\r\n    }\r\n  }\r\n\r\n  componentWillLoad(): void {\r\n    this.fillHeaderinterface();\r\n  }\r\n\r\n  componentDidLoad(): void {\r\n    if (!this.isHeaderSlotted) this.emptySlot('.ath-card-header');\r\n    if (!this.isSlotted('img')) this.emptySlot('.ath-card-header_wrapper__addons-img');\r\n    if (!this.isSlotted('tag')) this.emptySlot('.ath-card-header_wrapper__tag');\r\n    if (!this.isSlotted('thumbnail')) this.emptySlot('.ath-card-thumbnail');\r\n  }\r\n\r\n  renderHeader = () => {\r\n    return (\r\n      <div class=\"ath-card-header\">\r\n        <div class=\"ath-card-header_wrapper\">\r\n          <div class=\"ath-card-header_wrapper__addons\">\r\n            <div class={this.getImgClassNames()}>\r\n              <slot name=\"img\"></slot>\r\n            </div>\r\n            {!!this.header.date && (\r\n              <span id={this.dateId} class=\"ath-card-header_wrapper__addons-date\">\r\n                {this.header.date}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div class={this.getTagClassNames()} id={this.tagId}>\r\n            <slot name=\"tag\"></slot>\r\n          </div>\r\n        </div>\r\n        {!!this.header.overline && <span class=\"ath-card-header_overline\"> {this.header.overline} </span>}\r\n        <div class=\"ath-card-header_titles\">\r\n          {!!this.header.headingText && (\r\n            <span id={this.titleId} class=\"ath-card-header_titles__title\">\r\n              {this.header.headingText}\r\n            </span>\r\n          )}\r\n          {!!this.header.subtitle && (\r\n            <span id={this.subtitleId} class=\"ath-card-header_titles__subtitle\">\r\n              {this.header.subtitle}\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const containsHeader = Object.values(this.header).some(value => value != undefined) || this.isSlotted('img') || this.isSlotted('thumbnail') || this.isSlotted('tag');\r\n\r\n    return (\r\n      <Host {...this.getHostAttributes()} {...this.getAriaAttributes()}>\r\n        <article ref={(el: HTMLElement) => (this.ArticleEl = el)} class={this.getClassNames()}>\r\n          <div class={this.getThumbnailClassNames()}>\r\n            <slot name=\"thumbnail\"></slot>\r\n          </div>\r\n          <div class={this.getWrapperClassNames()}>\r\n            <div class=\"ath-card-wrapper_content\">\r\n              {containsHeader && this.renderHeader()}\r\n              <div id={this.bodyId}>\r\n                <slot name=\"body\"></slot>\r\n              </div>\r\n            </div>\r\n            {!this.clickable && <slot name=\"footer\"></slot>}\r\n            {this.clickable && this.renderIcon()}\r\n          </div>\r\n        </article>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}