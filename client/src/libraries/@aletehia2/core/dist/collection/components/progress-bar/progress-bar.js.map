{"version":3,"file":"progress-bar.js","sourceRoot":"","sources":["../../../src/components/progress-bar/progress-bar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, h } from '@stencil/core';\r\nimport { ProgressBarLabelAlignmentType, ProgressBarLabelAlignment } from './progress-bar.model';\r\n\r\nlet inputCounterSeq = 0;\r\n@Component({\r\n  tag: 'ath-progress-bar',\r\n  styleUrl: 'progress-bar.scss',\r\n  shadow: true,\r\n})\r\nexport class AthProgressBar {\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * Infinite determines if the progress bar is a loop or not\r\n   */\r\n  @Prop() infinite: boolean = false;\r\n\r\n  /**\r\n   * Text of the label left\r\n   */\r\n  @Prop() labelLeft: string;\r\n\r\n  /**\r\n   * Text of the label right\r\n   */\r\n  @Prop() labelRight: string;\r\n\r\n  /**\r\n   * Change label alignment\r\n   */\r\n  @Prop() labelAlignment: ProgressBarLabelAlignmentType = ProgressBarLabelAlignment.Stack;\r\n\r\n  /**\r\n   * Number min of progress bar\r\n   */\r\n  @Prop() min: number = 0;\r\n\r\n  /**\r\n   * Number max of progress bar\r\n   */\r\n  @Prop() max: number = 100;\r\n\r\n  /**\r\n   * Value of the progress bar\r\n   */\r\n  @Prop() value: number;\r\n\r\n  /**\r\n   * Value text of the progress bar\r\n   */\r\n  @Prop() valueText: string;\r\n\r\n  /**\r\n   * Aria Label\r\n   */\r\n  @Prop() athAriaLabel: string;\r\n\r\n  /**\r\n   * Calculate the percetage of value\r\n   */\r\n  private get valuePercentage(): number {\r\n    // Calcula el porcentaje relativo entre min y max\r\n    const clampedValue = Math.max(this.min, Math.min(this.max, this.value));\r\n    const range = this.max - this.min;\r\n    if (range === 0) return 0;\r\n    return ((clampedValue - this.min) / range) * 100;\r\n  }\r\n\r\n  //Generador de ID dinamicos para accesibilidad\r\n  private uniqueId = (() => {\r\n    return (prefix: string) => {\r\n      const normalized = prefix\r\n        .replace(/\\s+/g, '-') // espacios por guiones\r\n        .replace(/([a-z])([A-Z])/g, '$1-$2') // camelCase a kebab-case\r\n        .toLowerCase();\r\n      return `${normalized}-${++inputCounterSeq}`;\r\n    };\r\n  })();\r\n\r\n  private getHostAtributtes = () => {\r\n    return {\r\n      'role': 'progressbar',\r\n      'aria-valuenow': this.infinite ? undefined : this.value > this.max ? this.max : this.value < this.min ? this.min : this.value,\r\n      'aria-valuemin': this.infinite ? undefined : this.min,\r\n      'aria-valuemax': this.infinite ? undefined : this.max,\r\n      'aria-valuetext': this.valueText ?? undefined,\r\n      'aria-label': this.athAriaLabel || undefined,\r\n    };\r\n  };\r\n\r\n  private getClassNames = () => ({\r\n    'ath-progress-bar': true,\r\n    [`ath-progress-bar--${this.labelAlignment}`]: !!this.labelAlignment,\r\n  });\r\n\r\n  private getFillerClassNames = () => ({\r\n    'ath-progress-bar__filler': true,\r\n    'infinite': this.infinite,\r\n  });\r\n\r\n  render() {\r\n    // Genera los IDs solo si hay label\r\n    const labelLeftId = this.labelLeft ? this.uniqueId(this.labelLeft) : undefined;\r\n    const labelRightId = this.labelRight ? this.uniqueId(this.labelRight) : undefined;\r\n\r\n    // Prepara aria-labelledby\r\n    const ariaLabelledBy = !this.athAriaLabel && (labelLeftId || labelRightId) ? [labelLeftId, labelRightId].filter(Boolean).join(' ') : undefined;\r\n\r\n    return (\r\n      <Host>\r\n        <div class={this.getClassNames()}>\r\n          {this.labelLeft && this.labelAlignment === 'inline' && (\r\n            <span id={labelLeftId} class=\"ath-progress-bar-label left\">\r\n              {this.labelLeft}\r\n            </span>\r\n          )}\r\n          <div\r\n            {...{\r\n              ...this.getHostAtributtes(),\r\n              'aria-labelledby': ariaLabelledBy,\r\n            }}\r\n            class=\"ath-progress-bar-item\"\r\n            style={{ '--progress-value': `${this.valuePercentage}` }}\r\n          >\r\n            <div class={this.getFillerClassNames()}></div>\r\n          </div>\r\n          {(this.labelLeft || this.labelRight) && this.labelAlignment === 'stack' && (\r\n            <div class=\"ath-progress-bar-temporal\">\r\n              {this.labelLeft && (\r\n                <span id={labelLeftId} class=\"ath-progress-bar-label left\">\r\n                  {this.labelLeft}\r\n                </span>\r\n              )}\r\n              {this.labelRight && (\r\n                <span id={labelRightId} class=\"ath-progress-bar-label right\">\r\n                  {this.labelRight}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}