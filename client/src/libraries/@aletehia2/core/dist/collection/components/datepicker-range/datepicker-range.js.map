{"version":3,"file":"datepicker-range.js","sourceRoot":"","sources":["../../../src/components/datepicker-range/datepicker-range.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Component,\r\n  ComponentInterface,\r\n  ComponentDidLoad,\r\n  Host,\r\n  Prop,\r\n  State,\r\n  Watch,\r\n  h,\r\n  Element,\r\n  Method,\r\n  Event,\r\n  EventEmitter,\r\n  ComponentWillLoad,\r\n  AttachInternals,\r\n} from '@stencil/core';\r\nimport { FcCalendar, FcCalendarMonth, FcCalendarYear } from 'sharedfc/datepicker';\r\nimport {\r\n  DatepickerRangeColor,\r\n  DatepickerRangeColors,\r\n  DatepickerRangeFeedback,\r\n  DatepickerRangeFeedbacks,\r\n  DatepickerRangeFocusState,\r\n  DatepickerRangeSize,\r\n  DatepickerRangeSizes,\r\n  DatepickerRangeType,\r\n  DatepickerRangeTypes,\r\n} from './datepicker-range.model';\r\nimport {\r\n  addDays,\r\n  addMonths,\r\n  addYears,\r\n  formatDate,\r\n  formatDateToISO,\r\n  formatDateToMonth,\r\n  formatDateToString,\r\n  formatDateToYear,\r\n  getDateBetweenLimits,\r\n  getMonthName,\r\n  getSROnlyHelperText,\r\n  getValueRangeString,\r\n  isDisabledDate,\r\n  monthStart,\r\n  yearStart,\r\n} from '@utils/date-utils';\r\nimport {\r\n  FcButtonComp,\r\n  FcInputElement,\r\n  FcInputElementType,\r\n  FcInputFeedback,\r\n  FcInputFeedbackType,\r\n  FcInputHelperText,\r\n  FcInputHelperTextType,\r\n  FcInputLabel,\r\n  FcInputLabelType,\r\n} from 'sharedfc/input';\r\nimport { ButtonIconPosition } from 'components/button/button.model';\r\n\r\nlet datepickerRangeSequence = 0;\r\nlet inputToSequence = 0;\r\nlet inputFromSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-datepicker-range',\r\n  styleUrl: 'datepicker-range.scss',\r\n  shadow: true,\r\n  formAssociated: true,\r\n})\r\nexport class AthDatepickerRange implements ComponentInterface, ComponentDidLoad, ComponentWillLoad {\r\n  private datepickerRangeId = `ath-datepicker-range-${datepickerRangeSequence++}`;\r\n  private datepickerRangePopupId = `ath-datepicker-range-popup-${datepickerRangeSequence++}`;\r\n  private datepickerRangeHintId = `${this.datepickerRangeId}-hint`;\r\n  private datepickerRangeHintSROnlyId = `${this.datepickerRangeId}-hintSROnly`;\r\n  private datepickerRangeFeedbackId = `${this.datepickerRangeId}-feedback`;\r\n\r\n  private labelId: string = `${this.datepickerRangeId}-label`;\r\n\r\n  private inputElFrom: HTMLInputElement;\r\n  private inputFromId: string = `ath-input-from-${inputFromSequence++}`;\r\n\r\n  private inputElTo: HTMLInputElement;\r\n  private inputToId: string = `ath-input-to-${inputToSequence++}`;\r\n\r\n  private returnInputFocus: boolean = false;\r\n  private initialValue: string;\r\n\r\n  private transitionTime = 300;\r\n\r\n  private overlayTimeout: NodeJS.Timeout | null = null;\r\n  private ariaLiveTimeout: NodeJS.Timeout | null = null;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @AttachInternals() internals: ElementInternals;\r\n\r\n  /**\r\n   * Caption of the datepicker-range\r\n   */\r\n  @Prop() label: string;\r\n\r\n  /**\r\n   * Caption of the range start of the datepicker-range\r\n   */\r\n  @Prop() labelStart: string;\r\n\r\n  /**\r\n   * Caption of the datepicker-range\r\n   */\r\n  @Prop() labelEnd: string;\r\n\r\n  /**\r\n   * Text to be shown in the tooltip\r\n   */\r\n  @Prop() tooltipText: string;\r\n\r\n  /**\r\n   * The type of the feedback. If 'error' the error feedback will be shown\r\n   */\r\n  @Prop() feedback: DatepickerRangeFeedback = DatepickerRangeFeedbacks.None;\r\n\r\n  /**\r\n   * The feedback message.\r\n   */\r\n  @Prop() feedbackText: string;\r\n\r\n  /**\r\n   * Message to help the user fills the datepicker-range.\r\n   */\r\n  @Prop() helperText: string;\r\n\r\n  /**\r\n   * Date format to be used in the datepicker-range. Only used when the type is 'date'.\r\n   */\r\n  @Prop() format: string = 'DD/MM/YYYY';\r\n\r\n  /*\r\n   * Instructional text that shows before the datepicker-range start has a value.\r\n   */\r\n  @Prop() placeholderStart: string;\r\n\r\n  /*\r\n   * Instructional text that shows before the datepicker-range end has a value.\r\n   */\r\n  @Prop() placeholderEnd: string;\r\n\r\n  /**\r\n   * The name of the datepicker-range. Submitted with the form as part of a name/value pair\r\n   */\r\n  @Prop() name: string;\r\n\r\n  /**\r\n   * If true, the user must fill in a value before submitting a form.\r\n   */\r\n  @Prop() required: boolean = false;\r\n\r\n  /**\r\n   * If true, the user must fill in a value of start range before submitting a form.\r\n   */\r\n  @Prop() requiredStart: boolean = false;\r\n\r\n  /**\r\n   * If true, the user must fill in a value of end range before submitting a form.\r\n   */\r\n  @Prop() requiredEnd: boolean = false;\r\n\r\n  /**\r\n   * If true, the * asterisk will be show when required = true.\r\n   */\r\n  @Prop() hideRequired: boolean = false;\r\n\r\n  /**\r\n   * If true, the user cannot interact with the input.\r\n   */\r\n  @Prop({ reflect: true }) disabled = false;\r\n  @Watch('disabled')\r\n  watchDisabled() {\r\n    if (this.disabled) this.readonly = false;\r\n  }\r\n\r\n  /**\r\n   * If true, the user cannot modify the value.\r\n   */\r\n  @Prop() readonly: boolean = false;\r\n\r\n  /**\r\n   * Whether the datepicker is focused on page load.\r\n   */\r\n  @Prop() autofocus: boolean;\r\n\r\n  /**\r\n   * List of days which are shown as disabled.\r\n   */\r\n  @Prop() disabledDates: string;\r\n  @Watch('disabledDates')\r\n  updateDisabledDates() {\r\n    this.disabledDatesAux = [];\r\n    try {\r\n      const parsedDates = JSON.parse(this.disabledDates.replace(/'/g, '\"'));\r\n      parsedDates.forEach(element => {\r\n        const parsedDate = typeof element === 'string' ? new Date(element) : element;\r\n        if (!isNaN(parsedDate.getTime())) {\r\n          this.disabledDatesAux.push(parsedDate);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      this.disabledDatesAux = [];\r\n    }\r\n  }\r\n  private disabledDatesAux: Date[];\r\n  /**\r\n   * List of days which are shown as highlighted.\r\n   */\r\n  @Prop() highlightedDates: string;\r\n  @Watch('highlightedDates')\r\n  updateHighlightedDates() {\r\n    this.highlightedDatesAux = [];\r\n    try {\r\n      const parsedDates = JSON.parse(this.highlightedDates.replace(/'/g, '\"'));\r\n      parsedDates.forEach(element => {\r\n        const parsedDate = typeof element === 'string' ? new Date(element) : element;\r\n        if (!isNaN(parsedDate.getTime())) {\r\n          this.highlightedDatesAux.push(parsedDate);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      this.highlightedDatesAux = [];\r\n    }\r\n  }\r\n  private highlightedDatesAux: Date[];\r\n\r\n  /**\r\n   * The minimum date that can be selected.\r\n   */\r\n  @Prop() min?: string;\r\n  @Watch('min')\r\n  updateMin() {\r\n    if (this.min) {\r\n      try {\r\n        this.minDate = new Date(this.min);\r\n      } catch (error) {\r\n        this.minDate = undefined;\r\n      }\r\n    }\r\n  }\r\n  private minDate: Date;\r\n\r\n  /**\r\n   * The maximum date that can be selected.\r\n   */\r\n  @Prop() max?: string;\r\n  @Watch('max')\r\n  updateMax() {\r\n    if (this.max) {\r\n      try {\r\n        this.maxDate = new Date(this.max);\r\n      } catch (error) {\r\n        this.maxDate = undefined;\r\n      }\r\n    }\r\n  }\r\n  private maxDate: Date;\r\n\r\n  /**\r\n   * The size of the datepicker-range.\r\n   */\r\n  @Prop() size: DatepickerRangeSize = DatepickerRangeSizes.Medium;\r\n\r\n  /**\r\n   * The type of the datepicker-range.\r\n   */\r\n  @Prop() type: DatepickerRangeType = DatepickerRangeTypes.Date;\r\n\r\n  /**\r\n   * The color of the datepicker-range.\r\n   */\r\n  @Prop() color: DatepickerRangeColor = DatepickerRangeColors.Primary;\r\n\r\n  /**\r\n   * The aria-label attribute of the start input\r\n   */\r\n  @Prop() inputAriaLabelStart: string;\r\n\r\n  /**\r\n   * The aria-label attribute of the end input\r\n   */\r\n  @Prop() inputAriaLabelEnd: string;\r\n\r\n  /**\r\n   * If true, the side panel will be hidden.\r\n   */\r\n  @Prop() hidePanel: boolean = false;\r\n\r\n  /**\r\n   * If true, all the weekends will be highlighted.\r\n   */\r\n  @Prop() highlightedWeekends: boolean = false;\r\n\r\n  /**\r\n   * Current value of the form control. Submitted with the form as part of a name/value pair.\r\n   */\r\n  @Prop({ mutable: true }) value: string;\r\n  @Watch('value')\r\n  updateValue() {\r\n    if (this.value) {\r\n      try {\r\n        const cleanValue = this.value.replace(/['\" \\[\\]]/g, '');\r\n        const parsedDates = cleanValue.split(',');\r\n        if (parsedDates.length !== 2) {\r\n          return;\r\n        }\r\n        const from = !isNaN(new Date(parsedDates[0]).getTime()) ? parsedDates[0] : undefined;\r\n        const to = !isNaN(new Date(parsedDates[1]).getTime()) ? parsedDates[1] : undefined;\r\n\r\n        this.valueFrom = from;\r\n        if (from != undefined && to != undefined && from > to) {\r\n          this.valueTo = undefined;\r\n          console.error('Rango invlido'); // Se muestra el error por consola ya que es fallo del desarrollador\r\n        } else {\r\n          this.valueTo = to;\r\n        }\r\n      } catch (error) {\r\n        this.valueFrom = undefined;\r\n        this.valueTo = undefined;\r\n        this.updateValueFrom();\r\n        this.updateValueTo();\r\n        this.setInputValue(this.value);\r\n        return;\r\n      }\r\n    } else {\r\n      this.valueFrom = undefined;\r\n      this.valueTo = undefined;\r\n    }\r\n    this.updateValueFrom();\r\n    this.updateValueTo();\r\n    this.setInputValue(this.value);\r\n  }\r\n\r\n  /**\r\n   * If true, submit the form when pressing Enter in the input field and the input is inside a form\r\n   */\r\n  @Prop() submitOnEnter = false;\r\n\r\n  private valueDateFrom: Date;\r\n  private valueDateTo: Date;\r\n\r\n  /**\r\n   * Method to set the focus on the input element\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    if (this.inputElFrom) {\r\n      this.inputElFrom.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method to set the focus on the second input element\r\n   */\r\n  @Method()\r\n  async setFocusEnd() {\r\n    if (this.inputElTo && this.element?.isConnected) {\r\n      this.inputElTo.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emitted when the input gains focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the input loses focus\r\n   */\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the value has changed.\r\n   * This event doesn't fire until the control loses focus.\r\n   */\r\n  @Event() athChange: EventEmitter<string>;\r\n  // @Event() athChange: EventEmitter<{ start: string; end: string }>;\r\n\r\n  @Watch('open')\r\n  watchOpenState() {\r\n    if (this.overlayTimeout !== null) {\r\n      clearTimeout(this.overlayTimeout);\r\n      this.overlayTimeout = null;\r\n    }\r\n\r\n    if (this.open) {\r\n      this.renderOverlay = true;\r\n      document.addEventListener('mousedown', this.handleOutsideClick);\r\n    } else {\r\n      this.overlayTimeout = setTimeout(() => {\r\n        this.renderOverlay = false;\r\n        this.overlayTimeout = null;\r\n      }, this.transitionTime);\r\n    }\r\n  }\r\n\r\n  @Watch('valueFrom')\r\n  updateValueFrom() {\r\n    if (this.valueFrom) {\r\n      try {\r\n        this.valueDateFrom = new Date(this.valueFrom);\r\n      } catch (error) {\r\n        this.valueDateFrom = undefined;\r\n        return;\r\n      }\r\n\r\n      switch (this.type) {\r\n        case DatepickerRangeTypes.Year:\r\n          this.inputValueFrom = this.valueDateFrom ? formatDateToYear(this.valueDateFrom) : '';\r\n          break;\r\n        case DatepickerRangeTypes.Month:\r\n          this.inputValueFrom = this.valueDateFrom ? formatDateToMonth(this.valueDateFrom) : '';\r\n          break;\r\n        default:\r\n          this.inputValueFrom = this.valueDateFrom ? formatDateToString(this.valueDateFrom, this.format) : '';\r\n          break;\r\n      }\r\n      if (this.inputElFrom) {\r\n        this.inputElFrom.value = this.inputValueFrom;\r\n      }\r\n    } else {\r\n      this.valueDateFrom = undefined;\r\n      this.inputValueFrom = '';\r\n    }\r\n  }\r\n\r\n  @Watch('valueTo')\r\n  updateValueTo() {\r\n    if (this.valueTo) {\r\n      try {\r\n        this.valueDateTo = new Date(this.valueTo);\r\n      } catch (error) {\r\n        this.valueDateTo = undefined;\r\n        return;\r\n      }\r\n\r\n      switch (this.type) {\r\n        case DatepickerRangeTypes.Year:\r\n          this.inputValueTo = this.valueDateTo ? formatDateToYear(this.valueDateTo) : '';\r\n          break;\r\n        case DatepickerRangeTypes.Month:\r\n          this.inputValueTo = this.valueDateTo ? formatDateToMonth(this.valueDateTo) : '';\r\n          break;\r\n        default:\r\n          this.inputValueTo = this.valueDateTo ? formatDateToString(this.valueDateTo, this.format) : '';\r\n          break;\r\n      }\r\n      if (this.inputElTo) {\r\n        this.inputElTo.value = this.inputValueTo;\r\n      }\r\n    } else {\r\n      this.valueDateTo = undefined;\r\n      this.inputValueTo = '';\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.ariaLiveTimeout) {\r\n      clearTimeout(this.ariaLiveTimeout);\r\n      this.ariaLiveTimeout = null;\r\n    }\r\n    if (this.overlayTimeout) {\r\n      clearTimeout(this.overlayTimeout);\r\n      this.overlayTimeout = null;\r\n    }\r\n    document.removeEventListener('mousedown', this.handleOutsideClick);\r\n  }\r\n\r\n  @State() open: boolean = false;\r\n  @State() renderOverlay: boolean = false;\r\n  @State() wrongDate: boolean = false;\r\n  @State() feedbackWrong: string = '';\r\n  @State() showType: DatepickerRangeType = DatepickerRangeTypes.Date;\r\n  @State() inputValueFrom: string;\r\n  @State() inputValueTo: string;\r\n  @State() valueFrom: string;\r\n  @State() valueTo: string;\r\n  @State() shownDate: Date = new Date();\r\n  @State() focusState: DatepickerRangeFocusState = DatepickerRangeFocusState.None;\r\n  @State() hasFocus: boolean = false;\r\n  @State() ariaLiveMessage: string = '';\r\n\r\n  componentDidLoad() {\r\n    this.initialValue = this.value;\r\n\r\n    if (this.autofocus) {\r\n      this.setFocus();\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.showType = this.type;\r\n    this.updateMin();\r\n    this.updateMax();\r\n    this.updateValue();\r\n    this.updateDisabledDates();\r\n    this.updateHighlightedDates();\r\n    if (this.valueDateFrom) {\r\n      this.shownDate = this.valueDateFrom;\r\n    }\r\n  }\r\n\r\n  formResetCallback() {\r\n    this.value = this.initialValue;\r\n    this.updateValue();\r\n    this.hasChanged();\r\n  }\r\n\r\n  private hasChanged = () => {\r\n    this.value = getValueRangeString(this.valueFrom, this.valueTo);\r\n    this.setInputValue(this.value);\r\n    this.athChange.emit(this.value);\r\n  };\r\n\r\n  private handleDaySelect = (_event: MouseEvent, day: Date) => {\r\n    this.returnInputFocus = true;\r\n    this.hasFocus = false;\r\n    if (this.focusState !== DatepickerRangeFocusState.End) {\r\n      this.valueFrom = formatDateToISO(day);\r\n      if (this.valueTo && this.valueDateTo < day) {\r\n        this.valueTo = undefined;\r\n      }\r\n      this.setAriaLiveDateSelect(true);\r\n      this.setFocusEnd();\r\n    } else {\r\n      if (this.valueDateFrom > day) {\r\n        this.valueFrom = formatDateToISO(day);\r\n        this.valueTo = undefined;\r\n        this.setAriaLiveDateSelect(true);\r\n      } else {\r\n        this.valueTo = formatDateToISO(day);\r\n        this.setFocusEnd();\r\n        this.open = false;\r\n        this.setAriaLiveDateSelect(false);\r\n      }\r\n    }\r\n    this.hasChanged();\r\n\r\n    this.shownDate = day;\r\n    this.wrongDate = false;\r\n    this.feedbackWrong = '';\r\n  };\r\n\r\n  private handleMonthSelect = (_event: MouseEvent, month: Date) => {\r\n    if (this.type === DatepickerRangeTypes.Month) {\r\n      this.handleDaySelect(_event, month);\r\n      return;\r\n    }\r\n    this.shownDate = getDateBetweenLimits(month, this.minDate, this.maxDate);\r\n    this.hasFocus = true;\r\n    this.showType = DatepickerRangeTypes.Date;\r\n    this.setAriaLiveMessage(`Mes seleccionado: ${formatDateToMonth(month)}. Vista de calendario abierta`);\r\n  };\r\n\r\n  private handleYearSelect = (_event: MouseEvent, year: Date) => {\r\n    if (this.type === DatepickerRangeTypes.Year) {\r\n      this.handleDaySelect(_event, year);\r\n      return;\r\n    }\r\n    this.shownDate = getDateBetweenLimits(year, this.minDate, this.maxDate);\r\n    this.hasFocus = true;\r\n    this.showType = DatepickerRangeTypes.Month;\r\n    this.setAriaLiveMessage(`Ao seleccionado: ${formatDateToYear(year)}. Vista de seleccin de mes abierta`);\r\n  };\r\n\r\n  private handleClickMonth = () => {\r\n    this.hasFocus = true;\r\n    this.showType = DatepickerRangeTypes.Month;\r\n    this.setAriaLiveMessage('Vista de seleccin de mes abierta');\r\n  };\r\n\r\n  private handleClickYear = () => {\r\n    this.showType = DatepickerRangeTypes.Year;\r\n    this.hasFocus = true;\r\n    this.setAriaLiveMessage('Vista de seleccin de ao abierta');\r\n  };\r\n\r\n  private handlePrevButton = () => {\r\n    this.hasFocus = false;\r\n    let navigationMessage = '';\r\n\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        this.shownDate = getDateBetweenLimits(addMonths(this.shownDate, -1), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando a ${getMonthName(this.shownDate)} ${this.shownDate.getFullYear()}`;\r\n        break;\r\n      case DatepickerRangeTypes.Month:\r\n        this.shownDate = getDateBetweenLimits(addYears(this.shownDate, -1), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando al ao ${this.shownDate.getFullYear()}`;\r\n        break;\r\n      case DatepickerRangeTypes.Year:\r\n        this.shownDate = getDateBetweenLimits(addYears(this.shownDate, -12), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando a la pgina que contiene los aos ${this.shownDate.getFullYear() - (this.shownDate.getFullYear() % 10)} - ${this.shownDate.getFullYear() - (this.shownDate.getFullYear() % 10) + 9}`;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (navigationMessage) {\r\n      this.setAriaLiveMessage(navigationMessage);\r\n    }\r\n  };\r\n\r\n  private isPrevButtonDisabled = () => {\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        return isDisabledDate(new Date(this.shownDate.getFullYear(), this.shownDate.getMonth(), 0), [], this.minDate, this.maxDate);\r\n      case DatepickerRangeTypes.Month:\r\n        return isDisabledDate(new Date(this.shownDate.getFullYear(), 0, 0), [], this.minDate, this.maxDate);\r\n      case DatepickerRangeTypes.Year:\r\n        return isDisabledDate(addYears(new Date(this.shownDate.getFullYear(), 0, 0), -12), [], this.minDate, this.maxDate);\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  private handleNextButton = () => {\r\n    this.hasFocus = false;\r\n    let navigationMessage = '';\r\n\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        this.shownDate = getDateBetweenLimits(addMonths(this.shownDate, 1), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando a ${getMonthName(this.shownDate)} ${this.shownDate.getFullYear()}`;\r\n        break;\r\n      case DatepickerRangeTypes.Month:\r\n        this.shownDate = getDateBetweenLimits(addYears(this.shownDate, 1), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando al ao ${this.shownDate.getFullYear()}`;\r\n        break;\r\n      case DatepickerRangeTypes.Year:\r\n        this.shownDate = getDateBetweenLimits(addYears(this.shownDate, 12), this.minDate, this.maxDate);\r\n        navigationMessage = `Navegando a la pgina que contiene los aos ${this.shownDate.getFullYear() - (this.shownDate.getFullYear() % 10)} - ${this.shownDate.getFullYear() - (this.shownDate.getFullYear() % 10) + 9}`;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (navigationMessage) {\r\n      this.setAriaLiveMessage(navigationMessage);\r\n    }\r\n  };\r\n\r\n  private isNextButtonDisabled = () => {\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        return isDisabledDate(addMonths(monthStart(this.shownDate), 1), [], this.minDate, this.maxDate);\r\n      case DatepickerRangeTypes.Month:\r\n        return isDisabledDate(addYears(yearStart(this.shownDate), 1), [], this.minDate, this.maxDate);\r\n      case DatepickerRangeTypes.Year:\r\n        return isDisabledDate(addYears(yearStart(this.shownDate), 12), [], this.minDate, this.maxDate);\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  private reset = () => {\r\n    this.value = undefined;\r\n    this.valueFrom = undefined;\r\n    this.valueTo = undefined;\r\n    this.inputValueFrom = '';\r\n    this.inputValueTo = '';\r\n    this.valueDateFrom = undefined;\r\n    this.valueDateTo = undefined;\r\n    this.shownDate = new Date();\r\n    this.showType = this.type;\r\n    this.hasChanged();\r\n  };\r\n\r\n  private error = (msg: string) => {\r\n    this.wrongDate = true;\r\n    this.feedbackWrong = msg;\r\n    this.reset();\r\n    this.open = false;\r\n  };\r\n\r\n  private today = () => {\r\n    this.shownDate = new Date();\r\n    this.showType = this.type;\r\n  };\r\n\r\n  private lastWeek = () => {\r\n    const from = addDays(new Date(), -7);\r\n    this.valueFrom = formatDateToISO(from);\r\n    this.valueTo = formatDateToISO(new Date());\r\n    this.setAriaLiveMessage(`Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}.`);\r\n  };\r\n\r\n  private isLastWeekDisabled = () => {\r\n    const from = addDays(new Date(), -7);\r\n    return isDisabledDate(from, this.disabledDatesAux, this.minDate, this.maxDate) || isDisabledDate(new Date(), this.disabledDatesAux, this.minDate, this.maxDate);\r\n  };\r\n\r\n  private lastMonth = () => {\r\n    const from = addMonths(new Date(), -1);\r\n    this.valueFrom = formatDateToISO(from);\r\n    this.valueTo = formatDateToISO(new Date());\r\n    this.setAriaLiveMessage(`Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}.`);\r\n  };\r\n\r\n  private isLastMonthDisabled = () => {\r\n    const from = this.type === DatepickerRangeTypes.Date ? addMonths(new Date(), -1) : monthStart(addMonths(new Date(), -1));\r\n    const to = this.type === DatepickerRangeTypes.Date ? new Date() : monthStart(new Date());\r\n    return isDisabledDate(from, this.disabledDatesAux, this.minDate, this.maxDate) || isDisabledDate(to, this.disabledDatesAux, this.minDate, this.maxDate);\r\n  };\r\n\r\n  private lastQuarter = () => {\r\n    const from = addMonths(new Date(), -3);\r\n    this.valueFrom = formatDateToISO(from);\r\n    this.valueTo = formatDateToISO(new Date());\r\n    this.setAriaLiveMessage(`Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}.`);\r\n  };\r\n\r\n  private isLastQuarterDisabled = () => {\r\n    const from = this.type === DatepickerRangeTypes.Date ? addMonths(new Date(), -3) : monthStart(addMonths(new Date(), -3));\r\n    const to = this.type === DatepickerRangeTypes.Date ? new Date() : monthStart(new Date());\r\n    return isDisabledDate(from, this.disabledDatesAux, this.minDate, this.maxDate) || isDisabledDate(to, this.disabledDatesAux, this.minDate, this.maxDate);\r\n  };\r\n\r\n  private lastYear = () => {\r\n    const from = addYears(new Date(), -1);\r\n    this.valueFrom = formatDateToISO(from);\r\n    this.valueTo = formatDateToISO(new Date());\r\n    this.setAriaLiveMessage(`Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}.`);\r\n  };\r\n\r\n  private isLastYearDisabled = () => {\r\n    let from;\r\n    let to;\r\n    switch (this.type) {\r\n      case DatepickerRangeTypes.Date:\r\n        from = addYears(new Date(), -1);\r\n        to = new Date();\r\n        break;\r\n      case DatepickerRangeTypes.Month:\r\n        from = monthStart(addYears(new Date(), -1));\r\n        to = monthStart(new Date());\r\n        break;\r\n      case DatepickerRangeTypes.Year:\r\n        from = yearStart(addYears(new Date(), -1));\r\n        to = yearStart(new Date());\r\n        break;\r\n    }\r\n    return isDisabledDate(from, this.disabledDatesAux, this.minDate, this.maxDate) || isDisabledDate(to, this.disabledDatesAux, this.minDate, this.maxDate);\r\n  };\r\n\r\n  private handleInput = (e: InputEvent, isFrom: boolean) => {\r\n    // If this is a deletion, just update the value\r\n    if (e.inputType === 'deleteContentBackward' || e.inputType === 'deleteContentForward') {\r\n      if (isFrom) {\r\n        this.inputValueFrom = this.inputElFrom.value;\r\n      } else {\r\n        this.inputValueTo = this.inputElTo.value;\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.type === DatepickerRangeTypes.Year) {\r\n      this.handleInputYear(e, isFrom);\r\n      return;\r\n    }\r\n\r\n    if (this.type === DatepickerRangeTypes.Month) {\r\n      this.handleInputMonth(e, isFrom);\r\n      return;\r\n    }\r\n\r\n    // Extract only digits with dynamic limit based on format\r\n    const formatParts = this.format.split(/[^A-Za-z]/);\r\n    const separators = this.format.match(/[^A-Za-z0-9]/g) || ['/'];\r\n\r\n    const maxDigits = formatParts.reduce((total, part) => total + part.length, 0);\r\n    let digits: string;\r\n    if (isFrom) {\r\n      digits = this.inputElFrom.value.replace(/\\D/g, '').substring(0, maxDigits);\r\n      if (separators.includes(e.data) && e.data === this.format[this.inputElFrom.value.length - 1]) {\r\n        return;\r\n      }\r\n      // Block non-numeric input\r\n      if (e.data && isNaN(Number(e.data))) {\r\n        this.inputElFrom.value = this.inputValueFrom ?? '';\r\n        return;\r\n      }\r\n    } else {\r\n      digits = this.inputElTo.value.replace(/\\D/g, '').substring(0, maxDigits);\r\n      if (separators.includes(e.data) && e.data === this.format[this.inputElTo.value.length - 1]) {\r\n        return;\r\n      }\r\n      // Block non-numeric input\r\n      if (e.data && isNaN(Number(e.data))) {\r\n        this.inputElTo.value = this.inputValueFrom ?? '';\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Format according to the provided format property\r\n    let formatted = '';\r\n    if (digits.length > 0) {\r\n      // Parse the format to determine separator positions and date part lengths\r\n\r\n      let digitIndex = 0;\r\n      let formattedIndex = 0;\r\n\r\n      // Apply each part of the format (e.g., DD, MM, YYYY)\r\n      formatParts.forEach((part, i) => {\r\n        const partLength = part.length;\r\n\r\n        // Extract the corresponding digits for this part\r\n        const partDigits = digits.substring(digitIndex, digitIndex + partLength);\r\n\r\n        // Only proceed if we have digits for this part\r\n        if (partDigits.length > 0) {\r\n          // Add part to formatted string\r\n          formatted += partDigits;\r\n          digitIndex += partDigits.length;\r\n          formattedIndex += partDigits.length;\r\n\r\n          // Add separator if there are more parts and we have digits for the next part\r\n          if (i < formatParts.length - 1 && digitIndex < digits.length) {\r\n            formatted += separators[Math.min(i, separators.length - 1)];\r\n            formattedIndex += 1;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (isFrom) {\r\n      this.inputElFrom.value = formatted;\r\n      this.inputValueFrom = formatted;\r\n    } else {\r\n      this.inputElTo.value = formatted;\r\n      this.inputValueTo = formatted;\r\n    }\r\n  };\r\n\r\n  private handleInputYear = (e: InputEvent, isFrom: boolean) => {\r\n    if (e.data && isNaN(Number(e.data))) {\r\n      if (isFrom) {\r\n        this.inputElFrom.value = this.inputValueFrom ?? '';\r\n      } else {\r\n        this.inputElTo.value = this.inputValueTo ?? '';\r\n      }\r\n      return;\r\n    }\r\n    if (isFrom && Number(this.inputElFrom.value) > 9999) {\r\n      this.inputElFrom.value = this.inputValueFrom;\r\n      this.inputValueFrom = this.inputElFrom.value;\r\n    }\r\n    if (!isFrom && Number(this.inputElTo.value) > 9999) {\r\n      this.inputElTo.value = this.inputValueTo;\r\n      this.inputValueTo = this.inputElTo.value;\r\n    }\r\n\r\n    if (isFrom) {\r\n      this.inputValueFrom = this.inputElFrom.value;\r\n    } else {\r\n      this.inputValueTo = this.inputElTo.value;\r\n    }\r\n  };\r\n\r\n  private handleInputMonth = (e: InputEvent, isFrom: boolean) => {\r\n    if (isFrom) {\r\n      if (e.data && isNaN(Number(e.data)) && e.data !== '/') {\r\n        this.inputElFrom.value = this.inputValueFrom ?? '';\r\n        return;\r\n      }\r\n      if (Number(this.inputElFrom.value) > 12) {\r\n        this.inputElFrom.value = this.inputValueFrom.padStart(2, '0') + '/' + e.data;\r\n      }\r\n      if (e.data === '/') {\r\n        if (this.inputValueFrom && this.inputValueFrom.length <= 2 && this.inputValueFrom.length > 0) {\r\n          this.inputElFrom.value = this.inputValueFrom.padStart(2, '0') + e.data;\r\n        } else {\r\n          this.inputElFrom.value = this.inputValueFrom ?? '';\r\n        }\r\n      }\r\n\r\n      this.inputValueFrom = this.inputElFrom.value;\r\n    } else {\r\n      if (e.data && isNaN(Number(e.data)) && e.data !== '/') {\r\n        this.inputElTo.value = this.inputValueTo ?? '';\r\n        return;\r\n      }\r\n      if (Number(this.inputElTo.value) > 12) {\r\n        this.inputElTo.value = this.inputValueTo.padStart(2, '0') + '/' + e.data;\r\n      }\r\n      if (e.data === '/') {\r\n        if (this.inputValueTo && this.inputValueTo.length <= 2 && this.inputValueTo.length > 0) {\r\n          this.inputElTo.value = this.inputValueTo.padStart(2, '0') + e.data;\r\n        } else {\r\n          this.inputElTo.value = this.inputValueTo ?? '';\r\n        }\r\n      }\r\n\r\n      this.inputValueTo = this.inputElTo.value;\r\n    }\r\n  };\r\n\r\n  private handleInputFocus = (isFrom: boolean) => {\r\n    this.focusState = isFrom ? DatepickerRangeFocusState.Start : DatepickerRangeFocusState.End;\r\n    if (!this.returnInputFocus && !this.readonly) {\r\n      this.open = true;\r\n      if (isFrom) {\r\n        this.shownDate = this.valueDateFrom ?? this.valueDateTo ?? new Date();\r\n      } else {\r\n        this.shownDate = this.valueDateTo ?? this.valueDateFrom ?? new Date();\r\n      }\r\n\r\n      this.setAriaLiveMessage('Calendario abierto. Use las teclas de flecha para navegar.');\r\n    }\r\n    this.returnInputFocus = false;\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleInputBlur = () => {\r\n    this.returnInputFocus = false;\r\n  };\r\n\r\n  private handleOutsideClick = (e: MouseEvent) => {\r\n    if (!this.open) {\r\n      this.focusState = DatepickerRangeFocusState.None;\r\n      document.removeEventListener('mousedown', this.handleOutsideClick);\r\n      return;\r\n    }\r\n\r\n    // Use composedPath to detect if the click was inside the component\r\n    const path = e.composedPath();\r\n    const clickedInComponent = path.includes(this.element);\r\n\r\n    if (!clickedInComponent) {\r\n      this.focusState = DatepickerRangeFocusState.None;\r\n      this.open = false;\r\n      this.returnInputFocus = false;\r\n      this.setAriaLiveMessage('Calendario cerrado');\r\n      this.athBlur.emit();\r\n    }\r\n  };\r\n\r\n  private handleInputChange = (isFrom: boolean) => {\r\n    this.returnInputFocus = true;\r\n    this.hasFocus = false;\r\n    if (isFrom && this.inputValueFrom == '') {\r\n      this.valueFrom = undefined;\r\n      this.hasChanged();\r\n      return;\r\n    }\r\n    if (!isFrom && this.inputValueTo == '') {\r\n      this.valueTo = undefined;\r\n      this.hasChanged();\r\n      return;\r\n    }\r\n    if (this.type === DatepickerRangeTypes.Year) {\r\n      this.handleInputChangeYear(isFrom);\r\n      return;\r\n    } else if (this.type === DatepickerRangeTypes.Month) {\r\n      this.handleInputchangeMonth(isFrom);\r\n      return;\r\n    }\r\n    try {\r\n      const result = isFrom ? formatDate(this.inputValueFrom, this.format) : formatDate(this.inputValueTo, this.format);\r\n      if (isDisabledDate(result, this.disabledDatesAux, this.minDate, this.maxDate)) {\r\n        this.error(this.feedbackText);\r\n        return;\r\n      }\r\n      if ((isFrom && result > this.valueDateTo) || (!isFrom && result < this.valueDateFrom)) {\r\n        this.error('La fecha de inicio debe ser anterior a la fecha de finalizacin.');\r\n        return;\r\n      }\r\n\r\n      this.wrongDate = false;\r\n      this.feedbackWrong = '';\r\n      this.shownDate = result;\r\n      if (isFrom) {\r\n        this.valueDateFrom = result;\r\n        this.valueFrom = formatDateToISO(result);\r\n        this.inputElTo.focus();\r\n      } else {\r\n        this.valueDateTo = result;\r\n        this.valueTo = formatDateToISO(result);\r\n        if (this.valueFrom) {\r\n          this.open = false;\r\n        }\r\n      }\r\n\r\n      this.setAriaLiveDateSelect(isFrom);\r\n      this.hasChanged();\r\n    } catch (error) {\r\n      this.error('Fecha inexistente');\r\n      this.setAriaLiveMessage('Error: Fecha inexistente o invlida');\r\n    }\r\n  };\r\n\r\n  private handleInputChangeYear = (isFrom: boolean) => {\r\n    try {\r\n      const result = isFrom ? new Date(Number(this.inputValueFrom), 0, 1) : new Date(Number(this.inputValueTo), 0, 1);\r\n\r\n      if (isDisabledDate(result, this.disabledDatesAux, this.minDate, this.maxDate)) {\r\n        this.error(this.feedbackText);\r\n        return;\r\n      }\r\n      if ((isFrom && result > this.valueDateTo) || (!isFrom && result < this.valueDateFrom)) {\r\n        this.error('La fecha de inicio debe ser anterior a la fecha de finalizacin.');\r\n        return;\r\n      }\r\n\r\n      if (isFrom) {\r\n        this.valueFrom = formatDateToISO(result);\r\n      } else {\r\n        this.valueTo = formatDateToISO(result);\r\n        if (this.valueFrom) {\r\n          this.open = false;\r\n        }\r\n      }\r\n\r\n      this.setAriaLiveDateSelect(isFrom);\r\n      this.hasChanged();\r\n      this.shownDate = result;\r\n      this.wrongDate = false;\r\n      this.feedbackWrong = '';\r\n    } catch (error) {\r\n      this.error('Fecha inexistente');\r\n      this.setAriaLiveMessage('Error: Fecha inexistente o invlida');\r\n    }\r\n  };\r\n\r\n  private handleInputchangeMonth = (isFrom: boolean) => {\r\n    const result = isFrom\r\n      ? new Date(Number(this.inputValueFrom.split('/')[1]), Number(this.inputValueFrom.split('/')[0]) - 1, 1)\r\n      : new Date(Number(this.inputValueTo.split('/')[1]), Number(this.inputValueTo.split('/')[0]) - 1, 1);\r\n\r\n    if (isDisabledDate(result, this.disabledDatesAux, this.minDate, this.maxDate)) {\r\n      this.error(this.feedbackText);\r\n      return;\r\n    }\r\n    if ((isFrom && result > this.valueDateTo) || (!isFrom && result < this.valueDateFrom)) {\r\n      this.error('La fecha de inicio debe ser anterior a la fecha de finalizacin.');\r\n      return;\r\n    }\r\n\r\n    if (isFrom) {\r\n      this.valueFrom = formatDateToISO(result);\r\n    } else {\r\n      this.valueTo = formatDateToISO(result);\r\n      if (this.valueFrom) {\r\n        this.open = false;\r\n      }\r\n    }\r\n\r\n    this.setAriaLiveDateSelect(isFrom);\r\n    this.hasChanged();\r\n    this.wrongDate = false;\r\n    this.feedbackWrong = '';\r\n    this.shownDate = result;\r\n  };\r\n\r\n  private handleKeydownOverInput = (event: KeyboardEvent) => {\r\n    if (event.code === 'ArrowDown' && !this.disabled && !this.readonly) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.setAriaLiveMessage('Calendario abierto. Use las teclas de flecha para navegar.');\r\n      if (!this.open) {\r\n        this.open = true;\r\n      } else {\r\n        const overlay = this.element.shadowRoot?.querySelector('.ath-datepicker-range-overlay');\r\n        if (!overlay) return;\r\n        const focusableElements = Array.from(overlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')) as HTMLElement[];\r\n        focusableElements[0].focus();\r\n      }\r\n    } else if (event.code === 'Enter') {\r\n      this.submitOnEnter && this.internals.form && this.internals.form.requestSubmit();\r\n    } else if (event.code === 'Tab') {\r\n      if (event.shiftKey) {\r\n        this.open = false;\r\n      }\r\n      if (!this.open && ((this.focusState !== DatepickerRangeFocusState.Start && event.shiftKey) || (this.focusState === DatepickerRangeFocusState.End && !event.shiftKey))) {\r\n        this.focusState = DatepickerRangeFocusState.None;\r\n        this.athBlur.emit();\r\n      }\r\n    }\r\n  };\r\n\r\n  private handleKeyDownOverButton = (key: KeyboardEvent, type: string) => {\r\n    let variation = 0;\r\n    switch (key.code) {\r\n      case 'ArrowDown':\r\n      case 'ArrowRight':\r\n        key.stopPropagation();\r\n        key.preventDefault();\r\n        variation = 1;\r\n        break;\r\n\r\n      case 'ArrowUp':\r\n      case 'ArrowLeft':\r\n        key.stopPropagation();\r\n        key.preventDefault();\r\n        variation = -1;\r\n        break;\r\n      case 'PageUp':\r\n        key.stopPropagation();\r\n        key.preventDefault();\r\n        variation = -12;\r\n        break;\r\n      case 'PageDown':\r\n        key.stopPropagation();\r\n        key.preventDefault();\r\n        variation = 12;\r\n        break;\r\n    }\r\n    if (variation !== 0) {\r\n      this.hasFocus = false;\r\n      switch (type) {\r\n        case 'year':\r\n          this.shownDate = getDateBetweenLimits(addYears(this.shownDate, variation), this.minDate, this.maxDate);\r\n          break;\r\n        case 'month':\r\n          this.shownDate = getDateBetweenLimits(addMonths(this.shownDate, variation), this.minDate, this.maxDate);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  private handleOnExit = () => {\r\n    this.hasFocus = false;\r\n    this.returnInputFocus = true;\r\n    this.setFocus();\r\n    this.open = false;\r\n    this.shownDate = this.valueDateFrom ?? new Date();\r\n    this.setAriaLiveMessage('Calendario cerrado, foco devuelto al campo de entrada');\r\n  };\r\n\r\n  private setAriaLiveMessage = (message: string) => {\r\n    const duration = 2000;\r\n    if (this.ariaLiveTimeout) {\r\n      clearTimeout(this.ariaLiveTimeout);\r\n      this.ariaLiveTimeout = null;\r\n    }\r\n\r\n    this.ariaLiveMessage = message;\r\n\r\n    this.ariaLiveTimeout = setTimeout(() => {\r\n      this.ariaLiveMessage = '';\r\n      this.ariaLiveTimeout = null;\r\n    }, duration);\r\n  };\r\n\r\n  setAriaLiveDateSelect = (isFrom: boolean) => {\r\n    switch (this.type) {\r\n      case DatepickerRangeTypes.Year:\r\n        if (isFrom) {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateTo === undefined\r\n              ? `Ao de inicio seleccionado: ${formatDateToYear(this.valueDateFrom)}. Seleccione ao de fin:`\r\n              : `Rango seleccionado: ${formatDateToYear(this.valueDateFrom)}-${formatDateToYear(this.valueDateTo)}. Seleccione otro ao si desea modificar la fecha de fin`,\r\n          );\r\n        } else {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateFrom === undefined\r\n              ? `Ao de inicio sin seleccionar. Ao de fin seleccionado: ${formatDateToYear(this.valueDateTo)}`\r\n              : `Rango seleccionado: ${formatDateToYear(this.valueDateFrom)}-${formatDateToYear(this.valueDateTo)}.`,\r\n          );\r\n        }\r\n        return;\r\n      case DatepickerRangeTypes.Month:\r\n        if (isFrom) {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateTo === undefined\r\n              ? `Mes de inicio seleccionado: ${formatDateToMonth(this.valueDateFrom)}. Seleccione mes de fin:`\r\n              : `Rango seleccionado: ${formatDateToMonth(this.valueDateFrom)}-${formatDateToMonth(this.valueDateTo)}. Seleccione otro mes si desea modificar la fecha de fin`,\r\n          );\r\n        } else {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateFrom === undefined\r\n              ? `Mes de inicio sin seleccionar. Mes de fin seleccionado: ${formatDateToMonth(this.valueDateTo)}`\r\n              : `Rango seleccionado: ${formatDateToMonth(this.valueDateFrom)}-${formatDateToMonth(this.valueDateTo)}.`,\r\n          );\r\n        }\r\n        return;\r\n      default:\r\n        if (isFrom) {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateTo === undefined\r\n              ? `Fecha de inicio seleccionada: ${formatDateToString(this.valueDateFrom, this.format)}. Seleccione la fecha de fin:`\r\n              : `Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}. Seleccione otro da si desea modificar la fecha de fin`,\r\n          );\r\n        } else {\r\n          this.setAriaLiveMessage(\r\n            this.valueDateFrom === undefined\r\n              ? `Fecha de inicio sin seleccionar. Fecha de fin seleccionada: ${formatDateToString(this.valueDateTo, this.format)}`\r\n              : `Rango seleccionado: ${formatDateToString(this.valueDateFrom, this.format)}-${formatDateToString(this.valueDateTo, this.format)}.`,\r\n          );\r\n        }\r\n    }\r\n  };\r\n\r\n  private getLabelProps = (): FcInputLabelType => ({\r\n    htmlForId: this.datepickerRangeId,\r\n    id: this.labelId,\r\n    label: this.label,\r\n    required: this.required,\r\n    showRequired: !this.hideRequired,\r\n    tooltipText: this.tooltipText,\r\n    tooltipWidth: 200,\r\n  });\r\n\r\n  private getMaxLength = (): number => {\r\n    switch (this.type) {\r\n      case DatepickerRangeTypes.Year:\r\n        return 4;\r\n      case DatepickerRangeTypes.Month:\r\n        return 7; // Format: MM/YYYY\r\n      default:\r\n        return this.format.length;\r\n    }\r\n  };\r\n\r\n  private getInputFromProps = (): FcInputElementType => ({\r\n    inputId: this.inputFromId,\r\n    icon: 'calendar',\r\n    iconPosition: 'right',\r\n    type: this.type === DatepickerRangeTypes.Year ? 'number' : 'text',\r\n    autocomplete: 'off',\r\n    name: this.name,\r\n    pattern: '',\r\n    placeholder: this.placeholderStart,\r\n    value: this.inputValueFrom,\r\n    required: this.required || this.requiredStart,\r\n    disabled: this.disabled,\r\n    readonly: !this.disabled && this.readonly,\r\n    maxlength: this.getMaxLength(),\r\n    inputAriaLabel: this.inputAriaLabelStart,\r\n    hasButton: false,\r\n    tabindex: '0',\r\n    size: this.size,\r\n    role: 'combobox',\r\n    ariaExpanded: this.open,\r\n    ariaControls: this.open ? this.datepickerRangePopupId : undefined,\r\n    ariaHaspopup: 'grid',\r\n    helperText: this.helperText,\r\n    helperId: this.datepickerRangeHintId,\r\n    helperTextSROnly: getSROnlyHelperText(),\r\n    helperIdSROnly: this.datepickerRangeHintSROnlyId,\r\n    feedback: this.wrongDate ? DatepickerRangeFeedbacks.Error : this.feedback,\r\n    feedbackText: this.wrongDate ? this.feedbackWrong : this.feedbackText,\r\n    feedbackId: this.datepickerRangeFeedbackId,\r\n    onKeyDown: e => this.handleKeydownOverInput(e),\r\n    onInput: e => this.handleInput(e, true),\r\n    onFocus: () => this.handleInputFocus(true),\r\n    onBlur: () => this.handleInputBlur(),\r\n    onChange: () => this.handleInputChange(true),\r\n    onInputRef: (el: HTMLInputElement) => (this.inputElFrom = el),\r\n  });\r\n\r\n  private getInputToProps = (): FcInputElementType => ({\r\n    inputId: this.inputToId,\r\n    icon: 'calendar',\r\n    iconPosition: 'right',\r\n    type: this.type === DatepickerRangeTypes.Year ? 'number' : 'text',\r\n    autocomplete: 'off',\r\n    name: this.name,\r\n    pattern: '',\r\n    placeholder: this.placeholderEnd,\r\n    value: this.inputValueTo,\r\n    required: this.required || this.requiredEnd,\r\n    disabled: this.disabled,\r\n    readonly: !this.disabled && this.readonly,\r\n    maxlength: this.getMaxLength(),\r\n    inputAriaLabel: this.inputAriaLabelEnd,\r\n    hasButton: false,\r\n    tabindex: '0',\r\n    size: this.size,\r\n    role: 'combobox',\r\n    ariaExpanded: this.open,\r\n    ariaControls: this.open ? this.datepickerRangePopupId : undefined,\r\n    ariaHaspopup: 'grid',\r\n    helperText: this.helperText,\r\n    helperId: this.datepickerRangeHintId,\r\n    helperTextSROnly: getSROnlyHelperText(),\r\n    helperIdSROnly: this.datepickerRangeHintSROnlyId,\r\n    feedback: this.wrongDate ? DatepickerRangeFeedbacks.Error : this.feedback,\r\n    feedbackText: this.wrongDate ? this.feedbackWrong : this.feedbackText,\r\n    feedbackId: this.datepickerRangeFeedbackId,\r\n    onKeyDown: e => this.handleKeydownOverInput(e),\r\n    onInput: e => this.handleInput(e, false),\r\n    onFocus: () => this.handleInputFocus(false),\r\n    onBlur: () => this.handleInputBlur(),\r\n    onChange: () => this.handleInputChange(false),\r\n    onInputRef: (el: HTMLInputElement) => (this.inputElTo = el),\r\n  });\r\n\r\n  private getHelperTextProps = (): FcInputHelperTextType => {\r\n    return {\r\n      id: this.datepickerRangeHintId,\r\n      text: !!this.helperText ? this.helperText.trim() : '',\r\n    };\r\n  };\r\n\r\n  private getFeedbackProps = (): FcInputFeedbackType => ({\r\n    id: this.datepickerRangeFeedbackId,\r\n    type: this.wrongDate ? DatepickerRangeFeedbacks.Error : this.feedback,\r\n    text: this.wrongDate ? this.feedbackWrong : this.feedbackText,\r\n  });\r\n\r\n  private getDialogClassNames = () => ({\r\n    'ath-datepicker-range-overlay': true,\r\n    [`size-${this.size}${!!this.label ? '__label' : ''}`]: true,\r\n    'is-active': this.open,\r\n  });\r\n\r\n  private getInputClassNames = (isFrom: boolean) => ({\r\n    'ath-input': true,\r\n    'ath-focused-input': isFrom ? this.focusState === DatepickerRangeFocusState.Start : this.focusState === DatepickerRangeFocusState.End,\r\n  });\r\n\r\n  private getPrevButtonAriaLabel = (): string => {\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        return 'Mes anterior';\r\n      case DatepickerRangeTypes.Month:\r\n        return 'Ao anterior';\r\n      case DatepickerRangeTypes.Year:\r\n        return 'Pgina de aos anterior';\r\n      default:\r\n        return 'Mes anterior';\r\n    }\r\n  };\r\n\r\n  private getNextButtonAriaLabel = (): string => {\r\n    switch (this.showType) {\r\n      case DatepickerRangeTypes.Date:\r\n        return 'Mes siguiente';\r\n      case DatepickerRangeTypes.Month:\r\n        return 'Ao siguiente';\r\n      case DatepickerRangeTypes.Year:\r\n        return 'Pgina de aos siguiente';\r\n      default:\r\n        return 'Mes siguiente';\r\n    }\r\n  };\r\n\r\n  private setInputValue(value: string) {\r\n    if (this.internals && 'setFormValue' in this.internals) {\r\n      this.internals.setFormValue(value);\r\n      this.internals.checkValidity();\r\n    }\r\n  }\r\n\r\n  private trapFocus = (e: KeyboardEvent) => {\r\n    if (!this.open || e.key !== 'Tab') return;\r\n\r\n    const overlay = this.element.shadowRoot?.querySelector('.ath-datepicker-range-overlay');\r\n    if (!overlay) return;\r\n\r\n    const focusableElements = Array.from(overlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')) as HTMLElement[];\r\n\r\n    const firstElement = focusableElements[0]['disabled'] ? focusableElements[1] : focusableElements[0];\r\n    const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n    if (e.shiftKey) {\r\n      // Tab hacia atrs\r\n      if (this.element.shadowRoot.activeElement === firstElement) {\r\n        e.preventDefault();\r\n        lastElement?.focus();\r\n      }\r\n    } else {\r\n      // Tab hacia adelante\r\n      if (this.element.shadowRoot.activeElement === lastElement || this.element.shadowRoot.activeElement.nodeName === 'INPUT') {\r\n        e.preventDefault();\r\n        firstElement?.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const labelProps = this.getLabelProps();\r\n    const helperTextProps = this.getHelperTextProps();\r\n    const feedbackProps = this.getFeedbackProps();\r\n    const inputFromProps = this.getInputFromProps();\r\n    const inputToProps = this.getInputToProps();\r\n\r\n    return (\r\n      <Host>\r\n        <fieldset\r\n          role=\"group\"\r\n          id={this.datepickerRangeId}\r\n          name={this.name}\r\n          aria-labelledby={!!this.label ? this.labelId : undefined}\r\n          aria-invalid={this.wrongDate || this.feedback === DatepickerRangeFeedbacks.Error ? 'true' : undefined}\r\n          class=\"ath-datepicker-range\"\r\n          onKeyDown={e => {\r\n            if (e.key === 'Escape') {\r\n              this.returnInputFocus = true;\r\n              this.hasFocus = false;\r\n              if (this.focusState === DatepickerRangeFocusState.Start) {\r\n                this.setFocus();\r\n              } else if (this.focusState === DatepickerRangeFocusState.End) {\r\n                this.setFocusEnd();\r\n              }\r\n              this.open = false;\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n            } else {\r\n              this.trapFocus(e);\r\n            }\r\n          }}\r\n        >\r\n          <div class=\"wrapper\">\r\n            {!!this.label && <FcInputLabel {...labelProps}></FcInputLabel>}\r\n            <div class=\"ath-datepicker-range__input-group\">\r\n              <div\r\n                class={this.getInputClassNames(true)}\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  this.setFocus();\r\n                }}\r\n              >\r\n                <FcInputLabel\r\n                  htmlForId={this.inputFromId}\r\n                  label={this.labelStart ?? 'Desde'}\r\n                  required={this.required || this.requiredStart}\r\n                  showRequired={!this.hideRequired}\r\n                ></FcInputLabel>\r\n\r\n                <FcInputElement {...inputFromProps} />\r\n              </div>\r\n              <div\r\n                class={this.getInputClassNames(false)}\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  this.setFocusEnd();\r\n                }}\r\n              >\r\n                <FcInputLabel\r\n                  htmlForId={this.inputToId}\r\n                  label={this.labelEnd ?? 'Hasta'}\r\n                  required={this.required || this.requiredEnd}\r\n                  showRequired={!this.hideRequired}\r\n                ></FcInputLabel>\r\n                <FcInputElement {...inputToProps} />\r\n              </div>\r\n            </div>\r\n            {!!this.helperText && !this.open && <FcInputHelperText {...helperTextProps}></FcInputHelperText>}\r\n\r\n            <div class=\"sr-only\" id={this.datepickerRangeHintSROnlyId}>\r\n              <span>{getSROnlyHelperText()}</span>\r\n            </div>\r\n\r\n            {((this.feedback !== DatepickerRangeFeedbacks.None && !this.disabled && !this.readonly && !this.open) || this.wrongDate) && (\r\n              <FcInputFeedback {...feedbackProps}></FcInputFeedback>\r\n            )}\r\n          </div>\r\n\r\n          <div aria-live=\"polite\" aria-atomic=\"true\" class=\"sr-only\" role=\"status\">\r\n            {this.ariaLiveMessage}\r\n          </div>\r\n\r\n          {this.renderOverlay && (\r\n            <div class={this.getDialogClassNames()} id={this.datepickerRangePopupId}>\r\n              <div class=\"ath-datepicker-range-calendar-date\">\r\n                <div class=\"ath-datepicker-range-calendar-date__header\">\r\n                  <FcButtonComp\r\n                    size=\"sm\"\r\n                    color=\"default\"\r\n                    iconPosition={ButtonIconPosition.IconOnly}\r\n                    icon=\"chevron_left\"\r\n                    onClick={this.handlePrevButton}\r\n                    disabled={this.isPrevButtonDisabled()}\r\n                    buttonAriaLabel={this.getPrevButtonAriaLabel()}\r\n                  ></FcButtonComp>\r\n                  <div class=\"ath-datepicker-range-calendar-date__header__date\">\r\n                    {this.showType !== 'year' && (\r\n                      <ath-button\r\n                        clear={true}\r\n                        size=\"sm\"\r\n                        onAthClick={this.handleClickMonth}\r\n                        onKeyDown={e => this.handleKeyDownOverButton(e, 'month')}\r\n                        aria-label={`Cambiar a vista de seleccin de mes. Mes seleccionado: ${this.shownDate ? getMonthName(this.shownDate) : this.valueDateFrom ? getMonthName(this.valueDateFrom) : getMonthName(new Date())}`}\r\n                      >\r\n                        {this.shownDate ? getMonthName(this.shownDate) : this.valueDateFrom ? getMonthName(this.valueDateFrom) : getMonthName(new Date())}\r\n                      </ath-button>\r\n                    )}\r\n                    <ath-button\r\n                      clear={true}\r\n                      size=\"sm\"\r\n                      onAthClick={this.handleClickYear}\r\n                      onKeyDown={e => this.handleKeyDownOverButton(e, 'year')}\r\n                      aria-label={`Cambiar a vista de seleccin de ao. Ao seleccionado: ${this.shownDate ? this.shownDate.getFullYear() : this.valueDateFrom ? this.valueDateFrom.getFullYear() : new Date().getFullYear()}`}\r\n                    >\r\n                      {this.shownDate ? this.shownDate.getFullYear() : this.valueDateFrom ? this.valueDateFrom.getFullYear() : new Date().getFullYear()}\r\n                    </ath-button>\r\n                  </div>\r\n                  <FcButtonComp\r\n                    size=\"sm\"\r\n                    color=\"default\"\r\n                    iconPosition={ButtonIconPosition.IconOnly}\r\n                    icon=\"chevron_right\"\r\n                    disabled={this.isNextButtonDisabled()}\r\n                    onClick={this.handleNextButton}\r\n                    buttonAriaLabel={this.getNextButtonAriaLabel()}\r\n                  ></FcButtonComp>\r\n                </div>\r\n                {this.showType === 'date' && (\r\n                  <div class=\"ath-datepicker-range-calendar-date__date\">\r\n                    <FcCalendar\r\n                      shownDate={this.shownDate || this.valueDateFrom || new Date()}\r\n                      selectedRangeStart={this.valueDateFrom}\r\n                      selectedRangeEnd={this.valueDateTo}\r\n                      hasFocus={this.hasFocus}\r\n                      onDateSelect={this.handleDaySelect}\r\n                      currentDate={new Date()}\r\n                      color={this.color}\r\n                      disabledDate={this.disabledDatesAux}\r\n                      highlightedDate={this.highlightedDatesAux}\r\n                      highlightedWeekends={this.highlightedWeekends}\r\n                      minDate={this.minDate}\r\n                      maxDate={this.maxDate}\r\n                      onChangeShownDate={(date: Date) => {\r\n                        this.shownDate = date;\r\n                        this.hasFocus = true;\r\n                      }}\r\n                      onExit={this.handleOnExit}\r\n                    ></FcCalendar>\r\n                  </div>\r\n                )}\r\n                {this.showType === 'month' && (\r\n                  <div class=\"ath-datepicker-range-calendar-date__month\">\r\n                    <FcCalendarMonth\r\n                      shownMonth={this.shownDate || this.valueDateFrom || new Date()}\r\n                      selectedRangeStart={this.valueDateFrom}\r\n                      selectedRangeEnd={this.valueDateTo}\r\n                      hasFocus={this.hasFocus}\r\n                      onMonthSelect={this.handleMonthSelect}\r\n                      currentMonth={new Date()}\r\n                      color={this.color}\r\n                      disabledDates={this.disabledDatesAux}\r\n                      highlightedDates={this.highlightedDatesAux}\r\n                      minMonth={this.minDate}\r\n                      maxMonth={this.maxDate}\r\n                      onChangeShownMonth={(date: Date) => {\r\n                        this.shownDate = date;\r\n                        this.hasFocus = true;\r\n                      }}\r\n                      onExit={this.handleOnExit}\r\n                    ></FcCalendarMonth>\r\n                  </div>\r\n                )}\r\n                {this.showType === 'year' && (\r\n                  <div class=\"ath-datepicker-range-calendar-date__year\">\r\n                    <FcCalendarYear\r\n                      shownYear={this.shownDate || this.valueDateFrom || new Date()}\r\n                      selectedRangeStart={this.valueDateFrom}\r\n                      selectedRangeEnd={this.valueDateTo}\r\n                      hasFocus={this.hasFocus}\r\n                      onYearSelect={this.handleYearSelect}\r\n                      currentYear={new Date()}\r\n                      color={this.color}\r\n                      disabledDates={this.disabledDatesAux}\r\n                      highlightedDates={this.highlightedDatesAux}\r\n                      minYear={this.minDate}\r\n                      maxYear={this.maxDate}\r\n                      onChangeShownYear={(date: Date) => {\r\n                        this.shownDate = date;\r\n                        this.hasFocus = true;\r\n                      }}\r\n                      onExit={this.handleOnExit}\r\n                    ></FcCalendarYear>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {!this.hidePanel && (\r\n                <div class=\"ath-datepicker-range-calendar-date__panel\">\r\n                  <div class=\"ath-datepicker-range-calendar-date__panel-shortcuts\">\r\n                    <ath-button-link onAthClick={this.today} aria-label=\"Ir a hoy\">\r\n                      Hoy\r\n                    </ath-button-link>\r\n                    {this.type === DatepickerRangeTypes.Date && (\r\n                      <ath-button-link disabled={this.isLastWeekDisabled()} onAthClick={this.lastWeek} aria-label=\"Seleccionar la ltima semana\">\r\n                        ltima semana\r\n                      </ath-button-link>\r\n                    )}\r\n                    {this.type !== DatepickerRangeTypes.Year && (\r\n                      <ath-button-link disabled={this.isLastMonthDisabled()} onAthClick={this.lastMonth} aria-label=\"Seleccionar el ltimo mes\">\r\n                        ltimo mes\r\n                      </ath-button-link>\r\n                    )}\r\n                    {this.type !== DatepickerRangeTypes.Year && (\r\n                      <ath-button-link disabled={this.isLastQuarterDisabled()} onAthClick={this.lastQuarter} aria-label=\"Seleccionar el ltimo trimestre\">\r\n                        ltimo trimestre\r\n                      </ath-button-link>\r\n                    )}\r\n                    <ath-button-link disabled={this.isLastYearDisabled()} onAthClick={this.lastYear} aria-label=\"Seleccionar el ltimo ao\">\r\n                      ltimo ao\r\n                    </ath-button-link>\r\n                  </div>\r\n                  <ath-button-link onAthClick={this.reset}>Restablecer</ath-button-link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </fieldset>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}