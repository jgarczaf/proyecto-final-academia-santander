{"version":3,"file":"radio-button.js","sourceRoot":"","sources":["../../../src/components/radio-button/radio-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentInterface, EventEmitter, Host, Prop, h, Event, Method, State } from '@stencil/core';\r\nimport { RadioButtonChangeDetail } from './radio-button.model';\r\nimport { FcInputLabel, FcInputLabelType } from '../../sharedfc/input/index';\r\n\r\nlet radioButtonSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-radio-button',\r\n  styleUrls: ['radio-button.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthRadioButton implements ComponentInterface {\r\n  private radioButtonId = `radio-button-${++radioButtonSequence}`;\r\n\r\n  /**\r\n   * Indicates if it is checked by default\r\n   */\r\n  @Prop({ mutable: true }) checked = false;\r\n\r\n  /**\r\n   * Indicates if it is disabled\r\n   */\r\n  @Prop() disabled = false;\r\n\r\n  /**\r\n   * Label text\r\n   */\r\n  @Prop() label: string;\r\n\r\n  /**\r\n   * Indicates the name of the radioButton\r\n   */\r\n  @Prop() name: string;\r\n\r\n  /**\r\n   * Indicates if it is read-only\r\n   */\r\n  @Prop() readonly = false;\r\n\r\n  /**\r\n   * Indicates the value of the radioButton\r\n   */\r\n  @Prop() value: string;\r\n\r\n  // ACCESIBILIDAD\r\n  /**\r\n   * Accessible text (aria-label)\r\n   */\r\n  @Prop() ariaLabel: string | null;\r\n\r\n  // EVENTOS\r\n\r\n  /**\r\n   * Emitted when the radio-button receives focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the radio-button loses focus\r\n   */\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when there is a change in the input state\r\n   */\r\n  @Event() athChange: EventEmitter<RadioButtonChangeDetail>;\r\n\r\n  @Method() async unCheck() {\r\n    this.checked = false;\r\n  }\r\n\r\n  @Method() async setFocus() {\r\n    this.elRadioButton.focus();\r\n    this.handleClick();\r\n  }\r\n\r\n  @Method() async setTabindex(tabIndex) {\r\n    this.tabIndex = tabIndex;\r\n  }\r\n\r\n  private elRadioButton: HTMLElement;\r\n  @State() tabIndex;\r\n\r\n  componentWillLoad(): Promise<void> | void {\r\n    this.tabIndex = this.checked ? 0 : -1;\r\n  }\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleBlur = () => {\r\n    this.athBlur.emit();\r\n  };\r\n\r\n  private handleClick = () => {\r\n    if (!this.disabled && !this.readonly && !this.checked) {\r\n      this.checked = true;\r\n      this.tabIndex = 0;\r\n      this.handleChange();\r\n    }\r\n  };\r\n\r\n  private handleChange = () => {\r\n    const detail: RadioButtonChangeDetail = {\r\n      checked: this.checked,\r\n      value: this.value,\r\n    };\r\n    this.athChange.emit(detail);\r\n  };\r\n\r\n  private handleKeyDown(event: KeyboardEvent) {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      event.preventDefault();\r\n      this.handleClick();\r\n    }\r\n  }\r\n\r\n  private getLabelProps = (): FcInputLabelType => ({\r\n    htmlForId: this.radioButtonId,\r\n    label: this.label,\r\n  });\r\n\r\n  private getInputClassNames = () => ({\r\n    'ath-radiobutton': true,\r\n    'ath-radiobutton--read-only': this.readonly && !this.disabled,\r\n    'ath-radiobutton--checked': this.checked,\r\n    'ath-radiobutton--disabled': this.disabled,\r\n  });\r\n\r\n  private getAriaAttributes() {\r\n    return {\r\n      'role': 'radio',\r\n      'aria-disabled': this.disabled ? 'true' : 'false',\r\n      'aria-label': this.ariaLabel ? this.ariaLabel : this.label,\r\n      'aria-checked': this.checked ? 'true' : 'false',\r\n      'ref': (el: HTMLElement) => (this.elRadioButton = el),\r\n    };\r\n  }\r\n\r\n  private getActionAttributes() {\r\n    return {\r\n      onFocus: this.handleFocus,\r\n      onBlur: this.handleBlur,\r\n      onClick: this.handleClick,\r\n      onKeyDown: event => this.handleKeyDown(event as KeyboardEvent),\r\n    };\r\n  }\r\n\r\n  private renderRadio = () => {\r\n    const ariaAttributes = this.getAriaAttributes();\r\n    const actionAttributes = this.getActionAttributes();\r\n    const labelProps = this.getLabelProps();\r\n\r\n    return (\r\n      <div class={this.getInputClassNames()}>\r\n        <span tabindex={this.disabled ? -1 : this.tabIndex} {...ariaAttributes} class=\"ath-radiobutton-item\" id={this.radioButtonId} {...actionAttributes}></span>\r\n        {!!this.label && (\r\n          <span onClick={this.handleClick}>\r\n            <FcInputLabel {...labelProps}></FcInputLabel>\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return <Host> {this.renderRadio()} </Host>;\r\n  }\r\n}\r\n"]}