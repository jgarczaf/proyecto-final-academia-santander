{"version":3,"file":"button-expandable.js","sourceRoot":"","sources":["../../../src/components/button-expandable/button-expandable.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, h, Element, Listen, Event, EventEmitter, Prop, State, ComponentInterface, Method } from '@stencil/core';\r\nimport { IconType, transformIconSize } from '@utils/helper';\r\nimport { ButtonExpandableSizesType, ButtonExpandableSizesTypes } from './button-expandable.model';\r\n\r\n@Component({\r\n  tag: 'ath-button-expandable',\r\n  styleUrl: 'button-expandable.scss',\r\n  scoped: true,\r\n})\r\nexport class AthButtonExpandable implements ComponentInterface {\r\n  @Element() el: HTMLElement | null;\r\n\r\n  /**\r\n   * The size of the buton\r\n   */\r\n  @Prop({ reflect: true }) size: ButtonExpandableSizesType = ButtonExpandableSizesTypes.Large;\r\n\r\n  /**\r\n   * The code of the button's icon (used with iconPosition)\r\n   */\r\n  @Prop() icon: string;\r\n\r\n  /**\r\n   * The button is disabled\r\n   */\r\n  @Prop({ reflect: true }) disabled = false;\r\n\r\n  @State() isExpanded = false;\r\n\r\n  @Event() athToggleCollapse: EventEmitter<string>;\r\n\r\n  @Prop() collapseTarget: string;\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    if (!this.disabled) {\r\n      this.el.focus();\r\n    }\r\n  }\r\n\r\n  @Listen('athCollapseState', { target: 'window' })\r\n  handleCollapseStateChange(event: CustomEvent<{ id: string; isExpanded: boolean }>) {\r\n    if (event.detail.id === this.collapseTarget) {\r\n      this.isExpanded = event.detail.isExpanded;\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    if (['Enter', 'Space'].includes(ev.code) && !this.disabled) {\r\n      ev.preventDefault();\r\n      this.handleCollapse();\r\n    }\r\n  }\r\n\r\n  private handleCollapse = () => {\r\n    this.isExpanded = !this.isExpanded;\r\n    this.athToggleCollapse.emit(this.collapseTarget);\r\n  };\r\n\r\n  private getHostClassNames = () => ({\r\n    'ath-button-expandable': true,\r\n  });\r\n\r\n  private getSpanClassNames = () => ({\r\n    'ath-button-expandable--container': true,\r\n    [`ath-button-expandable--${this.size}`]: !!this.size,\r\n    [`ath-button-expandable--disabled`]: this.disabled,\r\n  });\r\n\r\n  private getChevronClasses = () => ({\r\n    'ath-button-expandable--chevron': true,\r\n    [`ath-button-expandable--chevron-rotate`]: !this.isExpanded,\r\n  });\r\n\r\n  private getAttributes = () => ({\r\n    'role': 'button',\r\n    'tabindex': this.disabled ? '-1' : this.el.getAttribute('tabindex') === '-1' ? '-1' : '0',\r\n    'aria-controls': !this.disabled && this.collapseTarget ? this.collapseTarget : undefined,\r\n    'aria-expanded': !this.disabled && this.collapseTarget ? `${this.isExpanded}` : undefined,\r\n    'aria-disabled': this.disabled ? 'true' : 'false',\r\n    'onClick': this.disabled ? undefined : this.handleCollapse,\r\n    'onMouseDown': e => {\r\n      if (this.disabled) e.preventDefault();\r\n    },\r\n  });\r\n\r\n  private renderIcon = icon => {\r\n    return <ath-icon icon={icon} size={transformIconSize(IconType.ButtonExpandable, this.size)} color={this.disabled ? 'disabled' : 'default'}></ath-icon>;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host class={this.getHostClassNames()} {...this.getAttributes()}>\r\n        <span class={this.getSpanClassNames()}>\r\n          {this.icon && this.renderIcon(this.icon)}\r\n          <span class=\"ath-button-expandable--text\">\r\n            <slot></slot>\r\n          </span>\r\n          <div class={this.getChevronClasses()}>{this.renderIcon('chevron_up')}</div>\r\n        </span>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}