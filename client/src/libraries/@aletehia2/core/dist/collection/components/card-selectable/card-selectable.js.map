{"version":3,"file":"card-selectable.js","sourceRoot":"","sources":["../../../src/components/card-selectable/card-selectable.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAsB,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAgB,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,eAAe,CAAC;AAC1H,OAAO,EAAE,kBAAkB,EAA4C,kBAAkB,EAAE,MAAM,yBAAyB,CAAC;AAE3H,IAAI,sBAAsB,GAAG,CAAC,CAAC;AAO/B,MAAM,OAAO,iBAAiB;IACpB,MAAM,GAAG,mBAAmB,EAAE,sBAAsB,EAAE,CAAC;IACvD,UAAU,CAAC;IACX,aAAa,CAAC;IACd,KAAK,CAAC;IAEH,EAAE,CAA+B;IAE5C;;QAEI;IACI,IAAI,GAAwB,kBAAkB,CAAC,KAAK,CAAC;IAE7D;;QAEI;IACI,WAAW,CAAS;IAE5B;;QAEI;IACI,QAAQ,CAAS;IAEzB;;QAEI;IACI,QAAQ,CAAS;IAEzB;;QAEI;IACI,IAAI,GAAwB,kBAAkB,CAAC,MAAM,CAAC;IAE9D;;QAEI;IACqB,QAAQ,GAAG,KAAK,CAAC;IAE1C;;QAEI;IACI,QAAQ,GAAG,KAAK,CAAC;IAEzB;;QAEI;IACI,GAAG,CAAS;IAEX,SAAS,CAAoB;IAC7B,QAAQ,CAAqB;IAC7B,OAAO,CAAqB;IAE5B,cAAc,GAAG,KAAK,CAAC;IAGhC,KAAK,CAAC,MAAM,CAAC,SAAkB;QAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,SAAS;gBAAE,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;QAClC,CAAC;IACH,CAAC;IAGD,KAAK,CAAC,QAAQ;QACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;QACjB,CAAC;IACH,CAAC;IAEO,WAAW,GAAG,GAAG,EAAE;QACzB,IAAI,IAAI,CAAC,QAAQ;YAAE,OAAO;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,KAAK,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QAChF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,KAAK,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC,CAAC;IAEM,WAAW,GAAG,GAAG,EAAE;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC,CAAC;IAEM,UAAU,GAAG,GAAG,EAAE;QACxB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC,CAAC;IAEM,aAAa,GAAG,CAAC,EAAiB,EAAE,EAAE;QAC5C,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;YAChB,KAAK,OAAO,CAAC;YACb,KAAK,OAAO;gBACV,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,MAAM;YACR;gBACE,MAAM;QACV,CAAC;IACH,CAAC,CAAC;IAEM,iBAAiB,GAAG,GAAG,EAAE,CAAC,CAAC;QACjC,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU;QACpE,QAAQ,EAAE,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;QAC5D,OAAO,EAAE,IAAI,CAAC,WAAW;QACzB,MAAM,EAAE,IAAI,CAAC,UAAU;QACvB,OAAO,EAAE,IAAI,CAAC,WAAW;QACzB,SAAS,EAAE,IAAI,CAAC,aAAa;KAC9B,CAAC,CAAC;IAEK,iBAAiB,GAAG,GAA+B,EAAE;QAC3D,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/E,OAAO;YACL,iBAAiB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;YACnE,kBAAkB,EAAE,WAAW,IAAI,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS;YAC/D,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS;YACnD,cAAc,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;SACjD,CAAC;IACJ,CAAC,CAAC;IAEM,kBAAkB,GAAG,GAAG,EAAE,CAAC,CAAC;QAClC,2BAA2B,EAAE,IAAI;KAClC,CAAC,CAAC;IAEK,iBAAiB,GAAG,GAAG,EAAE,CAAC,CAAC;QACjC,qBAAqB,EAAE,IAAI;QAC3B,+BAA+B,EAAE,IAAI,CAAC,QAAQ;QAC9C,CAAC,wBAAwB,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI;QAC3C,CAAC,wBAAwB,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI;QAC3C,+BAA+B,EAAE,IAAI,CAAC,QAAQ;QAC9C,0BAA0B,EAAE,IAAI,CAAC,QAAQ;KAC1C,CAAC,CAAC;IAEH,iBAAiB;QACf,IAAI,IAAI,CAAC,WAAW;YAAE,IAAI,CAAC,UAAU,GAAG,GAAG,IAAI,CAAC,MAAM,WAAW,CAAC;QAClE,IAAI,IAAI,CAAC,QAAQ;YAAE,IAAI,CAAC,aAAa,GAAG,GAAG,IAAI,CAAC,MAAM,cAAc,CAAC;QACrE,IAAI,IAAI,CAAC,GAAG;YAAE,IAAI,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,MAAM,MAAM,CAAC;IAClD,CAAC;IAEO,UAAU,GAAG,GAAG,EAAE;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC;QAC7E,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,OAAO,gBAAU,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAC,SAAS,GAAY,CAAC;IACvE,CAAC,CAAC;IAEF,MAAM;QACJ,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;QACxD,OAAO,CACL,EAAC,IAAI,wDAAK,IAAI,CAAC,iBAAiB,EAAE,KAAM,IAAI,CAAC,iBAAiB,EAAE;YAC9D,4DAAK,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE;gBAClC,4DAAK,KAAK,EAAC,6BAA6B;oBACtC,4DAAK,KAAK,EAAC,4BAA4B;wBACrC,4DAAK,KAAK,EAAC,+BAA+B;4BACvC,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,gEAAS,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,EAAC,IAAI,EAAC,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,GAAG,GAAY;4BACnG,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,6DAAM,KAAK,EAAC,8BAA8B,IAAE,IAAI,CAAC,QAAQ,CAAQ;4BACrF,4DAAK,KAAK,EAAC,6BAA6B;gCACtC,6DAAM,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,KAAK,EAAC,8BAA8B,IAC5D,IAAI,CAAC,WAAW,CACZ;gCACP,6DAAM,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,EAAC,iCAAiC,IAClE,IAAI,CAAC,QAAQ,CACT,CACH,CACF;wBACN,4DAAK,KAAK,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE,CAAO,CAC7E;oBACN,6DAAM,IAAI,EAAC,MAAM,GAAQ,CACrB,CACF,CACD,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, ComponentInterface, Host, Prop, h, Event, EventEmitter, State, Method, Element } from '@stencil/core';\r\nimport { CardSelectableSize, CardSelectableSizes, CardSelectableTypes, CardSelectableType } from './card-selectable.model';\r\n\r\nlet cardSelectableSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-card-selectable',\r\n  styleUrls: ['card-selectable.scss'],\r\n  scoped: true,\r\n})\r\nexport class AthCardSelectable implements ComponentInterface {\r\n  private hostId = `card-selectable-${++cardSelectableSequence}`;\r\n  private headlineId;\r\n  private subheadlineId;\r\n  private tagId;\r\n\r\n  @Element() el: HTMLAthCardSelectableElement;\r\n\r\n  /**\r\n   * Size of the card\r\n   **/\r\n  @Prop() size: CardSelectableSizes = CardSelectableSize.Small;\r\n\r\n  /**\r\n   * headline of the card\r\n   **/\r\n  @Prop() headingText: string;\r\n\r\n  /**\r\n   * subtitle of the card\r\n   **/\r\n  @Prop() subtitle: string;\r\n\r\n  /**\r\n   * overline of the card\r\n   **/\r\n  @Prop() overline: string;\r\n\r\n  /**\r\n   * type of card\r\n   **/\r\n  @Prop() type: CardSelectableTypes = CardSelectableType.Single;\r\n\r\n  /**\r\n   * Indicates whether the card is selected\r\n   **/\r\n  @Prop({ mutable: true }) selected = false;\r\n\r\n  /**\r\n   * Indicates whether the card is disabled\r\n   **/\r\n  @Prop() disabled = false;\r\n\r\n  /**\r\n   * tag of the card\r\n   **/\r\n  @Prop() tag: string;\r\n\r\n  @Event() athChange: EventEmitter<any>;\r\n  @Event() athFocus: EventEmitter<void>;\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  @State() visualSelected = false;\r\n\r\n  @Method()\r\n  async select(firstLoad: boolean) {\r\n    if (!this.disabled) {\r\n      this.visualSelected = true;\r\n      if (!firstLoad) this.el.focus();\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async unselect() {\r\n    if (!this.disabled) {\r\n      this.visualSelected = false;\r\n      this.el.blur();\r\n    }\r\n  }\r\n\r\n  private handleClick = () => {\r\n    if (this.disabled) return;\r\n    this.selected = this.type === CardSelectableType.Single ? true : !this.selected;\r\n    this.visualSelected = this.type === CardSelectableType.Single ? true : !this.selected;\r\n    this.athChange.emit(this.el);\r\n  };\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleBlur = () => {\r\n    this.athBlur.emit();\r\n  };\r\n\r\n  private handleKeyDown = (ev: KeyboardEvent) => {\r\n    switch (ev.code) {\r\n      case 'Space':\r\n      case 'Enter':\r\n        ev.preventDefault();\r\n        this.handleClick();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  private getHostAttributes = () => ({\r\n    role: this.type === CardSelectableType.Single ? 'radio' : 'checkbox',\r\n    tabindex: this.visualSelected && !this.disabled ? '0' : '-1',\r\n    onFocus: this.handleFocus,\r\n    onBlur: this.handleBlur,\r\n    onClick: this.handleClick,\r\n    onkeydown: this.handleKeyDown,\r\n  });\r\n\r\n  private getAriaAttributes = (): { [key: string]: unknown } => {\r\n    const describedBy = [this.tagId, this.subheadlineId].filter(Boolean).join(' ');\r\n    return {\r\n      'aria-labelledby': !!this.headingText ? this.headlineId : undefined,\r\n      'aria-describedby': describedBy != '' ? describedBy : undefined,\r\n      'aria-disabled': this.disabled ? 'true' : undefined,\r\n      'aria-checked': this.selected ? 'true' : 'false',\r\n    };\r\n  };\r\n\r\n  private getCheckClassNames = () => ({\r\n    'ath-card-selectable_check': true,\r\n  });\r\n\r\n  private getCardClassNames = () => ({\r\n    'ath-card-selectable': true,\r\n    'ath-card-selectable--disabled': this.disabled,\r\n    [`ath-card-selectable--${this.type}`]: true,\r\n    [`ath-card-selectable--${this.size}`]: true,\r\n    'ath-card-selectable--selected': this.selected,\r\n    'ath-color-text--disabled': this.disabled,\r\n  });\r\n\r\n  componentWillLoad(): Promise<void> | void {\r\n    if (this.headingText) this.headlineId = `${this.hostId}-headline`;\r\n    if (this.subtitle) this.subheadlineId = `${this.hostId}-subheadline`;\r\n    if (this.tag) this.tagId = `${this.hostId}-tag`;\r\n  }\r\n\r\n  private renderIcon = () => {\r\n    const icon = this.type === CardSelectableType.Single ? 'check' : 'completed';\r\n    const size = this.type === CardSelectableType.Single ? 'md' : 'sm';\r\n    return <ath-icon icon={icon} size={size} color=\"inherit\"></ath-icon>;\r\n  };\r\n\r\n  render() {\r\n    const tagColor = this.disabled ? 'disabled' : 'primary';\r\n    return (\r\n      <Host {...this.getHostAttributes()} {...this.getAriaAttributes()}>\r\n        <div class={this.getCardClassNames()}>\r\n          <div class=\"ath-card-selectable_content\">\r\n            <div class=\"ath-card-selectable_header\">\r\n              <div class=\"ath-card-selectable_headlines\">\r\n                {!!this.tag && <ath-tag id={this.tagId} size=\"md\" color={tagColor} headingText={this.tag}></ath-tag>}\r\n                {!!this.overline && <span class=\"ath-card-selectable_overline\">{this.overline}</span>}\r\n                <div class=\"ath-card-selectable_wrapper\">\r\n                  <span id={this.headlineId} class=\"ath-card-selectable_headline\">\r\n                    {this.headingText}\r\n                  </span>\r\n                  <span id={this.subheadlineId} class=\"ath-card-selectable_subheadline\">\r\n                    {this.subtitle}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div class={this.getCheckClassNames()}>{this.selected && this.renderIcon()}</div>\r\n            </div>\r\n            <slot name=\"body\"></slot>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}