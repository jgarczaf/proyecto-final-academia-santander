{"version":3,"file":"segmented-control-item.js","sourceRoot":"","sources":["../../../../src/components/segmented-control/segmented-control-item/segmented-control-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentInterface, EventEmitter, Host, Prop, h, Event, Method, Listen, Element, State } from '@stencil/core';\r\nimport {\r\n  SegmentedControlSize,\r\n  SegmentedControlColor,\r\n  SegmentedControlItemChangeSelect,\r\n  SegmentedControlItemIconPositions,\r\n  SegmentedControlItemIconPosition,\r\n  SegmentedControlType,\r\n  SegmentedControlTypes,\r\n  SegmentedControlColors,\r\n  SegmentedControlSizes,\r\n} from '../segmented-control.model';\r\nimport { transformIconSize, IconType } from '../../../utils/helper';\r\n\r\n@Component({\r\n  tag: 'ath-segmented-control-item',\r\n  styleUrl: 'segmented-control-item.scss',\r\n  shadow: true,\r\n})\r\nexport class AthSegmentedControlItem implements ComponentInterface {\r\n  @Element() htmlEl: HTMLElement;\r\n\r\n  /**\r\n   * Size of the segmented control item\r\n   **/\r\n  @Prop() color: SegmentedControlColor = SegmentedControlColors.Primary;\r\n\r\n  /**\r\n   * Size of the segmented control item\r\n   **/\r\n  @Prop() size: SegmentedControlSize = SegmentedControlSizes.Medium;\r\n\r\n  /**\r\n   * Icon position of the segmented control item\r\n   */\r\n  @Prop({ reflect: true }) iconPosition: SegmentedControlItemIconPosition = SegmentedControlItemIconPositions.None;\r\n\r\n  /**\r\n   * The code of the button's icon (used with iconPosition)\r\n   */\r\n  @Prop() icon: string;\r\n\r\n  /**\r\n   * The segmented control item is selected\r\n   */\r\n  @Prop({ reflect: true, mutable: true }) selected = false;\r\n\r\n  /**\r\n   * The segmented control is disabled\r\n   */\r\n  @Prop() disabled = false;\r\n\r\n  /**\r\n   * The type of the control\r\n   */\r\n  @Prop() type: SegmentedControlType = SegmentedControlTypes.Select;\r\n\r\n  /**\r\n   * The value for a Segmented Control with type select (role radio)\r\n   */\r\n  @Prop() value: string;\r\n\r\n  /**\r\n   * Emitted when the segmented control item is focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the segmented control item is selected\r\n   */\r\n  @Event() athChange: EventEmitter<SegmentedControlItemChangeSelect>;\r\n\r\n  @Method() async unSelectItem() {\r\n    this.selected = false;\r\n    this.tabindex = -1;\r\n  }\r\n\r\n  @Method() public async setFocus() {\r\n    if (this.htmlEl) {\r\n      this.htmlEl.focus();\r\n    }\r\n  }\r\n\r\n  @Method() async setTabindex(index: number) {\r\n    this.tabindex = index;\r\n  }\r\n\r\n  @State() tabindex: number;\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(event: KeyboardEvent) {\r\n    if (!this.disabled && (event.key === ' ' || event.key === 'Enter')) {\r\n      event.preventDefault();\r\n      this.handleClick();\r\n    }\r\n  }\r\n\r\n  componentWillLoad(): Promise<void> | void {\r\n    this.tabindex = this.selected ? 0 : -1;\r\n  }\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleClick = () => {\r\n    if (!this.disabled && !this.selected) {\r\n      this.selected = true;\r\n      this.tabindex = 0;\r\n      this.handleChange();\r\n    }\r\n  };\r\n\r\n  private handleChange = () => {\r\n    const detail: SegmentedControlItemChangeSelect = {\r\n      selected: this.selected,\r\n    };\r\n    this.athChange.emit(detail);\r\n  };\r\n\r\n  private renderIcon = () => {\r\n    const isIconOnly = this.iconPosition === SegmentedControlItemIconPositions.IconOnly;\r\n    const iconSize = isIconOnly ? transformIconSize(IconType.SegmentedControlItemIconOnly, this.size) : transformIconSize(IconType.SegmentedControlItem, this.size);\r\n    return <ath-icon class=\"ath-segmented-control-item__icon\" icon={this.icon} size={iconSize} color=\"inherit\"></ath-icon>;\r\n  };\r\n\r\n  private getHostAttributes = () => {\r\n    const isAction = this.type === SegmentedControlTypes.Action;\r\n    const isSelect = this.type === SegmentedControlTypes.Select;\r\n    return {\r\n      'role': isAction ? 'button' : 'radio',\r\n      ...(isAction && { 'aria-pressed': this.selected ? 'true' : 'false' }),\r\n      ...(isSelect && { 'aria-checked': this.selected ? 'true' : 'false' }),\r\n      'tabindex': this.disabled ? -1 : this.tabindex,\r\n      'onClick': this.handleClick,\r\n      'onFocus': this.handleFocus,\r\n      'aria-disabled': this.disabled ? 'true' : 'false',\r\n    };\r\n  };\r\n\r\n  private getClassNames = () => ({\r\n    'ath-segmented-control-item': true,\r\n    [`ath-segmented-control-item--${this.size}`]: !!this.size,\r\n    [`ath-segmented-control-item--${this.color}`]: !!this.color,\r\n    [`ath-segmented-control-item--icon-${this.iconPosition}`]:\r\n      this.iconPosition !== SegmentedControlItemIconPositions.None && this.iconPosition !== SegmentedControlItemIconPositions.IconOnly,\r\n    [`ath-segmented-control-item--${this.iconPosition}`]: this.iconPosition === SegmentedControlItemIconPositions.IconOnly,\r\n    'selected': this.selected,\r\n    'disabled': this.disabled,\r\n  });\r\n\r\n  render() {\r\n    return (\r\n      <Host {...this.getHostAttributes()}>\r\n        <div class={this.getClassNames()}>\r\n          {this.icon && this.iconPosition !== SegmentedControlItemIconPositions.None && this.renderIcon()}\r\n          {this.iconPosition != SegmentedControlItemIconPositions.IconOnly && <slot></slot>}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}