{"version":3,"file":"table-header.js","sourceRoot":"","sources":["../../../../src/components/table/table-header/table-header.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, Event, EventEmitter, h } from '@stencil/core';\r\nimport { TableSelectable, TableSelectableType, TableColorType, TableColor, TableSizeType, TableFrozenType, TableFrozen } from '../table.model';\r\nimport { CheckboxValue, CheckboxValues } from '../../checkbox/checkbox.model';\r\nimport { TableSelectAllChangeEvent } from '../table.model';\r\n\r\n@Component({\r\n  tag: 'ath-table-header',\r\n  styleUrl: 'table-header.scss',\r\n  shadow: true,\r\n})\r\nexport class AthTableHeader {\r\n  @Element() el!: HTMLElement;\r\n\r\n  /** Selection mode (none | single | multiple) */\r\n  @Prop() selectable: TableSelectableType = TableSelectable.None;\r\n\r\n  /** Enable clickable rows with action column */\r\n  @Prop() clickable: boolean = false;\r\n\r\n  /** Header color */\r\n  @Prop() color: TableColorType = TableColor.Primary;\r\n\r\n  /** Header size */\r\n  @Prop() size: TableSizeType;\r\n\r\n  /** If the row has a fixed column, specify if it's the first or last column */\r\n  @Prop() frozen: TableFrozenType = TableFrozen.None;\r\n\r\n  /** Hides select all checkbox when selectable is multiple */\r\n  @Prop() noSelectAll: boolean = false;\r\n\r\n  /** Current state of the select all checkbox (false | true | indeterminate) */\r\n  @Prop() selectAllState: CheckboxValues = CheckboxValue.False;\r\n\r\n  /** Total number of selectable rows (used for determining indeterminate state) */\r\n  @Prop() totalRows: number = 0;\r\n\r\n  /** Number of currently selected rows (used for determining indeterminate state) */\r\n  @Prop() selectedRows: number = 0;\r\n\r\n  /** Fired when select all checkbox state changes */\r\n  @Event() athSelectAllChange: EventEmitter<TableSelectAllChangeEvent>;\r\n\r\n  componentDidLoad() {\r\n    // Set default widths if needed\r\n    const items = this.el.querySelectorAll('ath-table-header-item');\r\n    if (items.length) {\r\n      Array.from(items).forEach(item => {\r\n        if (item.cellWidth === 'auto' || item.cellWidth === '') {\r\n          item.cellWidth = `${100 / items.length}%`;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleSelectAllChange = () => {\r\n    let newState: CheckboxValues;\r\n    let selectAll: boolean;\r\n\r\n    if (this.selectAllState === CheckboxValue.False || this.selectAllState === CheckboxValue.Indeterminate) {\r\n      newState = CheckboxValue.True;\r\n      selectAll = true;\r\n    } else {\r\n      newState = CheckboxValue.False;\r\n      selectAll = false;\r\n    }\r\n\r\n    this.athSelectAllChange.emit({ selectAll, state: newState });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host slot=\"header\" role=\"row\">\r\n        {this.selectable !== TableSelectable.None && (\r\n          <ath-table-header-item\r\n            data-ath-selection\r\n            alignment=\"center\"\r\n            cellWidth=\"64px\"\r\n            color={this.color}\r\n            size={this.size}\r\n            frozen={this.frozen !== TableFrozen.Last ? TableFrozen.First : undefined}\r\n          >\r\n            {this.selectable === TableSelectable.Multiple && !this.noSelectAll ? (\r\n              <ath-checkbox value={this.selectAllState} ariaLabel=\"Seleccionar todas las filas\" onAthChange={this.handleSelectAllChange} />\r\n            ) : (\r\n              <span class=\"sr-only\">Columna de selección</span>\r\n            )}\r\n          </ath-table-header-item>\r\n        )}\r\n        <slot></slot>\r\n        {this.clickable && (\r\n          <ath-table-header-item\r\n            data-ath-action\r\n            alignment=\"center\"\r\n            cellWidth=\"64px\"\r\n            color={this.color}\r\n            size={this.size}\r\n            frozen={this.frozen !== TableFrozen.First ? TableFrozen.Last : undefined}\r\n          >\r\n            <span class=\"sr-only\">Columna de acción</span>\r\n          </ath-table-header-item>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}