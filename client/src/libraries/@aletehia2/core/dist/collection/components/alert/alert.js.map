{"version":3,"file":"alert.js","sourceRoot":"","sources":["../../../src/components/alert/alert.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentInterface, Host, JSX, Prop, State, h, Element, Watch } from '@stencil/core';\r\nimport { AlertColor, AlertColorClose, AlertColors, AlertColorsClose, AlertType, AlertTypes } from './alert.model';\r\nimport { getHeading } from '@utils/helper/heading';\r\nimport { FcButtonComp } from 'sharedfc/input';\r\nimport { IconSize } from '@utils/helper';\r\nimport { ButtonIconPosition } from 'components/button/button.model';\r\n\r\nlet tooltipSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-alert',\r\n  styleUrls: ['alert.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthAlert implements ComponentInterface {\r\n  private hostId = ++tooltipSequence;\r\n  private titleId = `alert-title-${this.hostId}`;\r\n  private descriptionId = `alert-description-${this.hostId}`;\r\n\r\n  /**\r\n   * Tipo de alert\r\n   */\r\n  @Prop({ reflect: true }) type: AlertTypes = AlertType.Section;\r\n\r\n  /**\r\n   * The color of the message\r\n   */\r\n  @Prop() color: AlertColors = AlertColor.Info;\r\n\r\n  /**\r\n   * Descripcion del alert\r\n   */\r\n  @Prop() description?: string;\r\n\r\n  /**\r\n   * Titulo del alert\r\n   */\r\n  @Prop() headingText?: string;\r\n\r\n  /**\r\n   * Titulo del alert\r\n   */\r\n  @Prop() isUrgent? = false;\r\n\r\n  /**\r\n   * Nivel de heading del tÃ­tulo\r\n   */\r\n  @Prop() headingLevel = 6;\r\n\r\n  /**\r\n   * Has button close\r\n   */\r\n  @Prop() hasClose = true;\r\n\r\n  /**\r\n   * Close button aria-label\r\n   */\r\n  @Prop() closeAriaLabel = 'Cerrar alerta';\r\n\r\n  @State() isVisible: boolean = true;\r\n\r\n  @State() alertRole: string;\r\n\r\n  @State() isSmall: boolean = false;\r\n\r\n  @Watch('isUrgent')\r\n  @Watch('hasButtonSlotElements')\r\n  updateAlertRole() {\r\n    this.alertRole = this.getRole();\r\n  }\r\n\r\n  @Element() private host!: HTMLElement;\r\n\r\n  private hasButtonSlotElements = true;\r\n\r\n  private closeAlert = (): void => {\r\n    this.isVisible = false; // Hide the alert when close button is clicked\r\n  };\r\n\r\n  private getRole = (): string => (this.isUrgent ? 'alert' : 'status');\r\n\r\n  private resizeObserver: ResizeObserver;\r\n\r\n  private getAttributes = (): { [key: string]: unknown } => ({\r\n    'aria-hidden': !this.isVisible ? 'true' : 'false',\r\n    'role': this.alertRole,\r\n    'aria-labelledby': this.headingText ? this.titleId : undefined,\r\n    'aria-describedby': this.description ? this.descriptionId : undefined,\r\n  });\r\n\r\n  private getClassNames = (): { [key: string]: boolean } => ({\r\n    'ath-alert': true,\r\n    [`ath-alert--${this.color}`]: !!this.color,\r\n    'ath-alert--hidden': !this.isVisible,\r\n    [`ath-alert__${this.type}`]: !!this.type,\r\n  });\r\n\r\n  private getIcon = (): string => {\r\n    if (this.color == AlertColor.Info) {\r\n      return 'info_solid';\r\n    } else if (this.color == AlertColor.Warning) {\r\n      return 'exclamation_solid';\r\n    } else if (this.color == AlertColor.Success) {\r\n      return 'check_2_solid';\r\n    } else {\r\n      return 'error_solid';\r\n    }\r\n  };\r\n\r\n  private renderIcon = (): JSX.Element => {\r\n    return <ath-icon size=\"md\" icon={this.getIcon()} color=\"inherit\"></ath-icon>;\r\n  };\r\n\r\n  private getIconColor = (): AlertColorsClose => {\r\n    if (this.color === AlertColor.Danger) {\r\n      return AlertColorClose.Danger;\r\n    }\r\n    return this.color as AlertColorsClose;\r\n  };\r\n\r\n  private renderCloseButton = (): JSX.Element => {\r\n    return (\r\n      <FcButtonComp\r\n        icon=\"close_small\"\r\n        color={this.getIconColor()}\r\n        iconPosition={ButtonIconPosition.IconOnly}\r\n        size={IconSize.Extrasmall}\r\n        onClick={this.closeAlert}\r\n        buttonAriaLabel={this.closeAriaLabel}\r\n      ></FcButtonComp>\r\n    );\r\n  };\r\n\r\n  private renderDivIcon = (): JSX.Element => {\r\n    return <div class=\"ath-alert__icon\">{this.renderIcon()}</div>;\r\n  };\r\n\r\n  private renderDivCloseButton = (): JSX.Element => {\r\n    return <div class=\"ath-alert__close\">{this.renderCloseButton()}</div>;\r\n  };\r\n\r\n  private renderDivTitle = (): JSX.Element => {\r\n    const HeadingTitle = getHeading(this.headingLevel);\r\n    return (\r\n      <HeadingTitle class=\"ath-alert__title\" id={this.titleId}>\r\n        {this.headingText}\r\n      </HeadingTitle>\r\n    );\r\n  };\r\n\r\n  private renderDivDescription = (): JSX.Element => {\r\n    return (\r\n      <div class=\"ath-alert__description\" id={this.descriptionId}>\r\n        {this.description}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  componentDidLoad() {\r\n    const container = this.host.shadowRoot.querySelector('.ath-alert__container');\r\n    if (container) {\r\n      this.resizeObserver = new ResizeObserver(([entry]) => {\r\n        this.isSmall = entry.contentRect.width < 440;\r\n      });\r\n      this.resizeObserver.observe(container);\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.resizeObserver?.disconnect();\r\n  }\r\n\r\n  componentDidRender() {\r\n    const buttonSlot = this.host.shadowRoot?.querySelector('slot[name=\"button\"]') as HTMLSlotElement;\r\n    if (buttonSlot) {\r\n      const assignedElements = buttonSlot.assignedElements();\r\n      assignedElements.forEach(el => {\r\n        if (el.tagName.toLowerCase() === 'ath-button') {\r\n          (el as any).fullWidth = this.isSmall;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private renderSection = () => (\r\n    <div class=\"ath-alert__container\">\r\n      <div class={this.getClassNames()}>\r\n        <div class=\"ath-alert__content\">\r\n          {this.renderDivIcon()}\r\n          <div class=\"ath-alert__wrapper\">\r\n            {this.headingText && this.renderDivTitle()}\r\n            {this.description && this.renderDivDescription()}\r\n            <slot></slot>\r\n          </div>\r\n          {this.hasClose && this.renderDivCloseButton()}\r\n        </div>\r\n        {this.hasButtonSlotElements && <slot name=\"button\"></slot>}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  private renderPage = () => (\r\n    <div class=\"ath-alert__container\">\r\n      <div class={this.getClassNames()}>\r\n        {this.renderDivIcon()}\r\n        <div class=\"ath-alert__wrapper\">\r\n          <div class=\"ath-alert__frame\">\r\n            {this.headingText && this.renderDivTitle()}\r\n            {this.description && this.renderDivDescription()}\r\n            <slot></slot>\r\n          </div>\r\n          {this.hasButtonSlotElements && (\r\n            <div class=\"ath-alert__button\">\r\n              <slot name=\"button\"></slot>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {this.hasClose && this.renderDivCloseButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  public componentWillLoad(): void | Promise<void> {\r\n    this.hasButtonSlotElements = !!this.host.querySelector('[slot=\"button\"]');\r\n    this.updateAlertRole();\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    if (this.type === 'section') {\r\n      return <Host {...this.getAttributes()}>{this.isVisible && this.renderSection()}</Host>;\r\n    } else {\r\n      return <Host {...this.getAttributes()}>{this.isVisible && this.renderPage()}</Host>;\r\n    }\r\n  }\r\n}\r\n"]}