{"version":3,"file":"menu-vertical.js","sourceRoot":"","sources":["../../../src/components/menu-vertical/menu-vertical.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAsB,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAgB,MAAM,eAAe,CAAC;AAClH,OAAO,EAA0B,uBAAuB,EAAE,MAAM,uBAAuB,CAAC;AAGxF,IAAI,oBAAoB,GAAG,CAAC,CAAC;AAO7B,MAAM,OAAO,eAAe;IAClB,cAAc,GAAG,qBAAqB,oBAAoB,EAAE,EAAE,CAAC;IAC/D,WAAW,GAAG,GAAG,IAAI,CAAC,cAAc,OAAO,CAAC;IAEpD;;OAEG;IACK,UAAU,GAA2B,uBAAuB,CAAC,OAAO,CAAC;IAE7E;;OAEG;IACM,WAAW,CAAyB;IAElC,EAAE,CAAc;IAElB,SAAS,CAAa;IACtB,aAAa,GAAW,EAAE,CAAC;IAE5B,cAAc,GAAkB,EAAE,CAAC;IAEnC,gBAAgB,CAAmB;IAE3C,YAAY;IACZ,iBAAiB;QACf,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;aAC1C,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;aACxD,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5C,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,SAAS,GAAG,CAAC,KAAiB,EAAE,MAAc,EAAE,EAAE;YACtD,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACnB,IAAI,CAAC,EAAE,GAAG,GAAG,MAAM,IAAI,YAAY,EAAE,EAAE,CAAC;gBACxC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBAChD,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QACF,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE5C,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAE/B,IAAI,gBAAgB,GAAkB,IAAI,CAAC;QAC3C,IAAI,IAAI,CAAC,UAAU,KAAK,uBAAuB,CAAC,OAAO,EAAE,CAAC;YACxD,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnE,CAAC;aAAM,CAAC;YACN,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC9H,CAAC;QACD,IAAI,gBAAgB,EAAE,CAAC;YACrB,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC;QACxC,CAAC;QACD,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACrC,CAAC;IAEO,oBAAoB,CAAC,EAAW;QACtC,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;aACrC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;aAC9D,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC;QAElD,MAAM,OAAO,GAAG,EAAE,CAAC,OAA0E,CAAC;QAE9F,MAAM,cAAc,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QAC1D,MAAM,UAAU,GAAG,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC7C,MAAM,MAAM,GAAG,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAE,UAAkD,CAAC,CAAC,CAAC,SAAS,CAAC;QAErH,OAAO;YACL,OAAO;YACP,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE;YACnC,QAAQ,EAAE,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC;YACrC,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC;YAC7B,QAAQ,EAAE,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC;YACrC,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,SAAS;YAC1C,SAAS,EAAE,EAAE,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,SAAS;YACrD,YAAY,EAAE,EAAE,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,SAAS;YAC3D,YAAY,EAAE,EAAE,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,SAAS;YACxG,cAAc,EAAE,EAAE,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,SAAS;YAC/D,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,SAAS;YAC1C,MAAM;YACN,GAAG,EAAE,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,SAAS;YACxC,aAAa,EAAE,EAAE,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,SAAS;YAC5D,KAAK,EAAE,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,SAAS;YAC5C,QAAQ;SACT,CAAC;IACJ,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO;QAE3D,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAExC,IAAI,YAAY,GAAU,EAAE,CAAC;QAC7B,IAAI,aAAa,GAAG,KAAK,CAAC;QAE1B,MAAM,gBAAgB,GAAG,CAAC,KAAY,EAAE,OAAc,EAAE,EAAW,EAAE;YACnE,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;gBACzB,IAAI,aAAa;oBAAE,OAAO,IAAI,CAAC;gBAC/B,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,YAAY,GAAG,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC/B,aAAa,GAAG,IAAI,CAAC;oBACrB,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,IAAI,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;wBACjE,OAAO,IAAI,CAAC;oBACd,CAAC;gBACH,CAAC;YACH,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QACF,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjC,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC5B,MAAM,oBAAoB,GAAG,CAAC,KAAY,EAAE,IAAW,EAAE,QAAgB,CAAC,EAAE,EAAE;gBAC5E,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBACnB,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC;oBACzC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;wBAC9C,oBAAoB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;oBACnE,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;YACF,oBAAoB,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;YACnD,OAAO;QACT,CAAC;QAED,IAAI,QAAQ,GAAU,EAAE,CAAC;QACzB,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,MAAM,YAAY,GAAG,CAAC,KAAY,EAAE,OAAc,EAAE,EAAW,EAAE;YAC/D,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;gBACzB,IAAI,SAAS;oBAAE,OAAO,IAAI,CAAC;gBAC3B,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;oBACd,QAAQ,GAAG,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC3B,SAAS,GAAG,IAAI,CAAC;oBACjB,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,IAAI,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;wBAC7D,OAAO,IAAI,CAAC;oBACd,CAAC;gBACH,CAAC;YACH,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QACF,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE7B,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;oBACxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACjC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;4BAC/C,KAAK,CAAC,IAAI,GAAG,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACrC,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;YACH,OAAO;QACT,CAAC;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnE,IAAI,cAAc,KAAK,CAAC,CAAC,EAAE,CAAC;YAC1B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;gBACnC,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,cAAc,CAAC;gBACnC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;wBAC/C,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;oBACrB,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;YACH,OAAO;QACT,CAAC;QAED,MAAM,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;YACnC,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,gBAAgB,CAAC;YACrC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;oBAC/C,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;gBACrB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,sBAAsB,CAAC,KAAY;QACzC,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,SAAS,KAAK,CAAC,KAAY;YACzB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;gBACzB,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,EAAE,CAAC;oBAC5B,KAAK,GAAG,IAAI,CAAC;gBACf,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACxB,CAAC;gBACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnC,CAAC;YACH,CAAC;QACH,CAAC;QACD,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;IAEO,kBAAkB,CAAC,KAAY;QACrC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACnB,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,KAAK,6BAA6B,CAAC;YAC9D,MAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YAE9D,IAAI,WAAW,EAAE,CAAC;gBAChB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnD,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAChF,IAAI,YAAY,EAAE,CAAC;oBACjB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBACpB,CAAC;YACH,CAAC;YAED,IAAI,CAAC,WAAW,IAAI,MAAM,EAAE,CAAC;gBAC3B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YACpB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,uBAAuB;QAC7B,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,GAAG,EAAE;YAChD,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;aACzB,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;aACxD,OAAO,CAAC,UAAU,CAAC,EAAE;YACpB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,EAAE;gBACxC,SAAS,EAAE,IAAI;gBACf,OAAO,EAAE,IAAI;gBACb,UAAU,EAAE,IAAI;aACjB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,wBAAwB,CAAC,KAAiB;QAChD,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC,EAAE,CAAC;YACnC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC9C,MAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzE,IAAI,OAAO;oBAAE,OAAO,OAAO,CAAC;YAC9B,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,+CAA+C,CAAC,CAAkB,CAAC;QACxI,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAEO,2BAA2B;QACjC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;aAC1C,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;aACxD,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5C,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,SAAS,GAAG,CAAC,KAAiB,EAAE,MAAc,EAAE,EAAE;YACtD,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACnB,IAAI,CAAC,EAAE,GAAG,GAAG,MAAM,IAAI,YAAY,EAAE,EAAE,CAAC;gBACxC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBAChD,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QACF,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE5C,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAE3B,IAAI,gBAAgB,GAAkB,IAAI,CAAC;QAC3C,IAAI,IAAI,CAAC,UAAU,KAAK,uBAAuB,CAAC,OAAO,EAAE,CAAC;YACxD,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnE,CAAC;aAAM,CAAC;YACN,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC9H,CAAC;QACD,IAAI,gBAAgB,EAAE,CAAC;YACrB,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC;QACxC,CAAC;IACH,CAAC;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;QACrC,CAAC;IACH,CAAC;IAED,SAAS;IACD,UAAU;QAChB,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC5B,MAAM,MAAM,GAAG,GAAG,IAAI,CAAC,WAAW,IAAI,YAAY,EAAE,EAAE,CAAC;YACvD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC;YACjB,IAAI,IAAI,CAAC,UAAU,KAAK,uBAAuB,CAAC,OAAO,EAAE,CAAC;gBACxD,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAClD,CAAC;iBAAM,CAAC;gBACN,SAAS,CAAC,IAAI,CACZ,UAAI,KAAK,EAAC,qBAAqB;oBAC7B,yBAAmB,WAAW,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,QAAQ,GAAqB;oBAC7E,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,UAAI,KAAK,EAAC,yBAAyB,IAAE,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAM,CACtI,CACN,CAAC;YACJ,CAAC;QACH,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,YAAY,CAAC,IAAS,EAAE,EAAU;QACxC,MAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChD,MAAM,sBAAsB,GAAG,CAAC,4BAA4B,EAAE,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE7K,IAAI,IAAI,CAAC,OAAO,KAAK,6BAA6B,EAAE,CAAC;YACnD,OAAO,CACL,UAAI,IAAI,EAAC,MAAM;gBACb,SACE,IAAI,EAAC,UAAU,EACf,EAAE,EAAE,EAAE,KACF,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EACjD,KAAK,EAAE,sBAAsB,EAC7B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAChC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,mBACnD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,gBACrC,IAAI,CAAC,SAAS,qBACT,IAAI,CAAC,cAAc,kBACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,EAChD,OAAO,EAAE,CAAC,CAAC,EAAE;wBACX,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;4BAClB,CAAC,CAAC,cAAc,EAAE,CAAC;4BACnB,OAAO;wBACT,CAAC;wBACD,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;oBACvB,CAAC,EACD,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,EAC/E,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;oBAE/C,WAAK,KAAK,EAAC,kCAAkC;wBAC3C,gBAAU,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,SAAS,GAAY,CAC1F;oBACN,WAAK,KAAK,EAAC,kCAAkC,IAAE,IAAI,CAAC,IAAI,CAAO,CAC7D,CACD,CACN,CAAC;QACJ,CAAC;QAED,OAAO,CACL,UAAI,KAAK,EAAC,gCAAgC,EAAC,IAAI,EAAC,MAAM;YACpD,WACE,EAAE,EAAE,EAAE,EACN,KAAK,EAAE,sBAAsB,EAC7B,IAAI,EAAC,UAAU,EACf,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACjE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,gBACtD,IAAI,CAAC,SAAS,mBACX,GAAG,EAAE,OAAO,mBACZ,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,mBAC9E,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,kBAC1D,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,mBAC3E,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,EACjD,OAAO,EAAE,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAC3J,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAC9G,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;gBAE/C,WAAK,KAAK,EAAC,kCAAkC;oBAC3C,gBAAU,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,SAAS,GAAY,CAC1F;gBACN,WAAK,KAAK,EAAC,kCAAkC;oBAC3C,gBAAO,IAAI,CAAC,IAAI,CAAQ;oBACvB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CACvC,WAAK,KAAK,EAAE,2CAA2C,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wBAC5E,gBAAU,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,cAAc,EAAC,KAAK,EAAC,SAAS,iBAAa,MAAM,GAAY,CAClF,CACP,CACG,CACF;YACL,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,MAAM,IAAI,CACjD,UAAI,IAAI,EAAC,MAAM,EAAC,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,KAAK,EAAC,oDAAoD,IACzF,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAC/C,CACN,CACE,CACN,CAAC;IACJ,CAAC;IAEO,UAAU,CAAC,EAAU,EAAE,SAAgB,EAAE,KAAa;QAC5D,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACvB,MAAM,MAAM,GAAG,GAAG,EAAE,IAAI,YAAY,EAAE,EAAE,CAAC;YACzC,MAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACpD,MAAM,cAAc,GAAG;gBACrB,4BAA4B,KAAK,EAAE;gBACnC,IAAI,CAAC,UAAU,KAAK,uBAAuB,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW;gBAC7E,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;gBAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;gBAC/B,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;aACrB;iBACE,MAAM,CAAC,OAAO,CAAC;iBACf,IAAI,CAAC,GAAG,CAAC,CAAC;YAEb,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC;YAEjB,SAAS,CAAC,IAAI,CACZ,UAAI,IAAI,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B;gBAChD,WAAK,KAAK,EAAE,cAAc,IACvB,IAAI,CAAC,OAAO,KAAK,6BAA6B,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CACxI;gBACL,WAAW,IAAI,MAAM,IAAI,CACxB,UAAI,IAAI,EAAC,MAAM,EAAC,EAAE,EAAE,GAAG,MAAM,OAAO,EAAE,KAAK,EAAC,oDAAoD,IAC7F,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAC3D,CACN,CACE,CACN,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,YAAY,CAAC,IAAS,EAAE,WAAoB,EAAE,MAAc,EAAE,MAAe,EAAE,KAAa;QAClG,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACpD,MAAM,gBAAgB,GAAG;YACvB,kCAAkC;YAClC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;YACpB,KAAK,KAAK,CAAC,IAAI,0CAA0C;SAC1D;aACE,MAAM,CAAC,OAAO,CAAC;aACf,IAAI,CAAC,GAAG,CAAC,CAAC;QACb,OAAO,CACL,WACE,IAAI,EAAC,UAAU,EACf,EAAE,EAAE,MAAM,EACV,KAAK,EAAE,gBAAgB,EACvB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAChC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,gBAC1D,IAAI,CAAC,SAAS,mBACX,WAAW,CAAC,CAAC,CAAC,GAAG,MAAM,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,mBAClD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,mBAC9E,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,kBACjC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,mBAC3E,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,EACjD,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EACnI,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,EAC7F,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAE/C,gBAAO,IAAI,CAAC,IAAI,CAAQ;YACvB,WAAW,IAAI,CACd,YAAM,KAAK,EAAE,2CAA2C,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC7E,gBAAU,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,cAAc,EAAC,KAAK,EAAC,SAAS,iBAAa,MAAM,GAAY,CACjF,CACR,CACG,CACP,CAAC;IACJ,CAAC;IAEO,UAAU,CAAC,IAAS,EAAE,KAAa;QACzC,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACrE,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;QACjC,MAAM,cAAc,GAAG;YACrB,kCAAkC;YAClC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,KAAK,KAAK,CAAC,IAAI,0CAA0C;SAC1D;aACE,MAAM,CAAC,OAAO,CAAC;aACf,IAAI,CAAC,GAAG,CAAC,CAAC;QACb,OAAO,CACL,SACE,IAAI,EAAC,UAAU,EACf,EAAE,EAAE,IAAI,CAAC,EAAE,KACP,SAAS,EACb,KAAK,EAAE,cAAc,EACrB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAChC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,mBACxD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,gBACrC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,qBACtC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS,kBACxD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,EAChD,OAAO,EAAE,CAAC,CAAC,EAAE;gBACX,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,OAAO;gBACT,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5B,CAAC,EACD,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,EACpF,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAE/C,gBAAO,IAAI,CAAC,IAAI,CAAQ;YACvB,IAAI,CAAC,MAAM,KAAK,OAAO,IAAI,YAAM,KAAK,EAAC,uBAAuB,IAAE,IAAI,CAAC,aAAa,CAAQ,CACzF,CACL,CAAC;IACJ,CAAC;IAEO,WAAW,CAAC,IAAS;QAC3B,IAAI,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC,EAAE;YAAE,OAAO,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,aAAa,KAAK,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;YAAE,OAAO,CAAC,CAAC;QAC3G,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAEO,WAAW,GAAG,CAAC,IAAS,EAAE,EAAE,CAAC,CAAC;QACpC,IAAI,EAAE,IAAI,CAAC,IAAI;QACf,GAAG,EAAE,IAAI,CAAC,GAAG;QACb,MAAM,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE;KAC1B,CAAC,CAAC;IAEK,qBAAqB,GAAG,CAAC,EAAe,EAAE,EAAE;QAClD,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC;YAC5C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC,CAAC;IAEF,gBAAgB;IACR,cAAc,CAAC,IAAS,EAAE,KAAa;QAC7C,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAED,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACjD,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACzB,CAAC;iBAAM,CAAC;gBACN,MAAM,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;gBACvG,OAAO,gBAAgB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACxC,CAAC;QACH,CAAC;QAED,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACjD,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACzB,CAAC;YAED,MAAM,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACvG,IAAI,gBAAgB,IAAI,CAAC,IAAI,CAAC,IAAI;gBAAE,OAAO,IAAI,CAAC;YAEhD,MAAM,qBAAqB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAC1D,CAAC,KAAU,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,UAAe,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAC3H,CAAC;YACF,IAAI,qBAAqB,IAAI,CAAC,IAAI,CAAC,IAAI;gBAAE,OAAO,IAAI,CAAC;YAErD,OAAO,KAAK,CAAC;QACf,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,cAAc,GAAG,CAAC,MAAc,EAAE,EAAE;QAC1C,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;IAC9B,CAAC,CAAC;IAEM,WAAW,GAAG,CAAC,SAAiB,EAAE,EAAE;QAC1C,IAAI,WAAW,CAAC;QAEhB,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,OAAO;QAE5B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjC,MAAM,UAAU,GAAG,CAAC,KAAY,EAAE,EAAE;YAClC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACnB,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS,EAAE,CAAC;oBAC1B,WAAW,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACvB,CAAC;gBACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACxC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAEnC,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC,CAAC;IAEM,eAAe,GAAG,CAAC,EAAU,EAAE,QAAgB,CAAC,EAAE,kBAA2B,KAAK,EAAE,EAAE;QAC5F,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,OAAO;QAE5B,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC;gBAC3B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;wBAC/C,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;oBACrB,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;aAAM,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC9C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;wBAC/C,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;oBAC/B,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;aAAM,CAAC;YACN,MAAM,oBAAoB,GAAG,CAAC,KAAY,EAAE,EAAE;gBAC5C,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;oBACzB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;wBAC9C,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;wBACtE,IAAI,KAAK,EAAE,CAAC;4BACV,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;gCAC3C,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;gCACrB,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC;oCACvD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;wCACjD,UAAU,CAAC,IAAI,GAAG,KAAK,CAAC;oCAC1B,CAAC,CAAC,CAAC;gCACL,CAAC;4BACH,CAAC,CAAC,CAAC;4BACH,OAAO,IAAI,CAAC;wBACd,CAAC;6BAAM,IAAI,oBAAoB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;4BAC3D,OAAO,IAAI,CAAC;wBACd,CAAC;oBACH,CAAC;gBACH,CAAC;gBACD,OAAO,KAAK,CAAC;YACf,CAAC,CAAC;YACF,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvC,CAAC;QAED,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;QAErC,IAAI,eAAe,EAAE,CAAC;YACpB,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YACrD,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC5D,MAAM,YAAY,GAAG,GAAG,EAAE,IAAI,CAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;YACpC,CAAC;QACH,CAAC;IACH,CAAC,CAAC;IAEM,YAAY,CAAC,KAAY,EAAE,EAAU;QAC3C,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,IAAI,IAAI,CAAC,EAAE,KAAK,EAAE;gBAAE,OAAO,IAAI,CAAC;YAChC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;gBAC/D,IAAI,KAAK;oBAAE,OAAO,KAAK,CAAC;YAC1B,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,aAAa,GAAG,CAAC,CAAgB,EAAE,EAAU,EAAE,QAAgB,CAAC,EAAE,WAAoB,EAAE,EAAE;QAChG,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;YACd,KAAK,WAAW;gBACd,IAAI,WAAW,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;oBAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;oBACrD,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;wBAC/E,MAAM,YAAY,GAAG,GAAG,EAAE,IAAI,CAAC;wBAC/B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;wBAClC,MAAM,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,YAAY,IAAI,CAAgB,CAAC;wBAC/F,IAAI,YAAY;4BAAE,YAAY,CAAC,KAAK,EAAE,CAAC;wBACvC,MAAM;oBACR,CAAC;gBACH,CAAC;gBACD,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBACnB,MAAM;YACR,KAAK,SAAS;gBACZ,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBACnB,MAAM;YACR,KAAK,YAAY;gBACf,IAAI,WAAW,EAAE,CAAC;oBAChB,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBACzC,CAAC;gBACD,MAAM;YACR,KAAK,GAAG,CAAC;YACT,KAAK,OAAO;gBACV,IAAI,WAAW,EAAE,CAAC;oBAChB,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBACzC,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACvB,CAAC;gBACD,MAAM;QACV,CAAC;IACH,CAAC,CAAC;IAEM,WAAW,CAAC,KAAY;QAC9B,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9C,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,oBAAoB;QAC1B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,+CAA+C,CAAC,CAAkB,CAAC;IAC1I,CAAC;IAEO,SAAS,CAAC,SAAiB;QACjC,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,SAAS,IAAI,CAAgB,CAAC;QACzF,IAAI,CAAC,SAAS;YAAE,OAAO;QACvB,MAAM,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACtD,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,+CAA+C,CAAC,CAAkB,CAAC;QACtH,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC;QACvD,IAAI,GAAG,KAAK,CAAC,CAAC;YAAE,OAAO;QAEvB,IAAI,GAAG,GAAG,CAAC,EAAE,CAAC;YACZ,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACzC,CAAC;aAAM,CAAC;YACN,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;YACrD,IAAI,QAAQ,EAAE,CAAC;gBACb,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,+CAA+C,CAAC,CAAC;gBAC/F,IAAI,cAAc,EAAE,CAAC;oBAClB,cAA8B,CAAC,KAAK,EAAE,CAAC;oBACxC,IAAI,CAAC,aAAa,GAAI,cAA8B,CAAC,EAAE,CAAC;oBACxD,OAAO;gBACT,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAEO,SAAS,CAAC,SAAiB;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC;QAClC,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC;QACvD,IAAI,GAAG,KAAK,CAAC,CAAC;YAAE,OAAO;QAEvB,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC3B,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACzC,CAAC;IACH,CAAC;IAED,OAAO;IACC,iBAAiB,GAAG,GAAG,EAAE,CAAC,CAAC;QACjC,yBAAyB,EAAE,IAAI;QAC/B,yBAAyB,EAAE,IAAI;QAC/B,CAAC,qBAAqB,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,IAAI;KAC/C,CAAC,CAAC;IAEH,MAAM;QACJ,OAAO,CACL,EAAC,IAAI,qDAAC,IAAI,EAAC,YAAY,EAAC,KAAK,EAAC,mBAAmB;YAC/C,2DAAI,IAAI,EAAC,MAAM,EAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAC5C,IAAI,CAAC,UAAU,EAAE,CACf,CACA,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, ComponentInterface, Prop, Element, Host, h, State, Event, EventEmitter } from '@stencil/core';\r\nimport { MenuVerticalAppearance, MenuVerticalAppearances } from './menu-vertical.model';\r\nimport { MenuItem } from './stories/menu-vertical.types';\r\n\r\nlet menuVerticalSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-menu-vertical',\r\n  styleUrls: ['menu-vertical.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthMenuVertical implements ComponentInterface {\r\n  private menuVerticalId = `ath-menu-vertical-${menuVerticalSequence++}`;\r\n  private menuLevelId = `${this.menuVerticalId}-menu`;\r\n\r\n  /**\r\n   * Appearance of the menu\r\n   */\r\n  @Prop() appearance: MenuVerticalAppearance = MenuVerticalAppearances.Primary;\r\n\r\n  /**\r\n   * Emitted when link or action Button is clicked\r\n   */\r\n  @Event() athSelected: EventEmitter<MenuItem>;\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  @State() menuItems: MenuItem[];\r\n  @State() focusedItemId: string = '';\r\n\r\n  private focusableItems: HTMLElement[] = [];\r\n\r\n  private mutationObserver: MutationObserver;\r\n\r\n  // Lifecycle\r\n  componentWillLoad() {\r\n    this.menuItems = Array.from(this.el.children)\r\n      .filter(el => el.tagName.startsWith('ath-MENU-VERTICAL'))\r\n      .map(el => this.mapElementToMenuItem(el));\r\n\r\n    let menuSequence = 0;\r\n    const assignIds = (items: MenuItem[], prefix: string) => {\r\n      items.forEach(item => {\r\n        item.id = `${prefix}-${menuSequence++}`;\r\n        if (item.children && item.children.length > 0) {\r\n          assignIds(Array.from(item.children), item.id);\r\n        }\r\n      });\r\n    };\r\n    assignIds(this.menuItems, this.menuLevelId);\r\n\r\n    this.observeMutationTreeList();\r\n\r\n    let firstFocusableId: string | null = null;\r\n    if (this.appearance === MenuVerticalAppearances.Primary) {\r\n      firstFocusableId = this.findFirstFocusableItemId(this.menuItems);\r\n    } else {\r\n      firstFocusableId = this.menuItems.length > 0 ? this.findFirstFocusableItemId(Array.from(this.menuItems[0].children)) : null;\r\n    }\r\n    if (firstFocusableId) {\r\n      this.focusedItemId = firstFocusableId;\r\n    }\r\n    this.buildMenuItemsAndInitialize();\r\n  }\r\n\r\n  private mapElementToMenuItem(el: Element): MenuItem {\r\n    const children = Array.from(el.children)\r\n      .filter(child => child.tagName.startsWith('ath-MENU-VERTICAL'))\r\n      .map(child => this.mapElementToMenuItem(child));\r\n\r\n    const tagName = el.tagName as 'ath-MENU-VERTICAL-ITEM-LINK' | 'ath-MENU-VERTICAL-ITEM-ACTION';\r\n\r\n    const allowedTargets = ['self', 'parent', 'blank', 'top'];\r\n    const targetAttr = el.getAttribute('target');\r\n    const target = allowedTargets.includes(targetAttr) ? (targetAttr as 'self' | 'parent' | 'blank' | 'top') : undefined;\r\n\r\n    return {\r\n      tagName,\r\n      text: el.getAttribute('text') || '',\r\n      selected: el.hasAttribute('selected'),\r\n      open: el.hasAttribute('open'),\r\n      disabled: el.hasAttribute('disabled'),\r\n      icon: el.getAttribute('icon') || undefined,\r\n      ariaLabel: el.getAttribute('aria-label') || undefined,\r\n      ariaControls: el.getAttribute('aria-controls') || undefined,\r\n      ariaExpanded: el.hasAttribute('aria-expanded') ? el.getAttribute('aria-expanded') === 'true' : undefined,\r\n      ariaLabelledby: el.getAttribute('aria-labelledby') || undefined,\r\n      href: el.getAttribute('href') || undefined,\r\n      target,\r\n      rel: el.getAttribute('rel') || undefined,\r\n      externalLabel: el.getAttribute('externalLabel') || undefined,\r\n      value: el.getAttribute('value') || undefined,\r\n      children,\r\n    };\r\n  }\r\n\r\n  private initializeOpenState() {\r\n    if (!this.menuItems || this.menuItems.length === 0) return;\r\n\r\n    this.cleanSelectedAttribute(this.menuItems);\r\n    this.cleanOpenAttribute(this.menuItems);\r\n\r\n    let selectedPath: any[] = [];\r\n    let foundSelected = false;\r\n\r\n    const findSelectedPath = (items: any[], path: any[] = []): boolean => {\r\n      for (const item of items) {\r\n        if (foundSelected) return true;\r\n        if (item.selected) {\r\n          selectedPath = [...path, item];\r\n          foundSelected = true;\r\n          return true;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          if (findSelectedPath(Array.from(item.children), [...path, item])) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    findSelectedPath(this.menuItems);\r\n\r\n    if (selectedPath.length > 0) {\r\n      const openOnlySelectedPath = (items: any[], path: any[], depth: number = 0) => {\r\n        items.forEach(item => {\r\n          item.open = selectedPath[depth] === item;\r\n          if (item.children && item.children.length > 0) {\r\n            openOnlySelectedPath(Array.from(item.children), path, depth + 1);\r\n          }\r\n        });\r\n      };\r\n      openOnlySelectedPath(this.menuItems, selectedPath);\r\n      return;\r\n    }\r\n\r\n    let openPath: any[] = [];\r\n    let foundOpen = false;\r\n    const findOpenPath = (items: any[], path: any[] = []): boolean => {\r\n      for (const item of items) {\r\n        if (foundOpen) return true;\r\n        if (item.open) {\r\n          openPath = [...path, item];\r\n          foundOpen = true;\r\n          return true;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          if (findOpenPath(Array.from(item.children), [...path, item])) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    findOpenPath(this.menuItems);\r\n\r\n    if (openPath.length > 1) {\r\n      this.menuItems.forEach(item => {\r\n        item.open = false;\r\n        if (openPath[0] && item === openPath[0]) {\r\n          item.open = true;\r\n          if (openPath[1] && item.children) {\r\n            Array.from(item.children).forEach((child: any) => {\r\n              child.open = child === openPath[1];\r\n            });\r\n          }\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    const firstOpenIndex = this.menuItems.findIndex(item => item.open);\r\n    if (firstOpenIndex !== -1) {\r\n      this.menuItems.forEach((item, idx) => {\r\n        item.open = idx === firstOpenIndex;\r\n        if (item.children) {\r\n          Array.from(item.children).forEach((child: any) => {\r\n            child.open = false;\r\n          });\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    const firstParentIndex = this.menuItems.findIndex(item => item.children && item.children.length > 0);\r\n    this.menuItems.forEach((item, idx) => {\r\n      item.open = idx === firstParentIndex;\r\n      if (item.children) {\r\n        Array.from(item.children).forEach((child: any) => {\r\n          child.open = false;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private cleanSelectedAttribute(items: any[]) {\r\n    let found = false;\r\n    function clean(items: any[]) {\r\n      for (const item of items) {\r\n        if (item.selected && !found) {\r\n          found = true;\r\n        } else {\r\n          item.selected = false;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          clean(Array.from(item.children));\r\n        }\r\n      }\r\n    }\r\n    clean(items);\r\n  }\r\n\r\n  private cleanOpenAttribute(items: any[]) {\r\n    items.forEach(item => {\r\n      const isLink = item.tagName === 'ath-MENU-VERTICAL-ITEM-LINK';\r\n      const hasChildren = item.children && item.children.length > 0;\r\n\r\n      if (hasChildren) {\r\n        this.cleanOpenAttribute(Array.from(item.children));\r\n        const childHasOpen = Array.from(item.children).some((child: any) => child.open);\r\n        if (childHasOpen) {\r\n          item.open = false;\r\n        }\r\n      }\r\n\r\n      if (!hasChildren || isLink) {\r\n        item.open = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private observeMutationTreeList() {\r\n    this.mutationObserver = new MutationObserver(() => {\r\n      this.buildMenuItemsAndInitialize();\r\n    });\r\n\r\n    Array.from(this.el.children)\r\n      .filter(el => el.tagName.startsWith('ath-MENU-VERTICAL'))\r\n      .forEach(menuItemEl => {\r\n        this.mutationObserver.observe(menuItemEl, {\r\n          childList: true,\r\n          subtree: true,\r\n          attributes: true,\r\n        });\r\n      });\r\n  }\r\n\r\n  private findFirstFocusableItemId(items: MenuItem[]): string | null {\r\n    for (const item of items) {\r\n      if (!item.disabled) return item.id;\r\n      if (item.children && item.children.length > 0) {\r\n        const childId = this.findFirstFocusableItemId(Array.from(item.children));\r\n        if (childId) return childId;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.focusableItems = Array.from(this.el.shadowRoot.querySelectorAll('[role=\"menuitem\"]:not([aria-disabled=\"true\"])')) as HTMLElement[];\r\n    this.observeMutationTreeList();\r\n  }\r\n\r\n  private buildMenuItemsAndInitialize() {\r\n    this.menuItems = Array.from(this.el.children)\r\n      .filter(el => el.tagName.startsWith('ath-MENU-VERTICAL'))\r\n      .map(el => this.mapElementToMenuItem(el));\r\n\r\n    let menuSequence = 0;\r\n    const assignIds = (items: MenuItem[], prefix: string) => {\r\n      items.forEach(item => {\r\n        item.id = `${prefix}-${menuSequence++}`;\r\n        if (item.children && item.children.length > 0) {\r\n          assignIds(Array.from(item.children), item.id);\r\n        }\r\n      });\r\n    };\r\n    assignIds(this.menuItems, this.menuLevelId);\r\n\r\n    this.initializeOpenState();\r\n\r\n    let firstFocusableId: string | null = null;\r\n    if (this.appearance === MenuVerticalAppearances.Primary) {\r\n      firstFocusableId = this.findFirstFocusableItemId(this.menuItems);\r\n    } else {\r\n      firstFocusableId = this.menuItems.length > 0 ? this.findFirstFocusableItemId(Array.from(this.menuItems[0].children)) : null;\r\n    }\r\n    if (firstFocusableId) {\r\n      this.focusedItemId = firstFocusableId;\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.mutationObserver) {\r\n      this.mutationObserver.disconnect();\r\n    }\r\n  }\r\n\r\n  // Render\r\n  private renderMenu() {\r\n    const menuArray = [];\r\n    let menuSequence = 0;\r\n    this.menuItems.forEach(item => {\r\n      const itemId = `${this.menuLevelId}-${menuSequence++}`;\r\n      item.id = itemId;\r\n      if (this.appearance === MenuVerticalAppearances.Primary) {\r\n        menuArray.push(this.renderLevel1(item, itemId));\r\n      } else {\r\n        menuArray.push(\r\n          <li class=\"ath-section-sublist\">\r\n            <ath-section-title headingText={item.text} color=\"accent\"></ath-section-title>\r\n            {Array.from(item.children).length > 0 && <ul class=\"ath-menu-vertical__menu\">{this.createMenu(itemId, Array.from(item.children), 2)}</ul>}\r\n          </li>,\r\n        );\r\n      }\r\n    });\r\n    return menuArray;\r\n  }\r\n\r\n  private renderLevel1(item: any, id: string) {\r\n    const isOpen = !!item.open;\r\n    const isSelected = this.isItemSelected(item, 1);\r\n    const renderLevel1ClassNames = ['ath-menu-vertical__level-1', isSelected ? 'selected' : '', item.disabled ? 'disabled' : '', isOpen ? 'open' : ''].filter(Boolean).join(' ');\r\n\r\n    if (item.tagName === 'ath-MENU-VERTICAL-ITEM-LINK') {\r\n      return (\r\n        <li role=\"none\">\r\n          <a\r\n            role=\"menuitem\"\r\n            id={id}\r\n            {...(item.disabled ? {} : this.getLinkProp(item))}\r\n            class={renderLevel1ClassNames}\r\n            tabIndex={this.getTabIndex(item)}\r\n            onFocus={item.disabled ? undefined : () => this.setFocusedItem(id)}\r\n            aria-disabled={item.disabled ? 'true' : undefined}\r\n            aria-label={item.ariaLabel}\r\n            aria-labelledby={item.ariaLabelledby}\r\n            aria-current={item.selected ? 'page' : undefined}\r\n            onClick={e => {\r\n              if (item.disabled) {\r\n                e.preventDefault();\r\n                return;\r\n              }\r\n              this.handleClick(id);\r\n            }}\r\n            onKeyDown={item.disabled ? undefined : e => this.handleKeyDown(e, id, 1, false)}\r\n            ref={el => el && this.registerFocusableItem(el)}\r\n          >\r\n            <div class=\"ath-menu-vertical__level-1__icon\">\r\n              <ath-icon icon={!!item.icon ? item.icon : 'placeholder'} size=\"lg\" color=\"inherit\"></ath-icon>\r\n            </div>\r\n            <div class=\"ath-menu-vertical__level-1__text\">{item.text}</div>\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <li class=\"ath-menu-vertical__list__group\" role=\"none\">\r\n        <div\r\n          id={id}\r\n          class={renderLevel1ClassNames}\r\n          role=\"menuitem\"\r\n          tabIndex={item.disabled ? -1 : this.focusedItemId === id ? 0 : -1}\r\n          onFocus={item.disabled ? undefined : () => this.setFocusedItem(id)}\r\n          aria-label={item.ariaLabel}\r\n          aria-controls={`${id}-list`}\r\n          aria-expanded={Array.from(item.children).length > 0 ? (isOpen ? 'true' : 'false') : undefined}\r\n          aria-haspopup={Array.from(item.children).length > 0 ? 'menu' : undefined}\r\n          aria-current={Array.from(item.children).length === 0 && item.selected ? 'page' : undefined}\r\n          aria-disabled={item.disabled ? 'true' : undefined}\r\n          onClick={item.disabled || isOpen ? undefined : Array.from(item.children).length > 0 ? () => this.handleClickOpen(id, 1, false) : () => this.handleClick(id)}\r\n          onKeyDown={item.disabled ? undefined : e => this.handleKeyDown(e, id, 1, Array.from(item.children).length > 0)}\r\n          ref={el => el && this.registerFocusableItem(el)}\r\n        >\r\n          <div class=\"ath-menu-vertical__level-1__icon\">\r\n            <ath-icon icon={!!item.icon ? item.icon : 'placeholder'} size=\"lg\" color=\"inherit\"></ath-icon>\r\n          </div>\r\n          <div class=\"ath-menu-vertical__level-1__text\">\r\n            <span>{item.text}</span>\r\n            {Array.from(item.children).length > 0 && (\r\n              <div class={`ath-menu-vertical__level-1__text__button${isOpen ? ' open' : ''}`}>\r\n                <ath-icon size=\"md\" icon=\"chevron_down\" color=\"inherit\" aria-hidden=\"true\"></ath-icon>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {Array.from(item.children).length > 0 && isOpen && (\r\n          <ul role=\"menu\" id={`${id}-list`} class=\"ath-menu-vertical__menu ath-menu-vertical__sublist\">\r\n            {this.createMenu(id, Array.from(item.children), 2)}\r\n          </ul>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n\r\n  private createMenu(id: string, arrayMenu: any[], level: number) {\r\n    const menuArray = [];\r\n    let menuSequence = 0;\r\n    arrayMenu.forEach(item => {\r\n      const itemId = `${id}-${menuSequence++}`;\r\n      const isOpen = !!item.open;\r\n      const isSelected = this.isItemSelected(item, level);\r\n      const menuClassNames = [\r\n        `ath-menu-vertical__level-${level}`,\r\n        this.appearance === MenuVerticalAppearances.Primary ? 'primary' : 'secondary',\r\n        isSelected ? 'selected' : '',\r\n        item.disabled ? 'disabled' : '',\r\n        isOpen ? 'open' : '',\r\n      ]\r\n        .filter(Boolean)\r\n        .join(' ');\r\n\r\n      const hasChildren = Array.from(item.children).length > 0;\r\n      item.id = itemId;\r\n\r\n      menuArray.push(\r\n        <li role=\"none\" class=\"ath-menu-vertical__sublist\">\r\n          <div class={menuClassNames}>\r\n            {item.tagName === 'ath-MENU-VERTICAL-ITEM-LINK' ? this.createLink(item, level) : this.createAction(item, hasChildren, itemId, isOpen, level)}\r\n          </div>\r\n          {hasChildren && isOpen && (\r\n            <ul role=\"menu\" id={`${itemId}-list`} class=\"ath-menu-vertical__menu ath-menu-vertical__sublist\">\r\n              {this.createMenu(itemId, Array.from(item.children), level + 1)}\r\n            </ul>\r\n          )}\r\n        </li>,\r\n      );\r\n    });\r\n    return menuArray;\r\n  }\r\n\r\n  private createAction(item: any, hasChildren: boolean, itemId: string, isOpen: boolean, level: number) {\r\n    const isSelected = this.isItemSelected(item, level);\r\n    const actionClassNames = [\r\n      'ath-menu-vertical__wrapper-title',\r\n      isSelected ? 'selected' : '',\r\n      item.disabled ? 'disabled' : '',\r\n      isOpen ? 'open' : '',\r\n      level === 3 && 'ath-menu-vertical__wrapper-title__no-gap',\r\n    ]\r\n      .filter(Boolean)\r\n      .join(' ');\r\n    return (\r\n      <div\r\n        role=\"menuitem\"\r\n        id={itemId}\r\n        class={actionClassNames}\r\n        tabIndex={this.getTabIndex(item)}\r\n        onFocus={item.disabled ? undefined : () => this.setFocusedItem(itemId)}\r\n        aria-label={item.ariaLabel}\r\n        aria-controls={hasChildren ? `${itemId}-list` : item.ariaControls}\r\n        aria-expanded={Array.from(item.children).length > 0 ? (isOpen ? 'true' : 'false') : undefined}\r\n        aria-haspopup={hasChildren ? 'menu' : undefined}\r\n        aria-current={Array.from(item.children).length === 0 && item.selected ? 'page' : undefined}\r\n        aria-disabled={item.disabled ? 'true' : undefined}\r\n        onClick={item.disabled ? undefined : hasChildren ? () => this.handleClickOpen(itemId, level, true) : () => this.handleClick(itemId)}\r\n        onKeyDown={item.disabled ? undefined : e => this.handleKeyDown(e, itemId, level, hasChildren)}\r\n        ref={el => el && this.registerFocusableItem(el)}\r\n      >\r\n        <span>{item.text}</span>\r\n        {hasChildren && (\r\n          <span class={`ath-menu-vertical__wrapper-title__button${isOpen ? ' open' : ''}`}>\r\n            <ath-icon size=\"md\" icon=\"chevron_down\" color=\"inherit\" aria-hidden=\"true\"></ath-icon>\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private createLink(item: any, level: number) {\r\n    const linkProps = item.disabled ? undefined : this.getLinkProp(item);\r\n    const isSelected = item.selected;\r\n    const linkClassNames = [\r\n      'ath-menu-vertical__wrapper-title',\r\n      isSelected ? 'selected' : '',\r\n      item.disabled ? 'disabled' : '',\r\n      level === 3 && 'ath-menu-vertical__wrapper-title__no-gap',\r\n    ]\r\n      .filter(Boolean)\r\n      .join(' ');\r\n    return (\r\n      <a\r\n        role=\"menuitem\"\r\n        id={item.id}\r\n        {...linkProps}\r\n        class={linkClassNames}\r\n        tabIndex={this.getTabIndex(item)}\r\n        onFocus={item.disabled ? undefined : () => this.setFocusedItem(item.id)}\r\n        aria-disabled={item.disabled ? 'true' : undefined}\r\n        aria-label={item.ariaLabel ? item.ariaLabel : undefined}\r\n        aria-labelledby={item.ariaLabelledby ? item.ariaLabelledby : undefined}\r\n        aria-current={item.selected ? 'page' : undefined}\r\n        onClick={e => {\r\n          if (item.disabled) {\r\n            e.preventDefault();\r\n            return;\r\n          }\r\n          this.handleClick(item.id);\r\n        }}\r\n        onKeyDown={item.disabled ? undefined : e => this.handleKeyDown(e, item.id, 3, false)}\r\n        ref={el => el && this.registerFocusableItem(el)}\r\n      >\r\n        <span>{item.text}</span>\r\n        {item.target === 'blank' && <span class=\"ath-visibility-hidden\">{item.externalLabel}</span>}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  private getTabIndex(item: any): number {\r\n    if (item.disabled) return -1;\r\n    if (this.focusedItemId === item.id) return 0;\r\n    if (this.focusedItemId === '' && this.focusableItems[0] && item.id === this.focusableItems[0].id) return 0;\r\n    return -1;\r\n  }\r\n\r\n  private getLinkProp = (item: any) => ({\r\n    href: item.href,\r\n    rel: item.rel,\r\n    target: `_${item.target}`,\r\n  });\r\n\r\n  private registerFocusableItem = (el: HTMLElement) => {\r\n    if (el && !this.focusableItems.includes(el)) {\r\n      this.focusableItems.push(el);\r\n    }\r\n  };\r\n\r\n  // Interactivity\r\n  private isItemSelected(item: any, level: number): boolean {\r\n    if (level === 3) {\r\n      return !!item.selected;\r\n    }\r\n\r\n    if (level === 2) {\r\n      if (!item.children || item.children.length === 0) {\r\n        return !!item.selected;\r\n      } else {\r\n        const hasSelectedChild = Array.from(item.children).some((child: any) => this.isItemSelected(child, 3));\r\n        return hasSelectedChild && !item.open;\r\n      }\r\n    }\r\n\r\n    if (level === 1) {\r\n      if (!item.children || item.children.length === 0) {\r\n        return !!item.selected;\r\n      }\r\n\r\n      const hasSelectedChild = Array.from(item.children).some((child: any) => this.isItemSelected(child, 2));\r\n      if (hasSelectedChild && !item.open) return true;\r\n\r\n      const hasSelectedGrandchild = Array.from(item.children).some(\r\n        (child: any) => child.children && Array.from(child.children).some((grandchild: any) => this.isItemSelected(grandchild, 3)),\r\n      );\r\n      if (hasSelectedGrandchild && !item.open) return true;\r\n\r\n      return false;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private setFocusedItem = (itemId: string) => {\r\n    this.focusedItemId = itemId;\r\n  };\r\n\r\n  private handleClick = (currentId: string) => {\r\n    let itemClicked;\r\n\r\n    if (!this.menuItems) return;\r\n\r\n    this.deselectAll(this.menuItems);\r\n\r\n    const selectById = (items: any[]) => {\r\n      items.forEach(item => {\r\n        if (item.id === currentId) {\r\n          itemClicked = item;\r\n          item.selected = true;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          selectById(Array.from(item.children));\r\n        }\r\n      });\r\n    };\r\n\r\n    selectById(this.menuItems);\r\n    this.athSelected.emit(itemClicked);\r\n\r\n    this.menuItems = [...this.menuItems];\r\n  };\r\n\r\n  private handleClickOpen = (id: string, level: number = 1, focusFirstChild: boolean = false) => {\r\n    if (!this.menuItems) return;\r\n\r\n    if (level === 1) {\r\n      this.menuItems.forEach(item => {\r\n        item.open = item.id === id;\r\n        if (item.children && item.children.length > 0) {\r\n          Array.from(item.children).forEach((child: any) => {\r\n            child.open = false;\r\n          });\r\n        }\r\n      });\r\n    } else if (level === 2) {\r\n      this.menuItems.forEach(item => {\r\n        if (item.children && item.children.length > 0) {\r\n          Array.from(item.children).forEach((child: any) => {\r\n            child.open = child.id === id;\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const closeSiblingsAndOpen = (items: any[]) => {\r\n        for (const item of items) {\r\n          if (item.children && item.children.length > 0) {\r\n            const child = Array.from(item.children).find((c: any) => c.id === id);\r\n            if (child) {\r\n              Array.from(item.children).forEach((c: any) => {\r\n                c.open = c.id === id;\r\n                if (c.children && c.children.length > 0 && c.id !== id) {\r\n                  Array.from(c.children).forEach((grandchild: any) => {\r\n                    grandchild.open = false;\r\n                  });\r\n                }\r\n              });\r\n              return true;\r\n            } else if (closeSiblingsAndOpen(Array.from(item.children))) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n      closeSiblingsAndOpen(this.menuItems);\r\n    }\r\n\r\n    this.menuItems = [...this.menuItems];\r\n\r\n    if (focusFirstChild) {\r\n      const parent = this.findItemById(this.menuItems, id);\r\n      if (parent && parent.children && parent.children.length > 0) {\r\n        const firstChildId = `${id}-0`;\r\n        this.focusedItemId = firstChildId;\r\n      }\r\n    }\r\n  };\r\n\r\n  private findItemById(items: any[], id: string): any | null {\r\n    for (const item of items) {\r\n      if (item.id === id) return item;\r\n      if (item.children && item.children.length > 0) {\r\n        const found = this.findItemById(Array.from(item.children), id);\r\n        if (found) return found;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private handleKeyDown = (e: KeyboardEvent, id: string, level: number = 1, hasChildren: boolean) => {\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        if (hasChildren && level === 1) {\r\n          const parent = this.findItemById(this.menuItems, id);\r\n          if (parent && parent.selected && parent.children && parent.children.length > 0) {\r\n            const firstChildId = `${id}-0`;\r\n            this.focusedItemId = firstChildId;\r\n            const firstChildEl = this.el.shadowRoot.querySelector(`[id=\"${firstChildId}\"]`) as HTMLElement;\r\n            if (firstChildEl) firstChildEl.focus();\r\n            break;\r\n          }\r\n        }\r\n        this.updateFocusableItems();\r\n        this.focusNext(id);\r\n        break;\r\n      case 'ArrowUp':\r\n        this.focusPrev(id);\r\n        break;\r\n      case 'ArrowRight':\r\n        if (hasChildren) {\r\n          this.handleClickOpen(id, level, false);\r\n        }\r\n        break;\r\n      case ' ':\r\n      case 'Enter':\r\n        if (hasChildren) {\r\n          this.handleClickOpen(id, level, false);\r\n        } else {\r\n          this.handleClick(id);\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  private deselectAll(items: any[]) {\r\n    items.forEach(item => {\r\n      item.selected = false;\r\n      if (item.children && item.children.length > 0) {\r\n        this.deselectAll(Array.from(item.children));\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateFocusableItems() {\r\n    this.focusableItems = Array.from(this.el.shadowRoot.querySelectorAll('[role=\"menuitem\"]:not([aria-disabled=\"true\"])')) as HTMLElement[];\r\n  }\r\n\r\n  private focusPrev(currentId: string) {\r\n    const currentEl = this.el.shadowRoot.querySelector(`[id=\"${currentId}\"]`) as HTMLElement;\r\n    if (!currentEl) return;\r\n    const parentUl = currentEl.closest('ul[role=\"menu\"]');\r\n    if (!parentUl) return;\r\n    const items = Array.from(parentUl.querySelectorAll('[role=\"menuitem\"]:not([aria-disabled=\"true\"])')) as HTMLElement[];\r\n    const idx = items.findIndex(el => el.id === currentId);\r\n    if (idx === -1) return;\r\n\r\n    if (idx > 0) {\r\n      items[idx - 1].focus();\r\n      this.focusedItemId = items[idx - 1].id;\r\n    } else {\r\n      const parentLi = parentUl.closest('li[role=\"none\"]');\r\n      if (parentLi) {\r\n        const parentMenuItem = parentLi.querySelector('[role=\"menuitem\"]:not([aria-disabled=\"true\"])');\r\n        if (parentMenuItem) {\r\n          (parentMenuItem as HTMLElement).focus();\r\n          this.focusedItemId = (parentMenuItem as HTMLElement).id;\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private focusNext(currentId: string) {\r\n    const items = this.focusableItems;\r\n    const idx = items.findIndex(el => el.id === currentId);\r\n    if (idx === -1) return;\r\n\r\n    if (idx < items.length - 1) {\r\n      items[idx + 1].focus();\r\n      this.focusedItemId = items[idx + 1].id;\r\n    }\r\n  }\r\n\r\n  // SCSS\r\n  private getListClassNames = () => ({\r\n    'ath-menu-vertical__menu': true,\r\n    'ath-menu-vertical__list': true,\r\n    [`ath-menu-vertical-${this.appearance}`]: true,\r\n  });\r\n\r\n  render() {\r\n    return (\r\n      <Host role=\"navigation\" class=\"ath-menu-vertical\">\r\n        <ul role=\"menu\" class={this.getListClassNames()}>\r\n          {this.renderMenu()}\r\n        </ul>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}