{"version":3,"file":"focus-manager.js","sourceRoot":"","sources":["../../../src/components/tabs/focus-manager.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,MAAM,cAAc,GAAG,CAC5B,IAA0C,EAC1C,SAAiB,EACjB,WAAmB,EACnB,QAAiB,KAAK,EACF,EAAE;IACtB,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAA4B,CAAC;IAE/D,IAAI,CAAC,gBAAgB;QAAE,OAAO,WAAW,CAAC;IAE1C,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,gBAAgB,EAAE,EAAE,CAAC,CAAC;IAErE,IAAI,UAAU,EAAE,CAAC;QACf,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,CAAC,CAAC;QACnE,IAAI,SAAS,GAAG,YAAY,GAAG,SAAS,CAAC;QAEzC,IAAI,KAAK,EAAE,CAAC;YACV,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;oBACtB,SAAS,GAAG,CAAC,CAAC;oBACd,MAAM;gBACR,CAAC;YACH,CAAC;QACH,CAAC;aAAM,IAAI,SAAS,KAAK,CAAC,EAAE,CAAC;YAC3B,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACnD,CAAC;aAAM,CAAC;YACN,SAAS,GAAG,CAAC,YAAY,GAAG,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YACnE,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACnD,SAAS,GAAG,CAAC,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAClE,CAAC;QACH,CAAC;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;QAEhC,UAAU;QACV,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACjC,IAAI,SAAS,KAAK,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,EAAE,CAAC;gBAC3C,OAAO,WAAW,CAAC;YACrB,CAAC;YACD,IAAI,SAAS,KAAK,CAAC,IAAI,YAAY,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACxD,OAAO,WAAW,CAAC;YACrB,CAAC;YAED,OAAO,OAAO,CAAC,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IAED,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,KAAa,EAAE,EAAe,EAAE,EAAE;IACzD,MAAM,UAAU,GAAG,EAAE,CAAC,aAAa,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC;IACrD,IAAI,UAAU,EAAE,CAAC;QACd,UAA0B,CAAC,KAAK,EAAE,CAAC;IACtC,CAAC;AACH,CAAC,CAAC","sourcesContent":["export const moveFocusToTab = (\r\n  tabs: { id: string; disabled?: boolean }[],\r\n  direction: number,\r\n  activeTabId: string,\r\n  toEnd: boolean = false,\r\n): string | undefined => {\r\n  const activeTabElement = document.activeElement as HTMLElement;\r\n\r\n  if (!activeTabElement) return activeTabId;\r\n\r\n  const currentTab = tabs.find(tab => tab.id === activeTabElement?.id);\r\n\r\n  if (currentTab) {\r\n    let currentIndex = tabs.findIndex(tab => tab.id === currentTab.id);\r\n    let nextIndex = currentIndex + direction;\r\n\r\n    if (toEnd) {\r\n      for (let i = tabs.length - 1; i >= 0; i--) {\r\n        if (!tabs[i].disabled) {\r\n          nextIndex = i;\r\n          break;\r\n        }\r\n      }\r\n    } else if (direction === 0) {\r\n      nextIndex = tabs.findIndex(tab => !tab.disabled);\r\n    } else {\r\n      nextIndex = (currentIndex + direction + tabs.length) % tabs.length;\r\n      while (tabs[nextIndex] && tabs[nextIndex].disabled) {\r\n        nextIndex = (nextIndex + direction + tabs.length) % tabs.length;\r\n      }\r\n    }\r\n\r\n    const nextTab = tabs[nextIndex];\r\n\r\n    // No loop\r\n    if (nextTab && !nextTab.disabled) {\r\n      if (direction === -1 && currentIndex === 0) {\r\n        return activeTabId;\r\n      }\r\n      if (direction === 1 && currentIndex === tabs.length - 1) {\r\n        return activeTabId;\r\n      }\r\n\r\n      return nextTab.id;\r\n    }\r\n  }\r\n\r\n  return activeTabId;\r\n};\r\n\r\nexport const focusTab = (tabId: string, el: HTMLElement) => {\r\n  const tabElement = el.querySelector(`span#${tabId}`);\r\n  if (tabElement) {\r\n    (tabElement as HTMLElement).focus();\r\n  }\r\n};\r\n"]}