{"version":3,"file":"button.js","sourceRoot":"","sources":["../../../src/components/button/button.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Element, h, JSX, Host, Event, EventEmitter, ComponentInterface, Method, Listen, AttachInternals } from '@stencil/core';\r\nimport { ButtonType, ButtonIconPosition, ButtonColors, ButtonColor, ButtonSizes, ButtonSize, ButtonTypes, ButtonIconPositions } from './button.model';\r\nimport { transformIconSize, IconType } from '../../utils/helper';\r\n\r\n@Component({\r\n  tag: 'ath-button',\r\n  styleUrls: ['button.scss'],\r\n  shadow: true,\r\n  formAssociated: true,\r\n})\r\nexport class AthButton implements ComponentInterface {\r\n  private showLeftIcon: boolean;\r\n  private showRightIcon: boolean;\r\n\r\n  @Element() el: HTMLElement | null;\r\n\r\n  @AttachInternals() internals: ElementInternals;\r\n\r\n  /**\r\n   * The color variant of the button\r\n   */\r\n  @Prop({ reflect: true }) color: ButtonColors = ButtonColor.Primary;\r\n\r\n  /**\r\n   * The size of the buton\r\n   */\r\n  @Prop({ reflect: true }) size: ButtonSizes = ButtonSize.Medium;\r\n\r\n  /**\r\n   * The type of the button\r\n   */\r\n  @Prop() type: ButtonTypes = ButtonType.Button;\r\n\r\n  /**\r\n   * Whether the button has an icon and his position\r\n   */\r\n  @Prop({ reflect: true }) iconPosition: ButtonIconPositions = ButtonIconPosition.None;\r\n\r\n  /**\r\n   * The code of the button's icon (used with iconPosition)\r\n   */\r\n  @Prop() icon: string;\r\n\r\n  /**\r\n   * The clear of the button (background and border color)\r\n   */\r\n  @Prop() clear = false;\r\n\r\n  /**\r\n   * The button can be adapted to its container width\r\n   */\r\n  @Prop({ reflect: true }) fullWidth = false;\r\n\r\n  /**\r\n   * The button is disabled\r\n   */\r\n  @Prop() disabled = false;\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    if (!this.disabled) {\r\n      this.el.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emitted when the button is clicked\r\n   */\r\n  @Event() athClick: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the button gains focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the button loses focus\r\n   */\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  componentWillLoad() {\r\n    this.showLeftIcon = this.icon && (this.iconPosition === ButtonIconPosition.Left || this.iconPosition === ButtonIconPosition.IconOnly);\r\n    this.showRightIcon = this.icon && this.iconPosition === ButtonIconPosition.Right;\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.el.hasAttribute('autofocus') && this.el.getAttribute('autofocus') !== 'false') {\r\n      this.setFocus();\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    if (['Enter', 'Space'].includes(ev.code)) {\r\n      this.handleClick();\r\n    }\r\n  }\r\n\r\n  private handleClick = (/**event: Event*/) => {\r\n    if (!this.disabled) {\r\n      if (this.type === ButtonType.Submit) {\r\n        this.internals?.form && this.internals.form.requestSubmit();\r\n      }\r\n      if (this.type === ButtonType.Reset) {\r\n        this.internals?.form && this.internals.form.reset();\r\n      }\r\n\r\n      this.athClick.emit();\r\n    }\r\n  };\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleBlur = () => {\r\n    this.athBlur.emit();\r\n  };\r\n\r\n  private getHostClassNames = () => ({\r\n    'ath-button': true,\r\n  });\r\n\r\n  private getSpanClassNames = () => ({\r\n    'ath-button--container': true,\r\n    [`ath-button--${this.size}`]: !!this.size,\r\n    [`ath-button--solid`]: !this.clear,\r\n    [`ath-button--clear`]: this.clear,\r\n    [`ath-button--${this.color}`]: !!this.color,\r\n    [`ath-button--icon-only`]: this.iconPosition === ButtonIconPosition.IconOnly,\r\n    [`ath-button--disabled`]: this.disabled,\r\n    [`ath-button--full-width`]: this.fullWidth,\r\n  });\r\n\r\n  private getButtonStyle = () => ({\r\n    width: this.fullWidth ? '100%' : 'auto',\r\n  });\r\n\r\n  private renderIcon = () => {\r\n    const isIconOnly = this.iconPosition === ButtonIconPosition.IconOnly;\r\n    const iconSize = isIconOnly ? transformIconSize(IconType.ButtonIconOnly, this.size) : transformIconSize(IconType.Button, this.size);\r\n    return <ath-icon icon={this.icon} size={iconSize} color=\"inherit\"></ath-icon>;\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const hostTabindex = this.el.getAttribute('tabindex') === '-1' ? '-1' : '0';\r\n    return (\r\n      <Host\r\n        role=\"button\"\r\n        class={this.getHostClassNames()}\r\n        tabindex={this.disabled ? '-1' : hostTabindex}\r\n        onFocus={this.handleFocus}\r\n        onBlur={this.handleBlur}\r\n        onClick={this.handleClick}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        style={this.getButtonStyle()}\r\n      >\r\n        <span class={this.getSpanClassNames()} part=\"button-styles\">\r\n          <span class=\"ath-button__inner\">\r\n            {this.showLeftIcon && this.renderIcon()}\r\n            {this.iconPosition != 'icon-only' && <slot></slot>}\r\n            {this.showRightIcon && this.renderIcon()}\r\n          </span>\r\n        </span>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}