{"version":3,"file":"ath-progress-bar.entry.cjs.js","sources":["src/components/progress-bar/progress-bar.model.ts","src/components/progress-bar/progress-bar.scss?tag=ath-progress-bar&encapsulation=shadow","src/components/progress-bar/progress-bar.tsx"],"sourcesContent":["import { ValueOf } from '@utils/helper';\r\n\r\nexport const ProgressBarLabelAlignment = {\r\n    Inline: 'inline',\r\n    Stack: 'stack',\r\n} as const;\r\n\r\nexport type ProgressBarLabelAlignmentType = ValueOf<typeof ProgressBarLabelAlignment>;","@use 'progress-bar.mixin.scss' as mixins;\r\n\r\n:host {\r\n  width: 100%;\r\n\r\n  .ath-progress-bar {\r\n    display: flex;\r\n\r\n    &-temporal {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n\r\n    &-item {\r\n      width: 100%;\r\n      height: var(--ath-sizing-progress-bar-item-height);\r\n      border-radius: var(--ath-border-radius-slider-controller-trail);\r\n      background: var(--ath-color-slider-controller-trail-bg-default);\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n\r\n    &__filler {\r\n      height: var(--ath-sizing-progress-bar-item-height);\r\n      border-radius: var(--ath-border-radius-progress-bar-item-track);\r\n      background: var(--ath-color-slider-controller-trail-bg-selected);\r\n      width: calc(var(--progress-value, 0) * 1%);\r\n      transition: width 0.3s ease;\r\n\r\n      &.infinite {\r\n        animation: loading 1.5s linear infinite;\r\n        position: absolute;\r\n        width: 75px;\r\n      }\r\n    }\r\n\r\n    &-label {\r\n      color: var(--ath-color-fg-default);\r\n      font-family: var(--ath-font-family-primary);\r\n      font-size: var(--ath-font-size-input-text);\r\n      font-style: normal;\r\n      font-weight: var(--ath-font-weight-regular);\r\n      line-height: var(--ath-font-line-height-body);\r\n\r\n      &.left {\r\n        text-align: left;\r\n      }\r\n\r\n      &.right {\r\n        margin-left: auto;\r\n      }\r\n    }\r\n  }\r\n\r\n  @include mixins.alignment('stack');\r\n  @include mixins.alignment('inline');\r\n}\r\n\r\n@keyframes loading {\r\n  0% {\r\n    left: 0%;\r\n  }\r\n\r\n  100% {\r\n    left: 100%;\r\n  }\r\n}\r\n","import { Component, Element, Host, Prop, h } from '@stencil/core';\r\nimport { ProgressBarLabelAlignmentType, ProgressBarLabelAlignment } from './progress-bar.model';\r\n\r\nlet inputCounterSeq = 0;\r\n@Component({\r\n  tag: 'ath-progress-bar',\r\n  styleUrl: 'progress-bar.scss',\r\n  shadow: true,\r\n})\r\nexport class AthProgressBar {\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * Infinite determines if the progress bar is a loop or not\r\n   */\r\n  @Prop() infinite: boolean = false;\r\n\r\n  /**\r\n   * Text of the label left\r\n   */\r\n  @Prop() labelLeft: string;\r\n\r\n  /**\r\n   * Text of the label right\r\n   */\r\n  @Prop() labelRight: string;\r\n\r\n  /**\r\n   * Change label alignment\r\n   */\r\n  @Prop() labelAlignment: ProgressBarLabelAlignmentType = ProgressBarLabelAlignment.Stack;\r\n\r\n  /**\r\n   * Number min of progress bar\r\n   */\r\n  @Prop() min: number = 0;\r\n\r\n  /**\r\n   * Number max of progress bar\r\n   */\r\n  @Prop() max: number = 100;\r\n\r\n  /**\r\n   * Value of the progress bar\r\n   */\r\n  @Prop() value: number;\r\n\r\n  /**\r\n   * Value text of the progress bar\r\n   */\r\n  @Prop() valueText: string;\r\n\r\n  /**\r\n   * Aria Label\r\n   */\r\n  @Prop() athAriaLabel: string;\r\n\r\n  /**\r\n   * Calculate the percetage of value\r\n   */\r\n  private get valuePercentage(): number {\r\n    // Calcula el porcentaje relativo entre min y max\r\n    const clampedValue = Math.max(this.min, Math.min(this.max, this.value));\r\n    const range = this.max - this.min;\r\n    if (range === 0) return 0;\r\n    return ((clampedValue - this.min) / range) * 100;\r\n  }\r\n\r\n  //Generador de ID dinamicos para accesibilidad\r\n  private uniqueId = (() => {\r\n    return (prefix: string) => {\r\n      const normalized = prefix\r\n        .replace(/\\s+/g, '-') // espacios por guiones\r\n        .replace(/([a-z])([A-Z])/g, '$1-$2') // camelCase a kebab-case\r\n        .toLowerCase();\r\n      return `${normalized}-${++inputCounterSeq}`;\r\n    };\r\n  })();\r\n\r\n  private getHostAtributtes = () => {\r\n    return {\r\n      'role': 'progressbar',\r\n      'aria-valuenow': this.infinite ? undefined : this.value > this.max ? this.max : this.value < this.min ? this.min : this.value,\r\n      'aria-valuemin': this.infinite ? undefined : this.min,\r\n      'aria-valuemax': this.infinite ? undefined : this.max,\r\n      'aria-valuetext': this.valueText ?? undefined,\r\n      'aria-label': this.athAriaLabel || undefined,\r\n    };\r\n  };\r\n\r\n  private getClassNames = () => ({\r\n    'ath-progress-bar': true,\r\n    [`ath-progress-bar--${this.labelAlignment}`]: !!this.labelAlignment,\r\n  });\r\n\r\n  private getFillerClassNames = () => ({\r\n    'ath-progress-bar__filler': true,\r\n    'infinite': this.infinite,\r\n  });\r\n\r\n  render() {\r\n    // Genera los IDs solo si hay label\r\n    const labelLeftId = this.labelLeft ? this.uniqueId(this.labelLeft) : undefined;\r\n    const labelRightId = this.labelRight ? this.uniqueId(this.labelRight) : undefined;\r\n\r\n    // Prepara aria-labelledby\r\n    const ariaLabelledBy = !this.athAriaLabel && (labelLeftId || labelRightId) ? [labelLeftId, labelRightId].filter(Boolean).join(' ') : undefined;\r\n\r\n    return (\r\n      <Host>\r\n        <div class={this.getClassNames()}>\r\n          {this.labelLeft && this.labelAlignment === 'inline' && (\r\n            <span id={labelLeftId} class=\"ath-progress-bar-label left\">\r\n              {this.labelLeft}\r\n            </span>\r\n          )}\r\n          <div\r\n            {...{\r\n              ...this.getHostAtributtes(),\r\n              'aria-labelledby': ariaLabelledBy,\r\n            }}\r\n            class=\"ath-progress-bar-item\"\r\n            style={{ '--progress-value': `${this.valuePercentage}` }}\r\n          >\r\n            <div class={this.getFillerClassNames()}></div>\r\n          </div>\r\n          {(this.labelLeft || this.labelRight) && this.labelAlignment === 'stack' && (\r\n            <div class=\"ath-progress-bar-temporal\">\r\n              {this.labelLeft && (\r\n                <span id={labelLeftId} class=\"ath-progress-bar-label left\">\r\n                  {this.labelLeft}\r\n                </span>\r\n              )}\r\n              {this.labelRight && (\r\n                <span id={labelRightId} class=\"ath-progress-bar-label right\">\r\n                  {this.labelRight}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":["h","Host"],"mappings":"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"}