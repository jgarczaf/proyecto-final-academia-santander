{"version":3,"file":"ath-button.entry.cjs.js","sources":["src/components/button/button.scss?tag=ath-button&encapsulation=shadow","src/components/button/button.tsx"],"sourcesContent":["@use 'utilities';\r\n@use 'tools';\r\n@use './button.theme.scss';\r\n\r\n:host {\r\n  display: inline-block;\r\n  width: fit-content;\r\n  vertical-align: top; // the better option for most scenarios\r\n  vertical-align: -webkit-baseline-middle; // the best for those that support it\r\n  user-select: none;\r\n\r\n  .ath-button--container {\r\n    display: flex;\r\n    position: relative;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: calc(var(--spacing-y) - var(--border-width)) calc(var(--spacing-x) - var(--border-width));\r\n    font-family: var(--ath-font-family-primary);\r\n    font-size: var(--font-size);\r\n    font-weight: var(--font-weight);\r\n    line-height: var(--line-height);\r\n    color: var(--color);\r\n    background-color: var(--background-color);\r\n    border-radius: var(--border-radius);\r\n    border-width: var(--border-width);\r\n    border-style: solid;\r\n    border-color: var(--border-color);\r\n    outline: none;\r\n    transition: background 0.5s;\r\n    cursor: pointer;\r\n\r\n    .ath-button__inner {\r\n      position: relative;\r\n      display: flex;\r\n      column-gap: var(--col-gap);\r\n      flex-flow: row nowrap;\r\n      flex-shrink: 0;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n\r\n    &.ath-button--clear {\r\n      text-decoration: underline;\r\n    }\r\n\r\n    &.ath-button--icon-only {\r\n      padding: calc(var(--spacing) - var(--border-width));\r\n    }\r\n\r\n    &.ath-button--link {\r\n      text-decoration: none;\r\n    }\r\n\r\n    &.ath-button--full-width {\r\n      width: 100%;\r\n    }\r\n\r\n    &.ath-button--disabled {\r\n      box-shadow: none;\r\n      cursor: not-allowed;\r\n\r\n      &.ath-button--clear {\r\n        border-style: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n:host(:focus:not(:active)),\r\n:host(:focus-visible:not(:active)) {\r\n  outline: none;\r\n  .ath-button--container {\r\n    outline: 2px solid var(--ath-color-border-focus);\r\n    outline-offset: 2px;\r\n  }\r\n  .ath-button--clear {\r\n    text-decoration: none;\r\n  }\r\n}\r\n","import { Component, Prop, Element, h, JSX, Host, Event, EventEmitter, ComponentInterface, Method, Listen, AttachInternals } from '@stencil/core';\r\nimport { ButtonType, ButtonIconPosition, ButtonColors, ButtonColor, ButtonSizes, ButtonSize, ButtonTypes, ButtonIconPositions } from './button.model';\r\nimport { transformIconSize, IconType } from '../../utils/helper';\r\n\r\n@Component({\r\n  tag: 'ath-button',\r\n  styleUrls: ['button.scss'],\r\n  shadow: true,\r\n  formAssociated: true,\r\n})\r\nexport class AthButton implements ComponentInterface {\r\n  private showLeftIcon: boolean;\r\n  private showRightIcon: boolean;\r\n\r\n  @Element() el: HTMLElement | null;\r\n\r\n  @AttachInternals() internals: ElementInternals;\r\n\r\n  /**\r\n   * The color variant of the button\r\n   */\r\n  @Prop({ reflect: true }) color: ButtonColors = ButtonColor.Primary;\r\n\r\n  /**\r\n   * The size of the buton\r\n   */\r\n  @Prop({ reflect: true }) size: ButtonSizes = ButtonSize.Medium;\r\n\r\n  /**\r\n   * The type of the button\r\n   */\r\n  @Prop() type: ButtonTypes = ButtonType.Button;\r\n\r\n  /**\r\n   * Whether the button has an icon and his position\r\n   */\r\n  @Prop({ reflect: true }) iconPosition: ButtonIconPositions = ButtonIconPosition.None;\r\n\r\n  /**\r\n   * The code of the button's icon (used with iconPosition)\r\n   */\r\n  @Prop() icon: string;\r\n\r\n  /**\r\n   * The clear of the button (background and border color)\r\n   */\r\n  @Prop() clear = false;\r\n\r\n  /**\r\n   * The button can be adapted to its container width\r\n   */\r\n  @Prop({ reflect: true }) fullWidth = false;\r\n\r\n  /**\r\n   * The button is disabled\r\n   */\r\n  @Prop() disabled = false;\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    if (!this.disabled) {\r\n      this.el.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emitted when the button is clicked\r\n   */\r\n  @Event() athClick: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the button gains focus\r\n   */\r\n  @Event() athFocus: EventEmitter<void>;\r\n\r\n  /**\r\n   * Emitted when the button loses focus\r\n   */\r\n  @Event() athBlur: EventEmitter<void>;\r\n\r\n  componentWillLoad() {\r\n    this.showLeftIcon = this.icon && (this.iconPosition === ButtonIconPosition.Left || this.iconPosition === ButtonIconPosition.IconOnly);\r\n    this.showRightIcon = this.icon && this.iconPosition === ButtonIconPosition.Right;\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.el.hasAttribute('autofocus') && this.el.getAttribute('autofocus') !== 'false') {\r\n      this.setFocus();\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    if (['Enter', 'Space'].includes(ev.code)) {\r\n      this.handleClick();\r\n    }\r\n  }\r\n\r\n  private handleClick = (/**event: Event*/) => {\r\n    if (!this.disabled) {\r\n      if (this.type === ButtonType.Submit) {\r\n        this.internals?.form && this.internals.form.requestSubmit();\r\n      }\r\n      if (this.type === ButtonType.Reset) {\r\n        this.internals?.form && this.internals.form.reset();\r\n      }\r\n\r\n      this.athClick.emit();\r\n    }\r\n  };\r\n\r\n  private handleFocus = () => {\r\n    this.athFocus.emit();\r\n  };\r\n\r\n  private handleBlur = () => {\r\n    this.athBlur.emit();\r\n  };\r\n\r\n  private getHostClassNames = () => ({\r\n    'ath-button': true,\r\n  });\r\n\r\n  private getSpanClassNames = () => ({\r\n    'ath-button--container': true,\r\n    [`ath-button--${this.size}`]: !!this.size,\r\n    [`ath-button--solid`]: !this.clear,\r\n    [`ath-button--clear`]: this.clear,\r\n    [`ath-button--${this.color}`]: !!this.color,\r\n    [`ath-button--icon-only`]: this.iconPosition === ButtonIconPosition.IconOnly,\r\n    [`ath-button--disabled`]: this.disabled,\r\n    [`ath-button--full-width`]: this.fullWidth,\r\n  });\r\n\r\n  private getButtonStyle = () => ({\r\n    width: this.fullWidth ? '100%' : 'auto',\r\n  });\r\n\r\n  private renderIcon = () => {\r\n    const isIconOnly = this.iconPosition === ButtonIconPosition.IconOnly;\r\n    const iconSize = isIconOnly ? transformIconSize(IconType.ButtonIconOnly, this.size) : transformIconSize(IconType.Button, this.size);\r\n    return <ath-icon icon={this.icon} size={iconSize} color=\"inherit\"></ath-icon>;\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const hostTabindex = this.el.getAttribute('tabindex') === '-1' ? '-1' : '0';\r\n    return (\r\n      <Host\r\n        role=\"button\"\r\n        class={this.getHostClassNames()}\r\n        tabindex={this.disabled ? '-1' : hostTabindex}\r\n        onFocus={this.handleFocus}\r\n        onBlur={this.handleBlur}\r\n        onClick={this.handleClick}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        style={this.getButtonStyle()}\r\n      >\r\n        <span class={this.getSpanClassNames()} part=\"button-styles\">\r\n          <span class=\"ath-button__inner\">\r\n            {this.showLeftIcon && this.renderIcon()}\r\n            {this.iconPosition != 'icon-only' && <slot></slot>}\r\n            {this.showRightIcon && this.renderIcon()}\r\n          </span>\r\n        </span>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":["ButtonColor","ButtonSize","ButtonType","ButtonIconPosition","transformIconSize","IconType","h","Host"],"mappings":"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"}