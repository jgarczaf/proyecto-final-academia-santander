{"version":3,"file":"ath-accordion.entry.js","sources":["src/components/accordion/accordion.model.ts","src/components/accordion/accordion.scss?tag=ath-accordion&encapsulation=shadow","src/components/accordion/accordion.tsx"],"sourcesContent":["import { ValueOf } from '@utils/helper';\r\n\r\nexport const AccordionExpands = {\r\n  All: 'all',\r\n  One: 'one',\r\n} as const;\r\n\r\nexport type AccordionExpand = ValueOf<typeof AccordionExpands>;\r\n",":host {\r\n  .ath-accordion {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--ath-spacing-accordion-line-row-gap);\r\n  }\r\n}\r\n","import { Component, Prop, State, h, Element, JSX, Host, Listen } from '@stencil/core';\r\nimport { AccordionExpand, AccordionExpands } from './accordion.model';\r\n\r\n@Component({\r\n  tag: 'ath-accordion',\r\n  styleUrl: 'accordion.scss',\r\n  shadow: true,\r\n})\r\nexport class AthAccordion {\r\n  /**\r\n   * Indica si se pueden abrir todos los elementos al mismo tiempo\r\n   */\r\n  @Prop({ reflect: true }) expand: AccordionExpand = AccordionExpands.All;\r\n\r\n  /**\r\n   * Si es true, se muestra el divisor también en el último ítem.\r\n   */\r\n  @Prop() noLastItemDivider: boolean = false;\r\n\r\n  /**\r\n   * Indica una etiqueta accesible para el acordeón\r\n   */\r\n  @Prop() ariaLabel: string | null;\r\n\r\n  @State() expandedItems: number[] = []; // Array de índices de ítems expandidos.\r\n  @Element() el: HTMLElement; // Referencia al elemento base del componente.\r\n\r\n  @Listen('opened')\r\n  handleOpened(event) {\r\n    this.refreshAccordionitems(event.target);\r\n  }\r\n\r\n  private items: HTMLAthAccordionItemElement[] = [];\r\n\r\n  componentDidLoad() {\r\n    const slot = this.el.shadowRoot.querySelector('slot');\r\n\r\n    if (slot) {\r\n      const assignedElements = slot.assignedElements({ flatten: true }).filter(el => el.tagName.toLowerCase() === 'ath-accordion-item') as HTMLAthAccordionItemElement[];\r\n      this.items = assignedElements;\r\n\r\n      this.items.forEach((item, index) => {\r\n        const isLast = index === this.items.length - 1;\r\n        item.noDivider = isLast ? this.noLastItemDivider : false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private refreshAccordionitems(activeAccordionItem) {\r\n    if (this.expand === AccordionExpands.One) {\r\n      this.closeOtherAccordionItems(activeAccordionItem);\r\n    }\r\n  }\r\n\r\n  private closeOtherAccordionItems(activeAccordionItem) {\r\n    this.items.forEach(item => {\r\n      if (item !== activeAccordionItem && item.expanded) {\r\n        item.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    return (\r\n      <Host role=\"region\">\r\n        <div class={`ath-accordion`}>\r\n          <slot></slot>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAEO,MAAM,gBAAgB,GAAG;AAC9B,IAAA,GAAG,EAAE,KAAK;AACV,IAAA,GAAG,EAAE,KAAK;CACF;;ACLV,MAAM,YAAY,GAAG,0IAA0I;;MCQlJ,YAAY,GAAA,MAAA;;;;AACvB;;AAEG;AACsB,IAAA,MAAM,GAAoB,gBAAgB,CAAC,GAAG;AAEvE;;AAEG;IACK,iBAAiB,GAAY,KAAK;AAE1C;;AAEG;AACK,IAAA,SAAS;AAER,IAAA,aAAa,GAAa,EAAE,CAAC;;AAItC,IAAA,YAAY,CAAC,KAAK,EAAA;AAChB,QAAA,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,MAAM,CAAC;;IAGlC,KAAK,GAAkC,EAAE;IAEjD,gBAAgB,GAAA;AACd,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC;QAErD,IAAI,IAAI,EAAE;AACR,YAAA,MAAM,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,oBAAoB,CAAkC;AAClK,YAAA,IAAI,CAAC,KAAK,GAAG,gBAAgB;YAE7B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;gBACjC,MAAM,MAAM,GAAG,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;AAC9C,gBAAA,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK;AAC1D,aAAC,CAAC;;;AAIE,IAAA,qBAAqB,CAAC,mBAAmB,EAAA;QAC/C,IAAI,IAAI,CAAC,MAAM,KAAK,gBAAgB,CAAC,GAAG,EAAE;AACxC,YAAA,IAAI,CAAC,wBAAwB,CAAC,mBAAmB,CAAC;;;AAI9C,IAAA,wBAAwB,CAAC,mBAAmB,EAAA;AAClD,QAAA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,IAAG;YACxB,IAAI,IAAI,KAAK,mBAAmB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjD,IAAI,CAAC,KAAK,EAAE;;AAEhB,SAAC,CAAC;;IAGJ,MAAM,GAAA;AACJ,QAAA,QACE,CAAC,CAAA,IAAI,EAAC,EAAA,GAAA,EAAA,0CAAA,EAAA,IAAI,EAAC,QAAQ,EAAA,EACjB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAE,eAAe,EAAA,EACzB,CAAa,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,CACT,CACD;;;;;;;"}