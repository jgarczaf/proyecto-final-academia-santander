{"version":3,"file":"ath-modal.entry.js","sources":["src/components/modal/modal.model.ts","src/components/modal/modal.scss?tag=ath-modal&encapsulation=shadow","src/components/modal/modal.tsx"],"sourcesContent":["import { ValueOf } from '@utils/helper';\r\n\r\nexport const ModalAppearance = {\r\n  Error: 'error',\r\n  Info: 'info',\r\n  Success: 'success',\r\n  Warning: 'warning',\r\n} as const;\r\n\r\nexport const ModalSize = {\r\n  Small: 'sm',\r\n  Medium: 'md',\r\n} as const;\r\n\r\nexport type ModalAppearanceType = ValueOf<typeof ModalAppearance>;\r\nexport type ModalSizeType = ValueOf<typeof ModalSize>;\r\n","@use '../../sharedfc/input/button-comp/fc-button-comp' as buttonComp;\r\n@use '../../assets/scss/elements/scroll';\r\n@use './modal.theme.scss';\r\n\r\n@include buttonComp.fc-button-comp-vars;\r\n@include buttonComp.fc-button-comp;\r\n\r\n:host {\r\n  z-index: 1000;\r\n\r\n  .backdrop {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    background: var(--ath-color-bg-surface-scrim);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 9999;\r\n  }\r\n\r\n  .ath-modal {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    padding: var(--padding);\r\n    gap: var(--ath-spacing-modal-row-gap-sm);\r\n    border-radius: var(--ath-border-radius-modal-default);\r\n    border: 1px solid var(--ath-color-modal-border);\r\n    background: var(--ath-color-bg-surface-secondary-subtlest);\r\n    box-shadow: var(--ath-box-shadow-position-x-0) var(--ath-box-shadow-position-y-4) var(--ath-box-shadow-blur-4) var(--ath-box-shadow-spread-0)\r\n      var(--ath-color-drop-shadow-default);\r\n    align-items: flex-start;\r\n    min-width: 288px;\r\n    margin: 16px;\r\n\r\n    &:focus-visible {\r\n      border: none;\r\n    }\r\n\r\n    &-header {\r\n      display: flex;\r\n      align-self: stretch;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      gap: var(--ath-spacing-modal-row-gap-sm);\r\n\r\n      &:focus-visible {\r\n        outline: none;\r\n      }\r\n\r\n      img {\r\n        width: 104px;\r\n        height: 104px;\r\n      }\r\n\r\n      &-text {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--ath-spacing-modal-header-text-row-gap);\r\n        word-break: break-word;\r\n\r\n        &:focus :focus-visible :focus-within {\r\n          outline: none;\r\n        }\r\n\r\n        &-title {\r\n          align-items: flex-start;\r\n          color: var(--ath-color-fg-default);\r\n          font-family: var(--ath-font-family-heading);\r\n          font-size: var(--ath-font-size-heading-2);\r\n          font-style: normal;\r\n          font-weight: var(--ath-font-weight-heading);\r\n          line-height: var(--ath-font-line-height-heading-2);\r\n          margin: 0px;\r\n        }\r\n\r\n        &-subtitle {\r\n          align-items: flex-start;\r\n          color: var(--ath-color-fg-default);\r\n          font-family: var(--ath-font-family-heading);\r\n          font-size: var(--ath-font-size-heading-4);\r\n          font-style: normal;\r\n          font-weight: var(--ath-font-weight-heading);\r\n          line-height: var(--ath-font-line-height-heading-4);\r\n        }\r\n      }\r\n\r\n      &--alert {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        gap: var(--ath-spacing-modal-header-row-gap-alert);\r\n\r\n        .ath-modal-header-close {\r\n          position: absolute;\r\n          top: var(--ath-spacing-around-250);\r\n          right: var(--ath-spacing-around-250);\r\n        }\r\n\r\n        .ath-modal-header-text {\r\n          &-title {\r\n            align-self: center;\r\n          }\r\n\r\n          &-subtitle {\r\n            align-self: center;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    &--fullscreen {\r\n      margin: unset;\r\n      border-radius: var(--ath-border-radius-modal-full-screen);\r\n      margin: unset;\r\n      position: fixed;\r\n      left: 0px;\r\n      top: 0px;\r\n      right: 0;\r\n      bottom: 0;\r\n    }\r\n\r\n    ath-divider {\r\n      width: 100%;\r\n    }\r\n\r\n    .scrollable-slot {\r\n      max-height: 60vh;\r\n    }\r\n\r\n    &:focus-visible {\r\n      outline: none;\r\n    }\r\n  }\r\n}\r\n","import { Component, Prop, Element, h, JSX, Host, ComponentInterface, Event, EventEmitter, Method, Listen } from '@stencil/core';\r\nimport { ModalSize, ModalAppearance, ModalAppearanceType, ModalSizeType } from './modal.model';\r\nimport { FcButtonComp, FcPictogram } from 'sharedfc/input';\r\nimport { ButtonIconPosition } from 'components/button/button.model';\r\nimport { IconSize } from '@utils/helper';\r\nimport { getHeading } from '@utils/helper/heading';\r\n\r\n@Component({\r\n  tag: 'ath-modal',\r\n  styleUrls: ['modal.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthModal implements ComponentInterface {\r\n  @Element() el: HTMLElement;\r\n  /**\r\n   * Indicates the illustration used when the prop isAlert is set to true\r\n   */\r\n  @Prop() appearance: ModalAppearanceType = ModalAppearance.Error;\r\n\r\n  /**\r\n   * Indicates whether the modal should automatically focus the first interactive element\r\n   */\r\n  @Prop() autofocus: boolean = true;\r\n\r\n  /**\r\n   * Indicates whether the modal should close when clicking outside\r\n   */\r\n  @Prop() clickOutsideClose: boolean = false;\r\n\r\n  /**\r\n   * Indicates whether the modal will occupy the full screen\r\n   */\r\n  @Prop() fullScreen: boolean = false;\r\n\r\n  /**\r\n   * Indicates whether the modal has a close (X) button\r\n   */\r\n  @Prop() hasClose: boolean = true;\r\n\r\n  /**\r\n   * Indicates whether there is a divider between the header and the slots\r\n   */\r\n  @Prop() hasDivider: boolean = false;\r\n\r\n  /**\r\n   * Indicates the heading level of the title\r\n   */\r\n  @Prop() headingLevel = 2;\r\n\r\n  /**\r\n   * Indicates the title text\r\n   */\r\n  @Prop() headingText: string;\r\n\r\n  /**\r\n   * Indicates whether the modal has role \"Alert\", and interrupts the screen reader flow\r\n   */\r\n  @Prop() isAlert: boolean = false;\r\n\r\n  /**\r\n   * Indicates the maximum height of the modal\r\n   */\r\n  @Prop() maxHeight: string;\r\n\r\n  /**\r\n   * Indicates the maximum width of the modal\r\n   */\r\n  @Prop() maxWidth: string;\r\n\r\n  /**\r\n   * Indicates whether the modal is displayed by default\r\n   */\r\n  @Prop({ mutable: true }) open = false;\r\n\r\n  /**\r\n   * Differentiates the modal size between sm and md\r\n   */\r\n  @Prop() size: ModalSizeType = ModalSize.Medium;\r\n\r\n  /**\r\n   * Indicates the subtitle text\r\n   */\r\n  @Prop() subtitleText: string;\r\n\r\n  // ACCESSIBILITY\r\n  /**\r\n   * Accessible text for the close (X) button\r\n   */\r\n  @Prop() closeAriaLabel: string;\r\n\r\n  // EVENTS\r\n  /**\r\n   * Emitted when the modal is opened\r\n   */\r\n  @Event() athOpened: EventEmitter<void>;\r\n\r\n  // EVENTS\r\n  /**\r\n   * Emitted when the modal is closed\r\n   */\r\n  @Event() athClosed: EventEmitter<void>;\r\n\r\n  /**\r\n   * Method to open the modal\r\n   */\r\n  @Method()\r\n  async openModal() {\r\n    this.open = true;\r\n    this.previouslyFocusedElement = this.getDeepActiveElement() as HTMLElement;\r\n\r\n    requestAnimationFrame(() => {\r\n      this.focusableElements = this.findFocusableElements();\r\n\r\n      if (this.autofocus) {\r\n        this.focusFirstElement();\r\n      } else {\r\n        this.blurOuterElement();\r\n      }\r\n\r\n      this.athOpened.emit();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Method to close the modal\r\n   */\r\n  @Method()\r\n  async closeModal() {\r\n    this.open = false;\r\n    if (this.previouslyFocusedElement) {\r\n      this.previouslyFocusedElement.focus();\r\n    }\r\n\r\n    this.athClosed.emit();\r\n  }\r\n\r\n  private previouslyFocusedElement: HTMLElement | null = null;\r\n  private focusableElements: HTMLElement[] = [];\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(e: KeyboardEvent) {\r\n    if (this.open) {\r\n      if (e.key === 'Escape') {\r\n        this.closeModal();\r\n      }\r\n\r\n      if (e.key === 'Tab') {\r\n        if (this.focusableElements.length !== 0) {\r\n          this.trapFocus(e);\r\n        } else {\r\n          e.preventDefault();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private findFocusableElements(): HTMLElement[] {\r\n    const results = new Set<HTMLElement>();\r\n    const focusableSelector = [\r\n      'button:not([disabled]):not([tabindex=\"-1\"])',\r\n      'a[href]:not([tabindex=\"-1\"])',\r\n      'input:not([disabled]):not([type=\"hidden\"]):not([tabindex=\"-1\"])',\r\n      'select:not([disabled]):not([tabindex=\"-1\"])',\r\n      'textarea:not([disabled]):not([tabindex=\"-1\"])',\r\n      'details:not([tabindex=\"-1\"])',\r\n      'area[href]:not([tabindex=\"-1\"])',\r\n      '[contentEditable=true]:not([tabindex=\"-1\"])',\r\n      'iframe:not([tabindex=\"-1\"])',\r\n      '[tabindex]:not([tabindex=\"-1\"])',\r\n    ].join(',');\r\n\r\n    const visited = new WeakSet<Node>();\r\n\r\n    const traverse = (node: Node) => {\r\n      if (!node || visited.has(node)) return;\r\n      visited.add(node);\r\n\r\n      if (node instanceof HTMLElement) {\r\n        const style = window.getComputedStyle(node);\r\n        const isVisible = style.display !== 'none' && style.visibility !== 'hidden';\r\n\r\n        if (isVisible && node.matches(focusableSelector)) {\r\n          results.add(node);\r\n        }\r\n\r\n        if (node.shadowRoot) {\r\n          traverse(node.shadowRoot);\r\n        }\r\n\r\n        const shadow = (node as HTMLElement).shadowRoot;\r\n        if (shadow) {\r\n          shadow.querySelectorAll(focusableSelector).forEach(el => {\r\n            if (el instanceof HTMLElement && window.getComputedStyle(el).display !== 'none') {\r\n              results.add(el);\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      node.childNodes.forEach(traverse);\r\n\r\n      if (typeof HTMLSlotElement !== 'undefined' && node instanceof HTMLSlotElement) {\r\n        node.assignedNodes({ flatten: true }).forEach(traverse);\r\n      }\r\n    };\r\n\r\n    traverse(this.el.shadowRoot ?? this.el);\r\n\r\n    return Array.from(results);\r\n  }\r\n\r\n  private focusFirstElement = () => {\r\n    if (this.focusableElements.length > 0) {\r\n      if (this.focusableElements.length > 1 && this.hasClose) {\r\n        this.focusableElements[1].focus();\r\n      } else {\r\n        this.focusableElements[0].focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  private blurOuterElement = () => {\r\n    const modal = this.el.shadowRoot?.querySelector('.ath-modal') as HTMLElement;\r\n    modal?.focus();\r\n  };\r\n\r\n  componentDidLoad(): void {\r\n    if (this.open) {\r\n      this.openModal();\r\n    }\r\n  }\r\n\r\n  private trapFocus = e => {\r\n    if (this.focusableElements.length === 0) return;\r\n\r\n    const first = this.focusableElements[0];\r\n    const last = this.focusableElements[this.focusableElements.length - 1];\r\n    const realActiveElement = this.getDeepActiveElement();\r\n\r\n    if (e.shiftKey) {\r\n      if (realActiveElement === first) {\r\n        e.preventDefault();\r\n        last.focus();\r\n      }\r\n    } else {\r\n      if (realActiveElement === last) {\r\n        e.preventDefault();\r\n        first.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  private getDeepActiveElement(doc: Document | ShadowRoot = document): Element | null {\r\n    let active = doc.activeElement;\r\n    while (active?.shadowRoot && active.shadowRoot.activeElement) {\r\n      active = active.shadowRoot.activeElement;\r\n    }\r\n    return active;\r\n  }\r\n\r\n  private handleBackdropClick = (e: MouseEvent) => {\r\n    if (e.target === e.currentTarget && this.clickOutsideClose) {\r\n      this.closeModal();\r\n    }\r\n  };\r\n\r\n  private getAccesibilityAttributes = () => ({\r\n    'role': this.isAlert ? 'alertdialog' : 'dialog',\r\n    'aria-describedby': this.subtitleText ? 'subtitleTextId' : undefined,\r\n    'aria-labelledby': this.headingText ? 'headlineTextId' : undefined,\r\n    'aria-modal': 'true',\r\n    'tabindex': '-1',\r\n  });\r\n\r\n  private getDialogClassNames = () => ({\r\n    'ath-modal': true,\r\n    'ath-modal--fullscreen': this.fullScreen,\r\n    [`ath-modal--${this.size}`]: !!this.size,\r\n  });\r\n\r\n  private getHeaderClassNames = () => ({\r\n    'ath-modal-header': true,\r\n    'ath-modal-header--alert': this.isAlert,\r\n  });\r\n\r\n  private getDialogStyle = () => ({\r\n    maxHeight: this.maxHeight || 'unset',\r\n    maxWidth: this.maxWidth || 'unset',\r\n  });\r\n\r\n  private renderHeading = (): JSX.Element => {\r\n    const HeadingTitle = getHeading(this.headingLevel);\r\n    return (\r\n      <HeadingTitle class=\"ath-modal-header-text-title\" id=\"headlineTextId\">\r\n        {this.headingText}\r\n      </HeadingTitle>\r\n    );\r\n  };\r\n\r\n  private renderHeadingSubtitle = (): JSX.Element => {\r\n    return (\r\n      <div class=\"ath-modal-header-text-subtitle\" id=\"subtitleTextId\">\r\n        {this.subtitleText}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    if (!this.open) {\r\n      return <Host></Host>;\r\n    }\r\n\r\n    return (\r\n      <Host>\r\n        <div class=\"backdrop\" onClick={this.handleBackdropClick}>\r\n          <div {...this.getAccesibilityAttributes()} class={this.getDialogClassNames()} style={this.getDialogStyle()}>\r\n            <div class={this.getHeaderClassNames()}>\r\n              {this.isAlert && <FcPictogram name={`illu_${this.appearance}_msg`}></FcPictogram>}\r\n              <div class=\"ath-modal-header-text\">\r\n                {this.headingText && this.renderHeading()}\r\n                {this.subtitleText && this.renderHeadingSubtitle()}\r\n              </div>\r\n              {this.hasClose && (\r\n                <div class=\"ath-modal-header-close\">\r\n                  <FcButtonComp\r\n                    icon=\"close_small\"\r\n                    color=\"default\"\r\n                    iconPosition={ButtonIconPosition.IconOnly}\r\n                    size={IconSize.Small}\r\n                    onClick={() => this.closeModal()}\r\n                    buttonAriaLabel={this.closeAriaLabel}\r\n                  ></FcButtonComp>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {this.hasDivider && <ath-divider></ath-divider>}\r\n            <div class=\"scrollable-slot ath-scroll\">\r\n              <slot name=\"body\"></slot>\r\n            </div>\r\n            <slot name=\"footer\"></slot>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}