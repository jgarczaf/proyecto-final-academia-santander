{"version":3,"file":"ath-button-expandable.entry.js","sources":["src/components/button-expandable/button-expandable.model.ts","src/components/button-expandable/button-expandable.scss?tag=ath-button-expandable&encapsulation=scoped","src/components/button-expandable/button-expandable.tsx"],"sourcesContent":["import { ValueOf } from '@utils/helper';\r\n\r\nexport const ButtonExpandableSizesTypes = {\r\n  Large: 'lg',\r\n  Medium: 'md',\r\n  Small: 'sm',\r\n} as const;\r\n\r\nexport const ButtonExpandableSizes = ButtonExpandableSizesTypes;\r\nexport type ButtonExpandableSizesType = ValueOf<typeof ButtonExpandableSizes>;\r\n","@use './button-expandable.theme.scss';\r\n\r\n:host {\r\n  display: inline-flex;\r\n  border-radius: var(--border-radius);\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  &:focus-visible:not(:active),\r\n  &:focus:not(:active) {\r\n    outline: none;\r\n    box-shadow: 0 0 0 2px var(--ath-color-border-focus);\r\n  }\r\n  &:hover:not([disabled]),\r\n  &:hover:not([disabled='true']),\r\n  &:active {\r\n    outline: none;\r\n    .ath-button-expandable--text {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  &[disabled]:not([disabled='false']),\r\n  &[disabled='true'] {\r\n    cursor: not-allowed;\r\n    &:hover {\r\n      .ath-button-expandable--text {\r\n        text-decoration: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  .ath-button-expandable {\r\n    &--container {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: var(--color);\r\n      font-family: var(--font-family);\r\n      font-style: normal;\r\n      gap: var(--col-gap);\r\n      font-size: var(--font-size);\r\n      line-height: var(--line-height);\r\n    }\r\n\r\n    &--text {\r\n      font-weight: var(--font-weight);\r\n      white-space: nowrap;\r\n    }\r\n\r\n    &--disabled {\r\n      color: var(--ath-color-fg-disabled);\r\n    }\r\n\r\n    &--chevron {\r\n      display: flex;\r\n\r\n      ath-icon {\r\n        transition: transform 0.3s ease-in-out;\r\n      }\r\n\r\n      &-rotate {\r\n        ath-icon {\r\n          transform: rotate(180deg);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, Host, h, Element, Listen, Event, EventEmitter, Prop, State, ComponentInterface, Method } from '@stencil/core';\r\nimport { IconType, transformIconSize } from '@utils/helper';\r\nimport { ButtonExpandableSizesType, ButtonExpandableSizesTypes } from './button-expandable.model';\r\n\r\n@Component({\r\n  tag: 'ath-button-expandable',\r\n  styleUrl: 'button-expandable.scss',\r\n  scoped: true,\r\n})\r\nexport class AthButtonExpandable implements ComponentInterface {\r\n  @Element() el: HTMLElement | null;\r\n\r\n  /**\r\n   * The size of the buton\r\n   */\r\n  @Prop({ reflect: true }) size: ButtonExpandableSizesType = ButtonExpandableSizesTypes.Large;\r\n\r\n  /**\r\n   * The code of the button's icon (used with iconPosition)\r\n   */\r\n  @Prop() icon: string;\r\n\r\n  /**\r\n   * The button is disabled\r\n   */\r\n  @Prop({ reflect: true }) disabled = false;\r\n\r\n  @State() isExpanded = false;\r\n\r\n  @Event() athToggleCollapse: EventEmitter<string>;\r\n\r\n  @Prop() collapseTarget: string;\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    if (!this.disabled) {\r\n      this.el.focus();\r\n    }\r\n  }\r\n\r\n  @Listen('athCollapseState', { target: 'window' })\r\n  handleCollapseStateChange(event: CustomEvent<{ id: string; isExpanded: boolean }>) {\r\n    if (event.detail.id === this.collapseTarget) {\r\n      this.isExpanded = event.detail.isExpanded;\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    if (['Enter', 'Space'].includes(ev.code) && !this.disabled) {\r\n      ev.preventDefault();\r\n      this.handleCollapse();\r\n    }\r\n  }\r\n\r\n  private handleCollapse = () => {\r\n    this.isExpanded = !this.isExpanded;\r\n    this.athToggleCollapse.emit(this.collapseTarget);\r\n  };\r\n\r\n  private getHostClassNames = () => ({\r\n    'ath-button-expandable': true,\r\n  });\r\n\r\n  private getSpanClassNames = () => ({\r\n    'ath-button-expandable--container': true,\r\n    [`ath-button-expandable--${this.size}`]: !!this.size,\r\n    [`ath-button-expandable--disabled`]: this.disabled,\r\n  });\r\n\r\n  private getChevronClasses = () => ({\r\n    'ath-button-expandable--chevron': true,\r\n    [`ath-button-expandable--chevron-rotate`]: !this.isExpanded,\r\n  });\r\n\r\n  private getAttributes = () => ({\r\n    'role': 'button',\r\n    'tabindex': this.disabled ? '-1' : this.el.getAttribute('tabindex') === '-1' ? '-1' : '0',\r\n    'aria-controls': !this.disabled && this.collapseTarget ? this.collapseTarget : undefined,\r\n    'aria-expanded': !this.disabled && this.collapseTarget ? `${this.isExpanded}` : undefined,\r\n    'aria-disabled': this.disabled ? 'true' : 'false',\r\n    'onClick': this.disabled ? undefined : this.handleCollapse,\r\n    'onMouseDown': e => {\r\n      if (this.disabled) e.preventDefault();\r\n    },\r\n  });\r\n\r\n  private renderIcon = icon => {\r\n    return <ath-icon icon={icon} size={transformIconSize(IconType.ButtonExpandable, this.size)} color={this.disabled ? 'disabled' : 'default'}></ath-icon>;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host class={this.getHostClassNames()} {...this.getAttributes()}>\r\n        <span class={this.getSpanClassNames()}>\r\n          {this.icon && this.renderIcon(this.icon)}\r\n          <span class=\"ath-button-expandable--text\">\r\n            <slot></slot>\r\n          </span>\r\n          <div class={this.getChevronClasses()}>{this.renderIcon('chevron_up')}</div>\r\n        </span>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}