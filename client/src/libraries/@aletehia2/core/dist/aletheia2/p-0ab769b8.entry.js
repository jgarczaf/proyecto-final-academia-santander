import{r as e,c as t,a,h as r,H as i}from"./p-D2-yfY-d.js";import{M as n}from"./p-CaXjjomC.js";import{F as l}from"./p-CFbZMjBY.js";const s=':host .ath-menu-lateral__item-container{--border-radius-container:var(--ath-border-radius-menu-vertical-item-level)}:host .ath-menu-lateral__item-container:hover:not(.ath-menu-lateral__item-container--disabled):not(.ath-menu-lateral__item-container--selected){--bg-container:var(--ath-color-menu-lateral-item-bg-hovered)}:host .ath-menu-lateral__item-container:active:not(.ath-menu-lateral__item-container--disabled):not(.ath-menu-lateral__item-container--selected){--bg-container:var(--ath-color-menu-lateral-item-bg-pressed)}:host .ath-menu-lateral__item-container--disabled{--bg-container:none;--box-shadow:none;cursor:not-allowed}:host .ath-menu-lateral__item-container--selected{--bg-container:var(--ath-color-menu-lateral-item-bg-selected);cursor:default}.ath-visibility-hidden,.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}:host{display:flex;height:100%}:host .ath-menu-lateral{display:flex;height:100%;padding:var(--ath-spacing-menu-lateral-padding-y) var(--ath-spacing-menu-lateral-padding-x);flex-direction:column;align-items:flex-start;gap:var(--ath-spacing-menu-lateral-row-gap);background:var(--ath-color-menu-lateral-bg-default);outline:none;border-right:var(--ath-border-width-xs) solid var(--ath-color-border-alpha-bold-default)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper{cursor:pointer;position:relative}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper .ath-menu-lateral__item{display:flex;align-items:center;border-radius:var(--ath-border-radius-menu-vertical-item-level)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper .ath-menu-lateral__item-container{display:flex;padding:var(--ath-spacing-menu-lateral-item-padding-around);align-items:center;border-radius:var(--border-radius-container);background:var(--bg-container);box-shadow:var(--box-shadow)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper .ath-menu-lateral__item--focused:not(.ath-menu-lateral__item-container--disabled):not(.ath-menu-lateral__item-container--selected){outline:none;--border-radius-container:var(--ath-border-radius-menu-vertical-item-level);--box-shadow:0 0 0 2px var(--ath-color-drop-shadow-focus), 0 0 0 4px var(--ath-color-border-focus);--bg-container:var(--ath-color-menu-lateral-bg-default)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper .ath-menu-lateral__item--focused:not(.ath-menu-lateral__item-container--disabled){outline:none;--border-radius-container:var(--ath-border-radius-menu-vertical-item-level);--box-shadow:0 0 0 2px var(--ath-color-drop-shadow-focus), 0 0 0 4px var(--ath-color-border-focus)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description{position:absolute;z-index:10;pointer-events:none}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description .content{display:flex;padding:var(--ath-spacing-slider-tooltip-padding-y) var(--ath-spacing-slider-tooltip-padding-x);justify-content:center;align-items:center;border-radius:var(--ath-border-radius-slider-tooltip);background:var(--ath-color-tooltip-bg-primary);width:max-content;min-width:28px}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description .content .text{max-width:288px;color:var(--ath-color-tooltip-fg);text-align:center;font-family:var(--ath-font-family-body);font-size:var(--ath-font-size-body-md);font-style:normal;font-weight:var(--ath-font-weight-body-regular);line-height:var(--ath-font-line-height-body)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description--bottom-right{top:32px;left:28px}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description--bottom{bottom:-46px;transform:translate(-50%, 0%)}:host .ath-menu-lateral .ath-menu-lateral__item-wrapper ._ath-help-description--has-arrow::after{content:"";position:absolute;width:11.3px;height:11.3px;transform:rotate(45deg);background-color:var(--ath-color-tooltip-bg-primary);top:-5px;right:calc(50% - 6px);border-radius:2px 0px 0px 0px}';let o=0;const h=class{constructor(a){e(this,a);this.athSelected=t(this,"athSelected")}hostId=o++;menuLateralId=`menu-lateral-${this.hostId}`;items;generatedMenuLateralItems=[];hoveredItemId=null;focusedItemId=null;showFocused=false;athSelected;get el(){return a(this)}onItemsChange(e,t){if(e!==t){this.generateMenuLateralItems()}}componentWillLoad(){this.generateMenuLateralItems()}generateMenuLateralItems(){const e=this.getItems();this.generatedMenuLateralItems=e.map(((e,t)=>({id:`${this.menuLateralId}-item-${t}`,ariaLabel:e.ariaLabel||e.tooltipText,badgeLabel:e.badgeLabel,badgeMax:e.badgeMax,badgeValue:e.badgeValue,disabled:e.disabled,icon:e.icon,name:e.name,selected:e.selected===true,tooltipText:e.tooltipText,externalLabel:e.externalLabel,href:!e.disabled?e.href:undefined,rel:e.rel,target:!!e.target?`_${e.target}`:"_self",type:e.href!=""?n.Link:n.Action})))}getItems(){if(this.items){const e=typeof this.items==="string"?this.parseItems(this.items):[...this.items];return e}return this.scanChildrenItems()}parseItems(e){try{return e?JSON.parse(e):[]}catch(e){console.error("Error parsing items:",e);return[]}}scanChildrenItems(){return Array.from(this.el.querySelectorAll("ath-menu-lateral-item-link, ath-menu-lateral-item-action")).map(((e,t)=>{const a=e.tagName.toLowerCase()==="ath-menu-lateral-item-link";return{id:`menu-lateral-${this.hostId}-item-${t}`,ariaLabel:e.ariaLabel||e.tooltipText,badgeLabel:e.badgeLabel,badgeMax:e.badgeMax,badgeValue:e.badgeValue,disabled:e.disabled,icon:e.icon,name:e.name,selected:e.selected===true,tooltipText:e.tooltipText,...a?{externalLabel:e.externalLabel,href:!e.disabled?e.href:undefined,rel:e.rel,target:e.target,type:n.Link}:{type:n.Action}}}))}renderMenuItem(e){if(e.type===n.Action)return this.renderActionItem(e);if(e.type===n.Link)return this.renderLinkItem(e);return null}renderActionItem=e=>r("div",{id:e.id,class:this.getMenuLateralItemButtonClassNames(e),role:"menuitem","aria-label":e.ariaLabel,"aria-describedby":`${e.id}-desc`,"aria-disabled":e.disabled?"true":"false","aria-current":e.selected.toString(),onMouseEnter:()=>this.handleMouseEnter(e.id),onMouseLeave:this.handleMouseLeave,onClick:()=>this.handleClick(e),tabindex:"-1"},!!e.icon&&this.renderIcon(e),r("div",{id:`${e.id}-desc`,class:"ath-visibility-hidden"},e.badgeLabel));renderLinkItem=e=>r("a",{id:e.id,class:this.getMenuLateralItemButtonClassNames(e),role:"menuitem","aria-label":e.ariaLabel,"aria-describedby":`${e.id}-desc`,"aria-disabled":e.disabled?"true":"false","aria-current":e.selected&&"page",onMouseEnter:()=>this.handleMouseEnter(e.id),onMouseLeave:this.handleMouseLeave,onClick:()=>this.handleClick(e),href:e.href,target:e.target,rel:e.rel,tabindex:"-1"},!!e.icon&&this.renderIcon(e),r("div",{id:`${e.id}-desc`,class:"ath-visibility-hidden"},r("span",null,e.badgeLabel),e.target==="_blank"&&r("span",null,e.externalLabel)));getMenuLateralItemButtonClassNames=e=>({"ath-menu-lateral__item-container":true,[`ath-menu-lateral__item-container--disabled`]:e.disabled,[`ath-menu-lateral__item-container--selected`]:e.selected,"ath-menu-lateral__item--focused":this.focusedItemId===e.id&&this.showFocused});renderIcon=e=>r("ath-icon",{icon:e.icon,color:e.disabled?"disabled":e.selected?"inverse":"primary",size:"sm"});handleMenuItemKeyDown(e){const t=this.generatedMenuLateralItems.findIndex((e=>e.id===this.focusedItemId));let a=t;switch(e.key){case"ArrowRight":case"ArrowDown":a=this.findNextEnabledIndex(t,1);e.preventDefault();this.setFocusedItemId(this.generatedMenuLateralItems[a].id);break;case"ArrowLeft":case"ArrowUp":a=this.findNextEnabledIndex(t,-1);e.preventDefault();this.setFocusedItemId(this.generatedMenuLateralItems[a].id);break;case"Home":a=this.generatedMenuLateralItems.findIndex((e=>!e.disabled));if(a!==-1){e.preventDefault();this.setFocusedItemId(this.generatedMenuLateralItems[a].id)}break;case"End":a=this.generatedMenuLateralItems.length-1;while(a>=0&&this.generatedMenuLateralItems[a].disabled){a--}if(a>=0){e.preventDefault();this.setFocusedItemId(this.generatedMenuLateralItems[a].id)}break;case"Enter":case" ":if(t!==-1){const e=this.generatedMenuLateralItems[t];if(e.type===n.Link&&e.href&&!e.disabled){const t=this.el.shadowRoot.querySelector(`#${e.id}`);if(t){t.click()}}else{this.handleClick(e)}}break}}findNextEnabledIndex(e,t){const a=this.generatedMenuLateralItems.length;let r=e;for(let e=0;e<a;e++){r=(r+t+a)%a;if(!this.generatedMenuLateralItems[r].disabled){return r}}return e}setFocusedItemId(e){this.focusedItemId=e;this.hoveredItemId=null}handleClick(e){if(e.disabled)return;this.generatedMenuLateralItems=this.generatedMenuLateralItems.map((t=>({...t,selected:t.id===e.id})));this.emitSelectedEvent(e)}emitSelectedEvent(e){this.athSelected.emit(e)}onSelectedItemIdChange(e){this.generatedMenuLateralItems.map((t=>{t.selected=t.id===e?true:false}))}handleMouseEnter=e=>{this.hoveredItemId=e;this.focusedItemId=null};handleMouseLeave=()=>{this.hoveredItemId=null;this.focusedItemId=null};handleFocus=()=>{this.showFocused=true;if(!this.focusedItemId&&this.generatedMenuLateralItems.length>0){const e=this.generatedMenuLateralItems.find((e=>!e.disabled));if(e)this.setFocusedItemId(e.id)}};render(){return r(i,{key:"8546b332f533e29fb44a544731c06200416c0e22"},r("div",{key:"b8fb9cd974b1699eeec867f7db444373c76a9879",role:"menubar",class:"ath-menu-lateral",tabindex:"0","aria-activedescendant":this.focusedItemId,onKeyDown:e=>this.handleMenuItemKeyDown(e),onFocus:this.handleFocus,onBlur:()=>{this.showFocused=false}},this.generatedMenuLateralItems.map((e=>r("div",{class:"ath-menu-lateral__item-wrapper"},r("div",{class:"ath-menu-lateral__item"},e.badgeValue?r("ath-badge",{value:e.badgeValue,max:e.badgeMax,position:"top-right","distance-x":-5,"distance-y":-4,color:e.disabled?"disabled":"accent"},this.renderMenuItem(e)):this.renderMenuItem(e)),r("span",{class:(this.hoveredItemId===e.id&&!e.disabled||this.focusedItemId===e.id)&&e.tooltipText?"":"ath-visibility-hidden"},r(l,{text:e.tooltipText,position:"bottom-right"})))))))}static get watchers(){return{items:["onItemsChange"],selectedItemId:["onSelectedItemIdChange"]}}};h.style=s;export{h as ath_menu_lateral};
//# sourceMappingURL=p-0ab769b8.entry.js.map