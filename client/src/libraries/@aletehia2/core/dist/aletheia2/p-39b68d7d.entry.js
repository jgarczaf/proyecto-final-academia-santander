import{r as t,c as s,a as e,h as i,H as h}from"./p-D2-yfY-d.js";var a;(function(t){t["Small"]="sm";t["Medium"]="md"})(a||(a={}));const r=class{constructor(e){t(this,e);this.athValueChanged=s(this,"athValueChanged")}get el(){return e(this)}disabled=false;multiple=false;size=a.Small;athValueChanged;cards=[];selectedCard;firstEnabledCard;lastEnabledCard;firstTimeLoad=true;handleKeyDown(t){switch(t.code){case"ArrowLeft":case"ArrowUp":t.preventDefault();this.movePreviousCard();break;case"ArrowRight":case"ArrowDown":t.preventDefault();this.moveNextCard();break;case"Home":t.preventDefault();this.selectFocusCard(this.firstEnabledCard);break;case"End":t.preventDefault();this.selectFocusCard(this.lastEnabledCard);break}}handleChange(t){if(!this.multiple){this.removePreviousCheckedCards(t.detail)}t.detail.select(this.firstTimeLoad);this.cards.forEach(((s,e)=>{if(s===t.detail){this.selectedCard=e}else{s.tabIndex=-1}}));this.emitCheckedCards()}emitCheckedCards(){const t=this.cards.filter((t=>t.selected));this.athValueChanged.emit(t)}removePreviousCheckedCards(t){this.cards.forEach((s=>{if(s.selected&&s!==t){s.unselect();s.tabIndex=-1;s.selected=false}}))}moveNextCard(){const t=this.cards.findIndex(((t,s)=>s>this.selectedCard&&!t.disabled));this.selectFocusCard(t===-1?this.firstEnabledCard:t)}movePreviousCard(){let t=this.selectedCard-1;while(t>=0&&this.cards[t].disabled){t--}this.selectFocusCard(t===-1?this.lastEnabledCard:t)}getFirstEnabledCard(){return this.cards.findIndex((t=>!t.disabled))}getLastEnabledCard(){for(let t=this.cards.length-1;t>=0;t--){if(!this.cards[t].disabled){return t}}return-1}getFirstCheckedCard(){const t=this.cards.findIndex((t=>t.selected&&!t.disabled));return t}selectFocusCard(t){this.selectedCard=t;this.cards.forEach((t=>{t.unselect();t.tabIndex=-1}));if(this.cards.length>0){this.cards[this.selectedCard].select(this.firstTimeLoad);this.cards[this.selectedCard].tabIndex=0;this.firstTimeLoad=false}}loadCards(){this.cards=this.getCards();this.firstEnabledCard=this.getFirstEnabledCard();this.lastEnabledCard=this.getLastEnabledCard();const t=this.getFirstCheckedCard();this.selectFocusCard(t>-1?t:this.firstEnabledCard)}getCards(){const t=this.el.querySelectorAll("ath-card-selectable");const s=[];if(t){t.forEach((t=>{s.push(t)}))}return s}propagateAttributes(){if(this.cards.length>0){this.cards.forEach((t=>{this.propagateAttribute(t)}))}}propagateAttribute(t){if(this.disabled!==null&&!t.hasAttribute("disabled")){t.setAttribute("disabled",this.disabled.toString())}if(this.size&&!t.hasAttribute("size")){t.setAttribute("size",this.size)}if(this.multiple){t.type="multiselect"}}componentDidLoad(){this.loadCards();this.propagateAttributes()}render(){return i(h,{key:"1bac9ae9f2d6b5768851b8a991b5278552e5ae46",role:this.multiple?"group":"radiogroup"},i("slot",{key:"9de5b15bf60b7757c16d31e97f01c5b7efff528a"}))}};export{r as ath_card_selectable_group};
//# sourceMappingURL=p-39b68d7d.entry.js.map