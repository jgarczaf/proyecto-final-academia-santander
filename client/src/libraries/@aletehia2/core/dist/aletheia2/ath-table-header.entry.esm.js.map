{"version":3,"file":"ath-table-header.entry.esm.js","sources":["src/components/table/table-header/table-header.scss?tag=ath-table-header&encapsulation=shadow","src/components/table/table-header/table-header.tsx"],"sourcesContent":["@use '../../../assets/scss/elements/accesibility';\r\n\r\n:host {\r\n  display: flex;\r\n  flex: 1;\r\n  border-bottom: var(--ath-border-width-sm) solid var(--ath-color-table-col-header-border);\r\n\r\n  > ath-table-header-item:first-of-type {\r\n    border-top-left-radius: var(--ath-border-radius-table-default);\r\n  }\r\n}\r\n","import { Component, Element, Host, Prop, Event, EventEmitter, h } from '@stencil/core';\r\nimport { TableSelectable, TableSelectableType, TableColorType, TableColor, TableSizeType, TableFrozenType, TableFrozen } from '../table.model';\r\nimport { CheckboxValue, CheckboxValues } from '../../checkbox/checkbox.model';\r\nimport { TableSelectAllChangeEvent } from '../table.model';\r\n\r\n@Component({\r\n  tag: 'ath-table-header',\r\n  styleUrl: 'table-header.scss',\r\n  shadow: true,\r\n})\r\nexport class AthTableHeader {\r\n  @Element() el!: HTMLElement;\r\n\r\n  /** Selection mode (none | single | multiple) */\r\n  @Prop() selectable: TableSelectableType = TableSelectable.None;\r\n\r\n  /** Enable clickable rows with action column */\r\n  @Prop() clickable: boolean = false;\r\n\r\n  /** Header color */\r\n  @Prop() color: TableColorType = TableColor.Primary;\r\n\r\n  /** Header size */\r\n  @Prop() size: TableSizeType;\r\n\r\n  /** If the row has a fixed column, specify if it's the first or last column */\r\n  @Prop() frozen: TableFrozenType = TableFrozen.None;\r\n\r\n  /** Hides select all checkbox when selectable is multiple */\r\n  @Prop() noSelectAll: boolean = false;\r\n\r\n  /** Current state of the select all checkbox (false | true | indeterminate) */\r\n  @Prop() selectAllState: CheckboxValues = CheckboxValue.False;\r\n\r\n  /** Total number of selectable rows (used for determining indeterminate state) */\r\n  @Prop() totalRows: number = 0;\r\n\r\n  /** Number of currently selected rows (used for determining indeterminate state) */\r\n  @Prop() selectedRows: number = 0;\r\n\r\n  /** Fired when select all checkbox state changes */\r\n  @Event() athSelectAllChange: EventEmitter<TableSelectAllChangeEvent>;\r\n\r\n  componentDidLoad() {\r\n    // Set default widths if needed\r\n    const items = this.el.querySelectorAll('ath-table-header-item');\r\n    if (items.length) {\r\n      Array.from(items).forEach(item => {\r\n        if (item.cellWidth === 'auto' || item.cellWidth === '') {\r\n          item.cellWidth = `${100 / items.length}%`;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleSelectAllChange = () => {\r\n    let newState: CheckboxValues;\r\n    let selectAll: boolean;\r\n\r\n    if (this.selectAllState === CheckboxValue.False || this.selectAllState === CheckboxValue.Indeterminate) {\r\n      newState = CheckboxValue.True;\r\n      selectAll = true;\r\n    } else {\r\n      newState = CheckboxValue.False;\r\n      selectAll = false;\r\n    }\r\n\r\n    this.athSelectAllChange.emit({ selectAll, state: newState });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host slot=\"header\" role=\"row\">\r\n        {this.selectable !== TableSelectable.None && (\r\n          <ath-table-header-item\r\n            data-ath-selection\r\n            alignment=\"center\"\r\n            cellWidth=\"64px\"\r\n            color={this.color}\r\n            size={this.size}\r\n            frozen={this.frozen !== TableFrozen.Last ? TableFrozen.First : undefined}\r\n          >\r\n            {this.selectable === TableSelectable.Multiple && !this.noSelectAll ? (\r\n              <ath-checkbox value={this.selectAllState} ariaLabel=\"Seleccionar todas las filas\" onAthChange={this.handleSelectAllChange} />\r\n            ) : (\r\n              <span class=\"sr-only\">Columna de selección</span>\r\n            )}\r\n          </ath-table-header-item>\r\n        )}\r\n        <slot></slot>\r\n        {this.clickable && (\r\n          <ath-table-header-item\r\n            data-ath-action\r\n            alignment=\"center\"\r\n            cellWidth=\"64px\"\r\n            color={this.color}\r\n            size={this.size}\r\n            frozen={this.frozen !== TableFrozen.First ? TableFrozen.Last : undefined}\r\n          >\r\n            <span class=\"sr-only\">Columna de acción</span>\r\n          </ath-table-header-item>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}