import{r as e,c as t,a,h as s}from"./p-D2-yfY-d.js";import{S as i,e as r,c as h,b as p,d as n}from"./p-Berczj9R.js";const o=":host .ath-stepper--horizontal{--stepper-direction:row;--group-gap:var(--ath-spacing-stepper-horizontal-col-gap)}:host .ath-stepper--vertical{--stepper-direction:column;--group-gap:var(--ath-spacing-stepper-vertical-row-gap)}:host .ath-stepper{display:flex;width:100%;flex-direction:column;align-items:flex-start;gap:var(--ath-spacing-stepper-row-gap)}:host .ath-stepper_heading{display:flex;align-items:center;gap:var(--ath-spacing-stepper-header-col-gap);align-self:stretch}:host .ath-stepper_heading-icon{display:flex;padding:var(--ath-spacing-stepper-header-icon-padding-around);align-items:center;gap:8px;border-radius:var(--ath-border-radius-stepper-header-icon);border:1px solid var(--ath-color-stepper-header-icon-border);background:var(--ath-color-stepper-header-icon-bg)}:host .ath-stepper_heading-text{flex:1 0 0;color:var(--ath-color-stepper-header-fg);font-family:var(--ath-font-family-heading);font-size:var(--ath-font-size-heading-4);font-style:normal;font-weight:var(--ath-font-weight-heading);line-height:var(--ath-font-line-height-heading-4)}:host .ath-stepper .ath-step_group{display:flex;flex-direction:var(--stepper-direction);align-items:flex-start;gap:var(--group-gap);align-self:stretch;margin:0px;padding:0px}:host .ath-stepper .ath-step_steps{display:flex;flex-direction:column;align-items:center;gap:var(--ath-spacing-stepper-step-group-row-gap);align-self:stretch}:host .ath-stepper .ath-step_progressbar{display:flex;align-items:flex-start;gap:var(--ath-spacing-stepper-step-group-progress-bar-col-gap);align-self:stretch}";let l=0;const d=class{constructor(a){e(this,a);this.athSelect=t(this,"athSelect")}hostId=++l;headingId=`tab-${this.hostId}`;timeoutProgressBarComp;get el(){return a(this)}clickable=true;collapseLabel="Colapsar paso [number]";completedLabel="Completado";athAriaLabel;ariaLiveMessage="Paso actual [number]";athRole=i.Button;errorLabel="Error";expandLabel="Expandir paso [number]";headingIcon;headingText;orientation=r.Horizontal;readonly=false;size=h.Medium;startFrom=1;athSelect;componentWillLoad(){this.injectToSteps()}componentDidLoad(){this.manageDividers();this.manageProgressBar()}getValidAriaValue(e){return e&&e.trim()!==""?e:undefined}injectToSteps=()=>{const e=Array.from(this.el.querySelectorAll("ath-step"));e.forEach(((t,a)=>{if(this.clickable){t.clickable=this.clickable}if(this.collapseLabel){t.collapseLabel=this.collapseLabel}if(!t.completedLabel&&this.completedLabel){t.completedLabel=this.completedLabel}if(this.errorLabel){t.errorLabel=this.errorLabel}if(this.expandLabel){t.expandLabel=this.expandLabel}if(this.readonly){t.readonly=this.readonly}if(!t.number){t.number=this.startFrom+a}if(!t.athAriaLabel){t.athAriaLabel=this.getValidAriaValue(this.athAriaLabel)}if(!t.ariaLiveMessage){t.ariaLiveMessage=this.getValidAriaValue(this.ariaLiveMessage)}t.athRole=this.athRole||i.Button;t.alignment=this.orientation===r.Horizontal?p.Center:p.Left;t.athId=a;t.size=!(this.size===h.Medium)?n.Sm:n.Md;t.total=e.length}))};manageDividers=()=>{const e=Array.from(this.el.querySelectorAll("ath-step"));e.forEach(((t,a)=>{if(this.orientation===r.Horizontal){if(a<e.length-1){const e=document.createElement("div");e.innerHTML="<ath-divider></ath-divider>";e.role="listitem";e.style.width="100%";e.style.transform="translateY(24px)";t.insertAdjacentElement("afterend",e);if(this.readonly){e.style.visibility="hidden";e.style.opacity="0"}}}else{const t=e[a].shadowRoot.querySelector(".line");if(t){if(this.readonly){t.classList.add("hidden")}else{if(a+1===e.length){t.classList.add("hidden")}}}}}))};checkDetailData(e){if(e.detail!=null||e.detail!=undefined){if(e.detail||e.detail==0){return true}}return false}manageSelectedStepId(e){if(this.checkDetailData(e)){const t=e.detail;this.manageSelection(t);const a=Array.from(this.el.querySelectorAll("ath-step"));this.athSelect.emit(a[t]);this.manageProgressBar();e.stopPropagation()}}disconnectedCallback(){if(this.timeoutProgressBarComp)clearTimeout(this.timeoutProgressBarComp)}manageProgressBar(){if(this.timeoutProgressBarComp)clearTimeout(this.timeoutProgressBarComp);const e=Array.from(this.el.shadowRoot.querySelectorAll("ath-progress-bar"));const t=Array.from(this.el.querySelectorAll("ath-step"));const a=t.findIndex((e=>e.selected===true));let s=0;e.forEach(((e,i)=>{e.athAriaLabel=`Progreso del paso ${i+1} de ${t.length}`;if(i<=a){e.valueText=i===a?"Actual":this.completedLabel;if(e.value!==1){this.timeoutProgressBarComp=setTimeout((()=>{e.value=1}),240*s);++s}}else{e.value=0;e.valueText="Pendiente"}}))}manageSelection=e=>{const t=Array.from(this.el.querySelectorAll("ath-step"));t.forEach((e=>{e.selected=false}));t[e].selected=true};getClassNames=()=>({"ath-stepper":true,[`ath-stepper--${this.orientation}`]:!!this.orientation});renderProgressBar(){const e=[];const t=Array.from(this.el.querySelectorAll("ath-step"));const a=t.length-1;for(let t=0;t<=a;t++){e.push(s("ath-progress-bar",{infinite:false,"label-alignment":"stack",max:1,min:0,value:0}))}return e}renderStepGroup=()=>s("div",{role:"list",class:"ath-step_group","aria-labelledby":this.headingId},s("slot",null));renderSteps=()=>{if(this.orientation===r.Horizontal){const e=this.orientation===r.Horizontal?this.renderProgressBar():"";return s("div",{class:"ath-step_steps"},s("div",{class:"ath-step_progressbar"},e),this.renderStepGroup())}else{return this.renderStepGroup()}};render(){return s("section",{key:"2bcf469be6e8eb1b59f3ea16280068be1eb006c5"},s("div",{key:"e2a0b314d7c74ca91ead71599707f305dcb71ae9",class:this.getClassNames()},this.headingText&&s("div",{key:"f4d78bbc51853a7f5cc535719701e57c53eedff1",class:"ath-stepper_heading"},this.headingIcon&&s("div",{key:"8dac9cafe960aa6276b048da011e58fded0aa159",class:"ath-stepper_heading-icon"},s("ath-icon",{key:"a5b41448c3c825499fab39da60fb564b76146a5d",icon:this.headingIcon,size:"lg",color:"primary","aria-hidden":"true"})),s("div",{key:"74db3972dd82fe74d056147b414cfc8ee983fefc",class:"ath-stepper_heading-text",id:this.headingId},this.headingText)),this.renderSteps()))}};d.style=o;export{d as ath_stepper};
//# sourceMappingURL=p-3859808a.entry.js.map