import{r as t,c as e,a as i,h as s,H as a}from"./p-D2-yfY-d.js";import{S as r,a as o,b as n,c as h}from"./p-CH6TVzD2.js";import{F as l,a as d}from"./p-Bm3FWM6a.js";import"./p-BnU0zKUi.js";import"./p-D0e48E4w.js";import{F as c}from"./p-DOV5slCt.js";const f=".ath-segmented-control{display:flex;justify-content:space-between;border:1px solid;border-radius:var(--ath-border-radius-segmented-control-group);width:100%;align-items:center;box-sizing:border-box}.ath-segmented-control.disabled{border-color:var(--ath-color-segmented-control-border-disabled)}:host .ath-input{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;flex-wrap:wrap;row-gap:var(--ath-spacing-input-row-gap);width:100%}:host .wrapper{display:flex;flex-direction:column;align-items:flex-start;gap:var(--ath-spacing-input-addons-row-gap);align-self:stretch;width:100%}:host .ath-input__label{display:flex;flex-direction:row;align-items:flex-start;gap:var(--ath-spacing-label-col-gap);font-family:var(--ath-font-family-primary);color:var(--ath-color-fg-default);font-weight:var(--ath-font-weight-medium);font-size:var(--ath-font-size-input-label);line-height:var(--ath-font-line-height-input-label)}:host .ath-input__label__wrapper{display:flex;align-items:center;gap:var(--ath-spacing-label-required-col-gap)}:host .ath-input__label ath-icon{color:var(--ath-color-fg-default)}:host .ath-input__label .required{color:var(--ath-color-fg-feedback-danger);padding-left:4px}:host .ath-input__label ath-button{display:flex;flex-direction:row;align-items:center;justify-content:center;width:24px;height:24px}:host .ath-input__feedback{display:flex;align-items:flex-start;gap:var(--ath-spacing-feedback-text-col-gap);align-self:stretch;font-family:var(--ath-font-family-primary);font-size:var(--ath-font-size-body-sm);font-style:normal;font-weight:var(--ath-font-weight-body-regular);line-height:var(--ath-font-line-height-body)}:host .ath-input__feedback--error{color:var(--ath-color-fg-feedback-danger)}:host .ath-input__feedback--success{color:var(--ath-color-fg-feedback-success)}:host .ath-input__feedback--warning{color:var(--ath-color-fg-feedback-warning)}:host .padding{display:flex;padding-top:var(--ath-spacing-feedback-text-padding-top);align-items:center}:host .ath-input__helper-text{display:flex;justify-content:flex-start;align-items:center;align-self:stretch;color:var(--ath-color-fg-default);font-family:var(--ath-font-family-primary);font-size:var(--ath-font-size-body-sm);font-style:normal;font-weight:var(--ath-font-weight-body-regular);line-height:var(--ath-font-line-height-body)}:host .sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.ath-segmented-control--primary{border-color:var(--ath-color-segmented-control-border-primary)}.ath-segmented-control--secondary{border-color:var(--ath-color-segmented-control-border-secondary)}.ath-segmented-control--sm{padding:var(--ath-spacing-segmented-control-group-padding-sm)}.ath-segmented-control--md{padding:var(--ath-spacing-segmented-control-group-padding-md)}.ath-segmented-control--lg{padding:var(--ath-spacing-segmented-control-group-padding-lg)}.ath-segmented-control--xl{padding:var(--ath-spacing-segmented-control-group-padding-xl)}";let p=0;const g=class{constructor(i){t(this,i);this.athChangeValue=e(this,"athChangeValue");if(i.$hostElement$["s-ei"]){this.internals=i.$hostElement$["s-ei"]}else{this.internals=i.$hostElement$.attachInternals();i.$hostElement$["s-ei"]=this.internals}}hostId=`segmentedControl-${++p}`;labelId=`${this.hostId}-label`;helperTextId=`${this.hostId}-helper-text`;feedbackId=`${this.hostId}-feedback`;requiredLabelId=`${this.hostId}-req-label`;initialValue;get htmlEl(){return i(this)}internals;type=r.Select;size=o.Medium;color=n.Primary;disabled=false;label;name;ariaLabel;helperText;feedback=h.None;feedbackText;required=false;hideRequired=false;requiredAriaLabel;tooltipText;tooltipWidth=0;value;watchValue(t){this.selectSegmentedItemByValue(t)}athChangeValue;componentWillLoad(){this.initialValue=this.value;if(this.value==null){const t=Array.from(this.htmlEl.querySelectorAll("ath-segmented-control-item"));const e=t.find((t=>t.selected));if(e){this.value=e.value}}}componentDidLoad(){this.updateChildrenProps();if(this.value){this.selectSegmentedItemByValue(this.value)}else{this.selectSegmentedItemBySelected();this.forceFirstTabFocusIfNoItemsSelected()}if(this.type===r.Action){requestAnimationFrame((()=>{this.ensureSelection()}))}}componentDidUpdate(){this.updateChildrenProps();if(this.type===r.Action){requestAnimationFrame((()=>{this.ensureSelection()}))}}formResetCallback(){this.value=this.initialValue;this.selectSegmentedItemByValue(this.initialValue)}handlePropsChange(){this.updateChildrenProps()}handleValueChange(t){const e=t.target;const i=this.getSegmentedControlItems();const s=i.filter((t=>t.selected));if(s.length===0){e.selected=true;return}this.unSelect(e);this.value=e.value;this.athChangeValue.emit(e);if(this.internals&&"setFormValue"in this.internals){this.internals.setFormValue(this.value);this.internals.checkValidity()}}selectSegmentedItemBySelected(){const t=this.getSegmentedControlItems();const e=t.find((t=>t.selected));if(!e){return false}this.value=e.value;this.initialValue=this.value;if(this.internals&&"setFormValue"in this.internals){this.internals.setFormValue(this.value);this.internals.checkValidity()}return true}forceFirstTabFocusIfNoItemsSelected(){const t=this.getSegmentedControlItems();const e=t.find((t=>t.selected));const i=t.find((t=>!t.disabled));const s=t.length>0?t[0]:undefined;const a=!e&&(i??s);if(a){a.setTabindex(0);return true}return false}ensureSelection(){if(!this.htmlEl)return;const t=this.getSegmentedControlItems();const e=t.some((t=>t.selected));if(!e&&t.length>0){const e=t[0];if(e){e.selected=true}}}unSelect(t){const e=this.getSegmentedControlItems();e.forEach((e=>{if(e!==t){e.unSelectItem()}}))}handleKeyDown(t){const e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End"];if(e.includes(t.key)){t.preventDefault();const e=this.getSegmentedControlItems();const i=e.findIndex((t=>t===document.activeElement));if(i===-1)return;let s=i;const a=e.length;switch(t.key){case"ArrowLeft":case"ArrowUp":s=this.getNextIndex(e,i,-1,a);break;case"ArrowRight":case"ArrowDown":s=this.getNextIndex(e,i,1,a);break;case"Home":s=this.getNextIndex(e,-1,1,a);break;case"End":s=this.getNextIndex(e,a,-1,a);break}const r=e[s];if(r){r.setFocus()}}}getSegmentedControlItems(){return Array.from(this.htmlEl.querySelectorAll("ath-segmented-control-item"))}getNextIndex(t,e,i,s){let a=(e+i+s)%s;const r=t;while(r[a]?.disabled){a=(a+i+s)%s}return a}updateChildrenProps(){if(!this.htmlEl)return;const t=this.htmlEl.querySelectorAll("ath-segmented-control-item");t.forEach((t=>{if(this.color)t.color=this.color;if(this.size)t.size=this.size;if(this.disabled)t.disabled=this.disabled;if(this.type)t.type=this.type}))}selectSegmentedItemByValue(t){const e=this.getSegmentedControlItems();const i=e.find((e=>e.value===t));if(i){i.selected=true;if(!i.disabled)i.setFocus()}this.unSelect(i);this.forceFirstTabFocusIfNoItemsSelected();if(this.internals&&"setFormValue"in this.internals){this.internals.setFormValue(t);this.internals.checkValidity()}}getHelperTextProps=()=>({id:this.helperTextId,text:!!this.helperText?this.helperText.trim():""});getFeedbackProps=()=>({id:this.feedbackId,type:this.feedback,text:this.feedbackText});getLabelProps=()=>({id:this.labelId,htmlForId:undefined,label:this.label,required:this.required,showRequired:!this.hideRequired,tooltipText:this.tooltipText,tooltipWidth:this.tooltipWidth});getAriaDescribedBy=()=>{const t=[];if(this.helperText!==undefined){t.push(this.helperTextId)}if(this.feedback!==h.None){t.push(this.feedbackId)}return t.length>0?t.join(" "):undefined};getHostAttributes=()=>{const t=!this.hideRequired?`${this.labelId} ${this.requiredLabelId}`:this.labelId;const e=this.getAriaDescribedBy();return{role:this.isActionType()?"group":"radiogroup","aria-labelledby":t,"aria-describedby":e,"aria-required":!this.isActionType()&&this.required?"true":undefined}};getClassNames=()=>({"ath-segmented-control":true,[`ath-segmented-control--${this.color}`]:!!this.color,[`ath-segmented-control--${this.size}`]:!!this.size,[`ath-segmented-control--${this.type}`]:!!this.type,disabled:this.disabled});isActionType(){return this.type===r.Action}render(){const t=this.getLabelProps();const e=this.getFeedbackProps();const i=this.getHelperTextProps();const o=this.type===r.Action;return s(a,{key:"e823ddaf095f5283ac46828174b4d1ff4aabee17"},s("div",{key:"bbf102e872503262fa9a6b4d876c9d37e7f0a632",...this.getHostAttributes(),class:"ath-input"},!o&&!!this.label&&s(c,{key:"d0c1c31cf60e3813529d6c0839af013fbe3a44e4",...t}),this.required&&!this.hideRequired&&s("div",{key:"593f9eb97a7adeadfd09b3f9cf18b53899241896",id:this.requiredLabelId,class:"sr-only"},this.requiredAriaLabel),s("div",{key:"58b07390ff69473c80f442798c4a99a0e26dca92",class:"wrapper"},s("div",{key:"42aa735aa80b398d794e0927d9eaf35676137eea",class:this.getClassNames()},s("slot",{key:"ddc73a02d5e61dcde47fd2cfcf27e862ccd35805"})),!o&&this.helperText&&s(l,{key:"35884c334cf6f115b5cf03bdcd273e9e6e3c860f",...i}),!o&&this.feedback==="error"&&!this.disabled&&s(d,{key:"f43727535db0557efd9bd2e637d2e21a267cdc04",...e}))))}static get formAssociated(){return true}static get watchers(){return{value:["watchValue"]}}};g.style=f;export{g as ath_segmented_control};
//# sourceMappingURL=p-37ec7389.entry.js.map