import{h as e}from"./p-D2-yfY-d.js";var n;(function(e){e[e["Sunday"]=0]="Sunday";e[e["Monday"]=1]="Monday";e[e["Tuesday"]=2]="Tuesday";e[e["Wednesday"]=3]="Wednesday";e[e["Thursday"]=4]="Thursday";e[e["Friday"]=5]="Friday";e[e["Saturday"]=6]="Saturday"})(n||(n={}));var t;(function(e){e["Sunday"]="D";e["Monday"]="L";e["Tuesday"]="M";e["Wednesday"]="X";e["Thursday"]="J";e["Friday"]="V";e["Saturday"]="S"})(t||(t={}));function r(e=n.Monday){const r=Object.values(t);return[...r.slice(e),...r.slice(0,e)]}var a;(function(e){e["D"]="Domingo";e["L"]="Lunes";e["M"]="Martes";e["X"]="Miércoles";e["J"]="Jueves";e["V"]="Viernes";e["S"]="Sábado"})(a||(a={}));function s(e){return a[e]}function i(e){const n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];if(!e||isNaN(e.getTime())){throw new Error("Invalid date provided")}return n[e.getDay()]}function u(e,t=n.Monday){const r=new Date(e);const a=r.getDay();const s=(a<t?7:0)+a-t;r.setDate(r.getDate()-s);return r}function c(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){return new Date(e.getFullYear(),0,1)}function l(e,n){const t=new Date(e);t.setDate(e.getDate()+n);return t}function f(e,n){const t=new Date(e);t.setMonth(e.getMonth()+n);return t}function d(e,n){const t=new Date(e);t.setFullYear(e.getFullYear()+n);return t}function w(e){try{const n={month:"long"};const t=new Intl.DateTimeFormat("es-ES",n).format(e);return t.charAt(0).toUpperCase()+t.slice(1)}catch(n){console.error("Error getting month name:",e,n)}}function D(e){const n=new Intl.DateTimeFormat("es-ES",{month:"short"}).format(e);return n.toUpperCase().slice(0,3)}function h(e,t=n.Monday,r=undefined){const a=[];const s=new Date(e.getFullYear(),e.getMonth(),1);let i=u(s,t);if(r){for(let e=0;e<r;e++){const e=[];for(let n=0;n<7;n++){e.push(l(i,n))}a.push(e);i=l(i,7)}}else{const n=e.getMonth();const t=n===0?11:n-1;while(i.getMonth()===n||i.getMonth()===t){const e=[];for(let n=0;n<7;n++){e.push(l(i,n))}a.push(e);i=l(i,7)}}return a}function b(e,n){if(!e||!n){return false}const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());const r=new Date(n.getFullYear(),n.getMonth(),n.getDate());return t.getTime()===r.getTime()}function p(e,n){if(!e||!n){return false}const t=new Date(e.getFullYear(),e.getMonth(),1);const r=new Date(n.getFullYear(),n.getMonth(),1);return t.getTime()===r.getTime()}function y(e,n){if(!e||!n){return false}const t=new Date(e.getFullYear(),0,1);const r=new Date(n.getFullYear(),0,1);return t.getTime()===r.getTime()}function m(e,n,t=null,r=null){if(!e){return false}let a=c(e);const s=new Date(e.getFullYear(),e.getMonth()+1,0);if(t&&s<t){return true}if(r&&a>r){return true}if(!n||n.length===0){return false}while(p(e,a)){if(!n.some((e=>b(e,a)))&&!(t&&a<t)&&!(r&&a>r)){return false}a=l(a,1)}return true}function g(e,n,t=null,r=null){if(!e){return false}let a=o(e);const s=new Date(e.getFullYear(),11,31);if(t&&s<t){return true}if(r&&a>r){return true}if(!n||n.length===0){return false}while(y(e,a)){if(!n.some((e=>b(e,a)))&&!(t&&a<t)&&!(r&&a>r)){return false}a=l(a,1)}return true}function k(e,n){if(!e||!n){throw new Error("Date string and format are required")}const t=n.match(/[^A-Za-z0-9]/g)||["/"];const r=e.match(/[^0-9]/g)||t;const a=new RegExp(`[${t.join("")}]`);const s=new RegExp(`[${r.join("")}]`);const i=n.split(a);const u=e.split(s);if(i.length!==u.length){throw new Error("Date string does not match the specified format")}let c=1,o=0,l=(new Date).getFullYear();i.forEach(((e,n)=>{if(n<u.length&&u[n]){const t=parseInt(u[n],10);if(isNaN(t)){throw new Error(`Invalid numeric value in date string: ${u[n]}`)}const r=e.toLowerCase();if(r.startsWith("d")){c=t}else if(r.startsWith("m")){o=t-1}else if(r.startsWith("y")||r.startsWith("a")){l=t;if(r.length===2&&u[n].length<=2){l=t+(t<50?2e3:1900)}}}}));const f=new Date(l,o,c);if(isNaN(f.getTime())||f.getFullYear()!==l||f.getMonth()!==o||f.getDate()!==c){throw new Error("Invalid date")}return f}function E(e,n){if(!e||isNaN(e.getTime())){throw new Error("Invalid date object")}if(!n){throw new Error("Format string is required")}const t=e.getDate();const r=e.getMonth()+1;const a=e.getFullYear();let s=n;if(s.includes("YYYY")){s=s.replace("YYYY",a.toString().padStart(4,"0"))}else if(s.includes("YY")){s=s.replace("YY",(a%100).toString().padStart(2,"0"))}if(s.includes("MM")){s=s.replace("MM",r.toString().padStart(2,"0"))}else if(s.includes("M")){s=s.replace("M",r.toString())}if(s.includes("DD")){s=s.replace("DD",t.toString().padStart(2,"0"))}else if(s.includes("D")){s=s.replace("D",t.toString())}return s}function M(e){const n=(e.getMonth()+1).toString();const t=e.getDate().toString();return`${e.getFullYear()}/${n.padStart(2,"0")}/${t.padStart(2,"0")}`}function S(e,n="day"){switch(n){case"month":return`${w(e)}, ${e.getFullYear()}`;case"year":return`${e.getFullYear()}`;default:return`${i(e)}, ${e.getDate()} de ${w(e)}, ${e.getFullYear()}`}}function $(e){return`${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`}function _(e){return e.getFullYear().toString()}function v(e,n,t=null,r=null){return n?.some((n=>n.toDateString()===e.toDateString()))||t!=undefined&&e<new Date(t.getFullYear(),t.getMonth(),t.getDate())||r!=undefined&&e>new Date(r.getFullYear(),r.getMonth(),r.getDate())}function A(e,n=null,t=null){if(!e){return null}if(n&&e<n){return n}if(t&&e>t){return t}return e}function Y(e,n,t=null,r=null){if(!e){return null}if((!n||n.length===0)&&!t&&!r){return e}let a=new Date(e);while(!r||a<=r){if(!v(a,n,t,r)){return a}if(r&&a>r){return r}a.setDate(a.getDate()+1)}return null}function I(e,n,t=null,r=null){if(!e){return null}if((!n||n.length===0)&&!t&&!r){return e}let a=new Date(e);while(!t||a>=t){if(!v(a,n,t,r)){return a}if(t&&a<t){return t}a.setDate(a.getDate()-1)}return null}function N(e,n){return`['${e??""}','${n??""}']`}function R(){return"Presiona flecha abajo para abrir el calendario y Escape para cerrarlo."}const x=e=>({"ath-datepicker-item":true,[`is-selected`]:e.isSelected??false,[`is-start`]:e.isStart??false,[`is-middle`]:(!e.isStart&&!e.isEnd&&e.isMiddle)??false,[`is-end`]:e.isEnd??false,[`is-day`]:e.type==="day",[`is-month`]:e.type==="month",[`is-year`]:e.type==="year",[`is-current`]:e.isCurrent??false,[`is-accent`]:e.color?e.color==="accent":false});const P=e=>({"ath-datepicker-item-content":true,[`is-other-month`]:e.isOtherMonth??false,[`is-selected`]:(e.isSelected||e.isStart||e.isEnd)??false,[`is-current`]:e.isCurrent??false,[`is-disabled`]:e.isDisabled??false,[`is-highlighted`]:(e.isHighlighted&&!e.isMiddle)??false,[`is-accent`]:e.color?e.color==="accent":false});const U=n=>{function t(e){if(n.isDisabled){e.stopPropagation();return}n.onSelect(e,n.value)}function r(){let e=S(n.value,n.type);if(n.isDisabled){e+=". Use control + flechas para desplazarse al siguiente día disponible."}return e}return e("td",{ref:e=>n.onDatepickerItemRef(e),class:x(n),tabIndex:n.isFocusable?0:-1,onClick:t,onKeyDown:n.onKeyDown,"aria-label":r(),"aria-selected":n.isSelected||n.isStart||n.isEnd?"true":"false","aria-current":n.isCurrent?"date":undefined,"aria-disabled":n.isDisabled?"true":"false"},e("span",{class:P(n)},n.text))};const F=t=>{const a=t.shownDate||t.selectedDate||t.selectedRangeStart||new Date;function i(e,n){let r=null;let a=true;switch(e.code){case"ArrowDown":r=l(n,7);a=true;break;case"ArrowUp":r=l(n,-7);a=false;break;case"ArrowLeft":r=l(n,-1);a=false;break;case"ArrowRight":r=l(n,1);a=true;break;case"Enter":case"Space":e.stopPropagation();e.preventDefault();if(!v(n,t.disabledDate||[],t.minDate,t.maxDate)){t.onDateSelect(null,n)}return;case"Home":r=u(n);a=true;break;case"End":r=l(u(n),6);a=false;break;case"PageUp":r=new Date(n.getFullYear(),n.getMonth()-1,n.getDate());a=false;break;case"PageDown":r=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());a=true;break;case"Escape":e.stopPropagation();e.preventDefault();t.onExit();return;default:return}e.stopPropagation();e.preventDefault();if(e.ctrlKey){if(a){t.onChangeShownDate(Y(r,t.disabledDate||[],t.minDate,t.maxDate))}else{t.onChangeShownDate(I(r,t.disabledDate||[],t.minDate,t.maxDate))}}else{t.onChangeShownDate(A(r,t.minDate,t.maxDate))}}const c=t.selectedDate?.toDateString();const o=t.selectedRangeStart?.toDateString();const f=t.selectedRangeEnd?.toDateString();function d(e){const n=e.toDateString();if(c){return n===c}if(o&&!t.selectedRangeEnd){return n===o}if(f&&!t.selectedRangeStart){return n===f}if(o&&f&&o===f){return n===o}return false}function w(e){return t.selectedRangeStart&&t.selectedRangeEnd?e>t.selectedRangeStart&&e<t.selectedRangeEnd:false}function D(e){return o&&!d(e)?e.toDateString()===o:false}function b(e){return f&&!d(e)?e.toDateString()===f:false}function p(e){if(t.highlightedWeekends&&(e.getDay()==6||e.getDay()==0)){return true}return t.highlightedDate?.some((n=>n.toDateString()===e.toDateString()))}return e("table",{role:"grid",class:"fc-calendar"},e("thead",{class:"fc-calendar__header-week"},r(t.firstDayOfTheWeek??n.Monday).map((n=>e("th",{scope:"col",class:"fc-calendar__header-week__day","aria-label":s(n)},n)))),e("tbody",{class:"fc-calendar__body-week w-full"},h(a,t.firstDayOfTheWeek??n.Monday,6).map((n=>e("tr",{class:"fc-calendar__row-days"},n.map((n=>e(U,{onDatepickerItemRef:e=>{if(e&&t.hasFocus&&n.toDateString()===t.shownDate.toDateString()){setTimeout((()=>{e.focus()}),1)}},onSelect:t.onDateSelect,onKeyDown:e=>i(e,n),value:n,type:"day",isFocusable:n.toDateString()===a.toDateString(),isDisabled:v(n,t.disabledDate||[],t.minDate,t.maxDate),isOtherMonth:n.getMonth()!==a.getMonth(),isCurrent:n.toDateString()===(t.currentDate||new Date).toDateString(),isSelected:d(n),isStart:D(n),isMiddle:w(n),isEnd:b(n),isHighlighted:p(n),color:t.color,text:n.getDate().toString()}))))))))};const H=n=>{const t=c(n.shownMonth||n.selectedMonth||new Date);function r(){const e=[];let n=[];for(let r=0;r<12;r++){n.push(new Date(new Date(t.getFullYear(),r,1)));if(r%3===2){e.push(n);n=[]}}return e}function a(e){return m(e,n.disabledDates,n.minMonth,n.maxMonth)||n.disabledMonths&&n.disabledMonths.some((n=>p(e,n)))}function s(e){return m(e,n.highlightedDates)||n.highlightedMonths&&n.highlightedMonths.some((n=>p(e,n)))}function i(e){if(n.selectedMonth){return p(e,n.selectedMonth)}if(n.selectedRangeStart&&!n.selectedRangeEnd){return p(e,n.selectedRangeStart)}if(n.selectedRangeEnd&&!n.selectedRangeStart){return p(e,n.selectedRangeEnd)}if(n.selectedRangeStart&&n.selectedRangeEnd&&p(n.selectedRangeStart,n.selectedRangeEnd)){return p(e,n.selectedRangeStart)}return false}function u(e){return n.selectedRangeStart&&n.selectedRangeEnd?e>n.selectedRangeStart&&e<n.selectedRangeEnd:false}function o(e){return n.selectedRangeStart&&!i(e)?p(e,n.selectedRangeStart):false}function l(e){return n.selectedRangeEnd&&!i(e)?p(e,n.selectedRangeEnd):false}function d(e,t){let r=null;let s=true;switch(e.code){case"ArrowDown":r=f(t,3);s=true;break;case"ArrowUp":r=f(t,-3);s=false;break;case"ArrowLeft":r=f(t,-1);s=false;break;case"ArrowRight":r=f(t,1);s=true;break;case"Enter":case"Space":e.stopPropagation();e.preventDefault();if(!a(t)){n.onMonthSelect(null,A(t,n.minMonth,n.maxMonth))}return;case"Home":r=new Date(t.getFullYear(),Math.floor(t.getMonth()/3)*3,1);s=true;break;case"End":r=new Date(t.getFullYear(),Math.floor(t.getMonth()/3)*3+2,1);s=false;break;case"PageUp":r=f(t,-12);s=false;break;case"PageDown":r=f(t,12);s=true;break;case"Escape":e.stopPropagation();e.preventDefault();n.onExit();return;default:return}e.stopPropagation();e.preventDefault();if(e.ctrlKey){if(s){n.onChangeShownMonth(Y(r,n.disabledMonths||[],n.minMonth,n.maxMonth))}else{n.onChangeShownMonth(I(r,n.disabledMonths||[],n.minMonth,n.maxMonth))}}else{n.onChangeShownMonth(A(r,n.minMonth,n.maxMonth))}}return e("table",{role:"grid",class:"fc-calendar-month"},e("tbody",{class:"fc-calendar-month__rows"},r().map((r=>e("tr",{class:"fc-calendar-month__row-months"},r.map((r=>e(U,{onDatepickerItemRef:e=>{if(e&&p(r,n.shownMonth)){if(n.hasFocus){setTimeout((()=>{e.focus()}),1)}}},onSelect:n.onMonthSelect,onKeyDown:e=>d(e,r),value:r,type:"month",isFocusable:p(r,t),isDisabled:a(r),isCurrent:p(r,n.currentMonth),isSelected:i(r),isStart:o(r),isMiddle:u(r),isEnd:l(r),isHighlighted:s(r),color:n.color,text:D(r)}))))))))};const L=n=>{const t=o(n.shownYear||n.selectedYear||new Date);let r=new Date((new Date).getFullYear()-7,0,1);function a(){let e=new Date((new Date).getFullYear()+4,0,1);const n=[];let a=[];while(r>t||e<t){if(r>t){r=d(r,-12);e=d(e,-12)}else{r=d(r,12);e=d(e,12)}}for(let e=0;e<12;e++){a.push(new Date(r.getFullYear()+e,0,1));if(e%3===2){n.push(a);a=[]}}return n}function s(e){if(n.selectedYear){return y(e,n.selectedYear)}if(n.selectedRangeStart&&!n.selectedRangeEnd){return y(e,n.selectedRangeStart)}if(n.selectedRangeEnd&&!n.selectedRangeStart){return y(e,n.selectedRangeEnd)}if(n.selectedRangeStart&&n.selectedRangeEnd&&y(n.selectedRangeStart,n.selectedRangeEnd)){return y(e,n.selectedRangeStart)}return false}function i(e){return n.selectedRangeStart&&n.selectedRangeEnd?e>n.selectedRangeStart&&e<n.selectedRangeEnd:false}function u(e){return n.selectedRangeStart&&!s(e)?y(e,n.selectedRangeStart):false}function c(e){return n.selectedRangeEnd&&!s(e)?y(e,n.selectedRangeEnd):false}function l(e){return g(e,n.disabledDates,n.minYear,n.maxYear)||n.disabledYears&&n.disabledYears.some((n=>y(e,n)))}function f(e){return g(e,n.highlightedDates)||n.highlightedYears&&n.highlightedYears.some((n=>y(e,n)))}function w(e,t){let a=null;let s=true;switch(e.code){case"ArrowDown":a=d(t,3);s=true;break;case"ArrowUp":a=d(t,-3);s=false;break;case"ArrowLeft":a=d(t,-1);s=false;break;case"ArrowRight":a=d(t,1);s=true;break;case"Enter":case"Space":e.stopPropagation();e.preventDefault();if(!l(t)){n.onYearSelect(null,A(t,n.minYear,n.maxYear))}return;case"Home":a=new Date(Math.floor((t.getFullYear()-r.getFullYear())/3)*3+r.getFullYear(),0,1);s=true;break;case"End":a=new Date(Math.floor((t.getFullYear()-r.getFullYear())/3)*3+r.getFullYear()+2,0,1);s=false;break;case"PageUp":a=d(t,-12);s=false;break;case"PageDown":a=d(t,12);s=true;break;case"Escape":e.stopPropagation();e.preventDefault();n.onExit();return;default:return}e.stopPropagation();e.preventDefault();if(e.ctrlKey){if(s){n.onChangeShownYear(Y(a,n.disabledYears||[],n.minYear,n.maxYear))}else{n.onChangeShownYear(I(a,n.disabledYears||[],n.minYear,n.maxYear))}}else{n.onChangeShownYear(A(a,n.minYear,n.maxYear))}}return e("table",{role:"grid",class:"fc-calendar-year"},e("tbody",{class:"fc-calendar-year__rows"},a().map((r=>e("tr",{class:"fc-calendar-year__row-years"},r.map((r=>e(U,{onDatepickerItemRef:e=>{if(e&&y(r,n.shownYear)){if(n.hasFocus)setTimeout((()=>{e.focus()}),1)}},onSelect:n.onYearSelect,onKeyDown:e=>w(e,r),value:r,type:"year",isFocusable:y(r,t),isDisabled:l(r),isCurrent:y(r,n.currentYear),isSelected:s(r),isStart:u(r),isMiddle:i(r),isEnd:c(r),isHighlighted:f(r),color:n.color,text:`${r.getFullYear()}`}))))))))};export{F,$ as a,_ as b,d as c,f as d,w as e,E as f,A as g,H as h,v as i,L as j,k,R as l,c as m,N as n,M as o,l as p,o as y};
//# sourceMappingURL=p-BNCX3DE-.js.map