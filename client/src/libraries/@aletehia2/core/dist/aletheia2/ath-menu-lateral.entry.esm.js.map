{"version":3,"file":"ath-menu-lateral.entry.esm.js","sources":["src/components/menu-lateral/menu-lateral.scss?tag=ath-menu-lateral&encapsulation=shadow","src/components/menu-lateral/menu-lateral.tsx"],"sourcesContent":["@use '../../sharedfc/tooltip' as Menus;\r\n@use 'utilities';\r\n\r\n@use './menu-lateral.theme.scss';\r\n@use '../../assets/scss/elements/accesibility';\r\n\r\n:host {\r\n  display: flex;\r\n  height: 100%;\r\n\r\n  .ath-menu-lateral {\r\n    display: flex;\r\n    height: 100%;\r\n\r\n    padding: var(--ath-spacing-menu-lateral-padding-y) var(--ath-spacing-menu-lateral-padding-x);\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--ath-spacing-menu-lateral-row-gap);\r\n\r\n    background: var(--ath-color-menu-lateral-bg-default);\r\n\r\n    outline: none;\r\n    border-right: var(--ath-border-width-xs) solid var(--ath-color-border-alpha-bold-default);\r\n\r\n    .ath-menu-lateral__item-wrapper {\r\n      cursor: pointer;\r\n      position: relative;\r\n\r\n      .ath-menu-lateral__item {\r\n        display: flex;\r\n        align-items: center;\r\n        border-radius: var(--ath-border-radius-menu-vertical-item-level);\r\n\r\n        &-container {\r\n          display: flex;\r\n          padding: var(--ath-spacing-menu-lateral-item-padding-around);\r\n          align-items: center;\r\n          border-radius: var(--border-radius-container);\r\n          background: var(--bg-container);\r\n          box-shadow: var(--box-shadow);\r\n        }\r\n\r\n        &--focused:not(.ath-menu-lateral__item-container--disabled):not(.ath-menu-lateral__item-container--selected) {\r\n          outline: none;\r\n          --border-radius-container: var(--ath-border-radius-menu-vertical-item-level);\r\n          --box-shadow: 0 0 0 2px var(--ath-color-drop-shadow-focus), 0 0 0 4px var(--ath-color-border-focus);\r\n          --bg-container: var(--ath-color-menu-lateral-bg-default);\r\n        }\r\n\r\n        &--focused:not(.ath-menu-lateral__item-container--disabled) {\r\n          outline: none;\r\n          --border-radius-container: var(--ath-border-radius-menu-vertical-item-level);\r\n          --box-shadow: 0 0 0 2px var(--ath-color-drop-shadow-focus), 0 0 0 4px var(--ath-color-border-focus);\r\n        }\r\n      }\r\n\r\n      @include Menus.fc-help-description;\r\n    }\r\n  }\r\n}\r\n","import { Component, Prop, h, JSX, Host, Element, Watch, State, Event, EventEmitter } from '@stencil/core';\r\nimport { MenuLateralItem, MenuLateralItemType } from './menu-lateral.model';\r\nimport { MenuLateralItemVM } from './menu-lateral.model';\r\nimport { FcHelpDescription } from 'sharedfc/tooltip';\r\n\r\nlet menuLateralSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-menu-lateral',\r\n  styleUrls: ['menu-lateral.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthMenuLateral {\r\n  private hostId = menuLateralSequence++;\r\n  private menuLateralId = `menu-lateral-${this.hostId}`;\r\n\r\n  /**\r\n   * (JSON) Object of items to generate\r\n   */\r\n  @Prop() items: MenuLateralItem[] | string;\r\n\r\n  /**\r\n   * Items generated\r\n   */\r\n  @State() generatedMenuLateralItems: MenuLateralItemVM[] = [];\r\n\r\n  /**\r\n   * Id of the hovered item\r\n   */\r\n  @State() hoveredItemId: string = null;\r\n\r\n  /**\r\n   * Id of the focused item\r\n   */\r\n  @State() focusedItemId: string = null;\r\n\r\n  /**\r\n   * Show focused item\r\n   */\r\n  @State() showFocused = false;\r\n\r\n  /**\r\n   * Events\r\n   */\r\n  @Event() athSelected: EventEmitter<{ item: HTMLAthMenuLateralItemActionElement | HTMLAthMenuLateralItemLinkElement }>;\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  // Items generation\r\n  @Watch('items')\r\n  onItemsChange(newValue: MenuLateralItem[] | string, oldValue: MenuLateralItem[] | string) {\r\n    if (newValue !== oldValue) {\r\n      this.generateMenuLateralItems();\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.generateMenuLateralItems();\r\n  }\r\n\r\n  private generateMenuLateralItems() {\r\n    const items = this.getItems();\r\n\r\n    this.generatedMenuLateralItems = items.map((item, index) => ({\r\n      id: `${this.menuLateralId}-item-${index}`,\r\n      ariaLabel: item.ariaLabel || item.tooltipText,\r\n      badgeLabel: item.badgeLabel,\r\n      badgeMax: item.badgeMax,\r\n      badgeValue: item.badgeValue,\r\n      disabled: item.disabled,\r\n      icon: item.icon,\r\n      name: item.name,\r\n      selected: item.selected === true,\r\n      tooltipText: item.tooltipText,\r\n      externalLabel: item.externalLabel,\r\n      href: !item.disabled ? item.href : undefined,\r\n      rel: item.rel,\r\n      target: !!item.target ? `_${item.target}` : '_self',\r\n      type: item.href != '' ? MenuLateralItemType.Link : MenuLateralItemType.Action,\r\n    }));\r\n  }\r\n\r\n  private getItems(): MenuLateralItem[] {\r\n    if (this.items) {\r\n      const parsedItems = typeof this.items === 'string' ? this.parseItems(this.items) : [...this.items];\r\n      return parsedItems;\r\n    }\r\n\r\n    return this.scanChildrenItems();\r\n  }\r\n\r\n  private parseItems(value: string): MenuLateralItem[] {\r\n    try {\r\n      return value ? JSON.parse(value) : [];\r\n    } catch (error) {\r\n      console.error('Error parsing items:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  private scanChildrenItems(): MenuLateralItem[] {\r\n    return Array.from(this.el.querySelectorAll('ath-menu-lateral-item-link, ath-menu-lateral-item-action')).map((item: any, index) => {\r\n      const isLink = item.tagName.toLowerCase() === 'ath-menu-lateral-item-link';\r\n      return {\r\n        id: `menu-lateral-${this.hostId}-item-${index}`,\r\n        ariaLabel: item.ariaLabel || item.tooltipText,\r\n        badgeLabel: item.badgeLabel,\r\n        badgeMax: item.badgeMax,\r\n        badgeValue: item.badgeValue,\r\n        disabled: item.disabled,\r\n        icon: item.icon,\r\n        name: item.name,\r\n        selected: item.selected === true,\r\n        tooltipText: item.tooltipText,\r\n        ...(isLink\r\n          ? {\r\n              externalLabel: item.externalLabel,\r\n              href: !item.disabled ? item.href : undefined,\r\n              rel: item.rel,\r\n              target: item.target,\r\n              type: MenuLateralItemType.Link,\r\n            }\r\n          : {\r\n              type: MenuLateralItemType.Action,\r\n            }),\r\n      };\r\n    });\r\n  }\r\n\r\n  // Render Items\r\n  private renderMenuItem(item) {\r\n    if (item.type === MenuLateralItemType.Action) return this.renderActionItem(item);\r\n    if (item.type === MenuLateralItemType.Link) return this.renderLinkItem(item);\r\n    return null;\r\n  }\r\n\r\n  private renderActionItem = item => {\r\n    return (\r\n      <div\r\n        id={item.id}\r\n        class={this.getMenuLateralItemButtonClassNames(item)}\r\n        role=\"menuitem\"\r\n        aria-label={item.ariaLabel}\r\n        aria-describedby={`${item.id}-desc`}\r\n        aria-disabled={item.disabled ? 'true' : 'false'}\r\n        aria-current={item.selected.toString()}\r\n        onMouseEnter={() => this.handleMouseEnter(item.id)}\r\n        onMouseLeave={this.handleMouseLeave}\r\n        onClick={() => this.handleClick(item)}\r\n        tabindex=\"-1\"\r\n      >\r\n        {!!item.icon && this.renderIcon(item)}\r\n        <div id={`${item.id}-desc`} class=\"ath-visibility-hidden\">\r\n          {item.badgeLabel}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  private renderLinkItem = item => {\r\n    return (\r\n      <a\r\n        id={item.id}\r\n        class={this.getMenuLateralItemButtonClassNames(item)}\r\n        role=\"menuitem\"\r\n        aria-label={item.ariaLabel}\r\n        aria-describedby={`${item.id}-desc`}\r\n        aria-disabled={item.disabled ? 'true' : 'false'}\r\n        aria-current={item.selected && 'page'}\r\n        onMouseEnter={() => this.handleMouseEnter(item.id)}\r\n        onMouseLeave={this.handleMouseLeave}\r\n        onClick={() => this.handleClick(item)}\r\n        href={item.href}\r\n        target={item.target}\r\n        rel={item.rel}\r\n        tabindex=\"-1\"\r\n      >\r\n        {!!item.icon && this.renderIcon(item)}\r\n        <div id={`${item.id}-desc`} class=\"ath-visibility-hidden\">\r\n          <span>{item.badgeLabel}</span>\r\n          {item.target === '_blank' && <span>{item.externalLabel}</span>}\r\n        </div>\r\n      </a>\r\n    );\r\n  };\r\n\r\n  private getMenuLateralItemButtonClassNames = item => ({\r\n    'ath-menu-lateral__item-container': true,\r\n    [`ath-menu-lateral__item-container--disabled`]: item.disabled,\r\n    [`ath-menu-lateral__item-container--selected`]: item.selected,\r\n    'ath-menu-lateral__item--focused': this.focusedItemId === item.id && this.showFocused,\r\n  });\r\n\r\n  private renderIcon = item => <ath-icon icon={item.icon} color={item.disabled ? 'disabled' : item.selected ? 'inverse' : 'primary'} size=\"sm\"></ath-icon>;\r\n\r\n  // Interaction\r\n  private handleMenuItemKeyDown(event: KeyboardEvent) {\r\n    const index = this.generatedMenuLateralItems.findIndex(item => item.id === this.focusedItemId);\r\n    let nextIndex = index;\r\n\r\n    switch (event.key) {\r\n      case 'ArrowRight':\r\n      case 'ArrowDown':\r\n        nextIndex = this.findNextEnabledIndex(index, 1);\r\n        event.preventDefault();\r\n        this.setFocusedItemId(this.generatedMenuLateralItems[nextIndex].id);\r\n        break;\r\n      case 'ArrowLeft':\r\n      case 'ArrowUp':\r\n        nextIndex = this.findNextEnabledIndex(index, -1);\r\n        event.preventDefault();\r\n        this.setFocusedItemId(this.generatedMenuLateralItems[nextIndex].id);\r\n        break;\r\n      case 'Home':\r\n        nextIndex = this.generatedMenuLateralItems.findIndex(item => !item.disabled);\r\n        if (nextIndex !== -1) {\r\n          event.preventDefault();\r\n          this.setFocusedItemId(this.generatedMenuLateralItems[nextIndex].id);\r\n        }\r\n        break;\r\n      case 'End':\r\n        nextIndex = this.generatedMenuLateralItems.length - 1;\r\n        while (nextIndex >= 0 && this.generatedMenuLateralItems[nextIndex].disabled) {\r\n          nextIndex--;\r\n        }\r\n        if (nextIndex >= 0) {\r\n          event.preventDefault();\r\n          this.setFocusedItemId(this.generatedMenuLateralItems[nextIndex].id);\r\n        }\r\n        break;\r\n      case 'Enter':\r\n      case ' ':\r\n        if (index !== -1) {\r\n          const item = this.generatedMenuLateralItems[index];\r\n          if (item.type === MenuLateralItemType.Link && item.href && !item.disabled) {\r\n            const linkEl = this.el.shadowRoot.querySelector(`#${item.id}`) as HTMLAnchorElement;\r\n            if (linkEl) {\r\n              linkEl.click();\r\n            }\r\n          } else {\r\n            this.handleClick(item);\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  private findNextEnabledIndex(startIndex: number, direction: 1 | -1): number {\r\n    const total = this.generatedMenuLateralItems.length;\r\n    let idx = startIndex;\r\n    for (let i = 0; i < total; i++) {\r\n      idx = (idx + direction + total) % total;\r\n      if (!this.generatedMenuLateralItems[idx].disabled) {\r\n        return idx;\r\n      }\r\n    }\r\n    return startIndex;\r\n  }\r\n\r\n  private setFocusedItemId(id: string) {\r\n    this.focusedItemId = id;\r\n    this.hoveredItemId = null;\r\n  }\r\n\r\n  // Selection\r\n  private handleClick(item) {\r\n    if (item.disabled) return;\r\n    this.generatedMenuLateralItems = this.generatedMenuLateralItems.map(i => ({\r\n      ...i,\r\n      selected: i.id === item.id,\r\n    }));\r\n    this.emitSelectedEvent(item);\r\n  }\r\n\r\n  private emitSelectedEvent(item) {\r\n    this.athSelected.emit(item);\r\n  }\r\n\r\n  @Watch('selectedItemId')\r\n  onSelectedItemIdChange(newValue: string) {\r\n    this.generatedMenuLateralItems.map(item => {\r\n      item.selected = item.id === newValue ? true : false;\r\n    });\r\n  }\r\n\r\n  // Tooltip\r\n  private handleMouseEnter = (itemId: string) => {\r\n    this.hoveredItemId = itemId;\r\n    this.focusedItemId = null;\r\n  };\r\n\r\n  private handleMouseLeave = () => {\r\n    this.hoveredItemId = null;\r\n    this.focusedItemId = null;\r\n  };\r\n\r\n  private handleFocus = () => {\r\n    this.showFocused = true;\r\n    if (!this.focusedItemId && this.generatedMenuLateralItems.length > 0) {\r\n      const firstEnabled = this.generatedMenuLateralItems.find(i => !i.disabled);\r\n      if (firstEnabled) this.setFocusedItemId(firstEnabled.id);\r\n    }\r\n  };\r\n\r\n  // Render\r\n  render(): JSX.Element {\r\n    return (\r\n      <Host>\r\n        <div\r\n          role=\"menubar\"\r\n          class=\"ath-menu-lateral\"\r\n          tabindex=\"0\"\r\n          aria-activedescendant={this.focusedItemId}\r\n          onKeyDown={e => this.handleMenuItemKeyDown(e)}\r\n          onFocus={this.handleFocus}\r\n          onBlur={() => {\r\n            this.showFocused = false;\r\n          }}\r\n        >\r\n          {this.generatedMenuLateralItems.map(item => (\r\n            <div class=\"ath-menu-lateral__item-wrapper\">\r\n              <div class=\"ath-menu-lateral__item\">\r\n                {item.badgeValue ? (\r\n                  <ath-badge value={item.badgeValue} max={item.badgeMax} position=\"top-right\" distance-x={-5} distance-y={-4} color={item.disabled ? 'disabled' : 'accent'}>\r\n                    {this.renderMenuItem(item)}\r\n                  </ath-badge>\r\n                ) : (\r\n                  this.renderMenuItem(item)\r\n                )}\r\n              </div>\r\n              <span class={((this.hoveredItemId === item.id && !item.disabled) || this.focusedItemId === item.id) && item.tooltipText ? '' : 'ath-visibility-hidden'}>\r\n                <FcHelpDescription text={item.tooltipText} position=\"bottom-right\"></FcHelpDescription>\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}