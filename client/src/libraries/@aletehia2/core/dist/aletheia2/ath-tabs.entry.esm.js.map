{"version":3,"file":"ath-tabs.entry.esm.js","sources":["src/components/tabs/focus-manager.ts","src/components/tabs/tabs.model.ts","src/components/tabs/tabs.scss?tag=ath-tabs&encapsulation=scoped","src/components/tabs/tabs.tsx"],"sourcesContent":["export const moveFocusToTab = (\r\n  tabs: { id: string; disabled?: boolean }[],\r\n  direction: number,\r\n  activeTabId: string,\r\n  toEnd: boolean = false,\r\n): string | undefined => {\r\n  const activeTabElement = document.activeElement as HTMLElement;\r\n\r\n  if (!activeTabElement) return activeTabId;\r\n\r\n  const currentTab = tabs.find(tab => tab.id === activeTabElement?.id);\r\n\r\n  if (currentTab) {\r\n    let currentIndex = tabs.findIndex(tab => tab.id === currentTab.id);\r\n    let nextIndex = currentIndex + direction;\r\n\r\n    if (toEnd) {\r\n      for (let i = tabs.length - 1; i >= 0; i--) {\r\n        if (!tabs[i].disabled) {\r\n          nextIndex = i;\r\n          break;\r\n        }\r\n      }\r\n    } else if (direction === 0) {\r\n      nextIndex = tabs.findIndex(tab => !tab.disabled);\r\n    } else {\r\n      nextIndex = (currentIndex + direction + tabs.length) % tabs.length;\r\n      while (tabs[nextIndex] && tabs[nextIndex].disabled) {\r\n        nextIndex = (nextIndex + direction + tabs.length) % tabs.length;\r\n      }\r\n    }\r\n\r\n    const nextTab = tabs[nextIndex];\r\n\r\n    // No loop\r\n    if (nextTab && !nextTab.disabled) {\r\n      if (direction === -1 && currentIndex === 0) {\r\n        return activeTabId;\r\n      }\r\n      if (direction === 1 && currentIndex === tabs.length - 1) {\r\n        return activeTabId;\r\n      }\r\n\r\n      return nextTab.id;\r\n    }\r\n  }\r\n\r\n  return activeTabId;\r\n};\r\n\r\nexport const focusTab = (tabId: string, el: HTMLElement) => {\r\n  const tabElement = el.querySelector(`span#${tabId}`);\r\n  if (tabElement) {\r\n    (tabElement as HTMLElement).focus();\r\n  }\r\n};\r\n","export type TabsType = 'underline' | 'box';\r\n\r\nexport const TabsTypes = {\r\n  Underline: 'underline',\r\n  Box: 'box',\r\n} as const;\r\n\r\nexport interface TabItem {\r\n  id: string;\r\n  label: string;\r\n  disabled?: boolean;\r\n  icon?: string;\r\n  iconAriaLabel?: string;\r\n  selected?: boolean;\r\n}\r\n","@use '../../sharedfc/input/button-comp/fc-button-comp' as buttonComp;\r\n@use './tabs.theme.scss';\r\n\r\n@include buttonComp.fc-button-comp-vars;\r\n@include buttonComp.fc-button-comp;\r\n\r\n:host {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n\r\n  .ath_tab-header {\r\n    display: flex;\r\n    align-items: center;\r\n    align-self: stretch;\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n\r\n  .ath_tab-header.ath-tabs--underline::before {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: 4px;\r\n    left: 2px;\r\n    width: 100%;\r\n    height: 1px;\r\n    background-color: var(--ath-color-tab-header-border);\r\n    z-index: 0;\r\n  }\r\n\r\n  .ath-tab-header__button {\r\n    display: flex;\r\n    height: 48px;\r\n    align-items: center;\r\n    gap: 8px;\r\n    &-left {\r\n      padding-right: var(--ath-spacing-050);\r\n      margin-left: 4px;\r\n    }\r\n    &-right {\r\n      padding-left: var(--ath-spacing-050);\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n\r\n  .ath-tab__group {\r\n    display: flex;\r\n    flex: 1 0 0;\r\n    align-self: stretch;\r\n    overflow-y: auto;\r\n    scrollbar-width: none;\r\n    /* Oculta scrollbar en Firefox */\r\n    -ms-overflow-style: none;\r\n    /* Oculta scrollbar en IE/Edge */\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n      /* Oculta scrollbar en Chrome/Safari */\r\n    }\r\n    ul {\r\n      display: flex;\r\n      list-style: none;\r\n      padding: 0;\r\n      margin: 0;\r\n      border: none;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    li {\r\n      display: inline-block;\r\n      vertical-align: bottom;\r\n      border: none;\r\n    }\r\n\r\n    .ath-tab__list--box {\r\n      width: 100%;\r\n      gap: var(--ath-spacing-tab-box-group-col-gap);\r\n    }\r\n\r\n    .ath-tab__item {\r\n      display: flex;\r\n      padding: var(--ath-spacing-tab-item-padding-y) var(--ath-spacing-tab-item-padding-x);\r\n      gap: var(--ath-spacing-tab-item-col-gap);\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: relative;\r\n      border-radius: var(--border-radius);\r\n      border: none;\r\n      outline: none;\r\n      box-sizing: border-box;\r\n      overflow: visible;\r\n      cursor: pointer;\r\n      color: var(--ath-color-fg-default);\r\n      font-family: var(--ath-font-family-primary);\r\n      font-size: var(--ath-font-size-tab-item);\r\n      font-weight: var(--ath-font-weight-regular);\r\n      line-height: var(--ath-font-line-height-tab-item);\r\n      z-index: 100;\r\n      margin-bottom: 4px;\r\n      margin-top: 4px;\r\n\r\n      &:not(.ath-tab__item--selected):not(.ath-tab__item--disabled):hover {\r\n        background: var(--ath-color-bg-alpha-hovered);\r\n        font-weight: var(--ath-font-weight-tab-item-hovered);\r\n      }\r\n\r\n      &:not(.ath-tab__item--selected):not(.ath-tab__item--disabled):active {\r\n        background: var(--ath-color-bg-alpha-pressed);\r\n      }\r\n\r\n      &.ath-tab__item--underline:focus-visible {\r\n        box-shadow: 0px 0px 0px 2px var(--ath-color-border-focus);\r\n        z-index: 1000;\r\n      }\r\n\r\n      &.ath-tab__item--box:focus-visible {\r\n        border: 1px solid var(--ath-color-drop-shadow-focus,);\r\n        box-shadow: 0px 0px 0px 2px var(--ath-color-border-focus);\r\n        z-index: 1000;\r\n      }\r\n      &.ath-tab__item--box--selected:focus-visible {\r\n        border: 1px solid var(--ath-color-drop-shadow-focus,);\r\n        box-shadow: 0px 0px 0px 2px var(--ath-color-border-focus);\r\n        z-index: 1000;\r\n      }\r\n      &--selected {\r\n        font-weight: var(--ath-font-weight-medium);\r\n        cursor: default;\r\n      }\r\n\r\n      &.ath-tab__item--underline.ath-tab__item--selected:not(.ath-tab__item--disabled)::after,\r\n      &.ath-tab__item--underline:not(.ath-tab__item--disabled):hover::after,\r\n      &.ath-tab__item--underline:not(.ath-tab__item--disabled):active::before {\r\n        content: '';\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: var(--ath-sizing-tab-item-indicator-height);\r\n        border-radius: var(--ath-border-radius-tab-item-indicator);\r\n        border: 1px solid var(--ath-color-tab-item-indicator-bg-default);\r\n        box-sizing: border-box;\r\n        background: var(--ath-color-tab-item-indicator-bg-default);\r\n        z-index: 2;\r\n      }\r\n\r\n      &:active:after {\r\n        display: none;\r\n      }\r\n\r\n      &--disabled {\r\n        color: var(--ath-color-fg-disabled);\r\n        cursor: not-allowed;\r\n        pointer-events: none;\r\n      }\r\n\r\n      &.ath-tab__item--box {\r\n        border: var(--ath-border-width-tab-item-box) solid var(--ath-color-tab-item-box-border);\r\n        margin-left: -1px;\r\n        &--selected {\r\n          font-weight: var(--ath-font-weight-medium);\r\n          color: var(--ath-color-tab-item-box-fg-selected);\r\n          background: var(--ath-color-tab-item-box-bg-selected);\r\n          cursor: default;\r\n        }\r\n      }\r\n\r\n      &.ath-tab__item--box:not(.ath-tab__item--disabled):hover::after,\r\n      &.ath-tab__item--box:not(.ath-tab__item--disabled):active::before {\r\n        content: '';\r\n        position: absolute;\r\n        box-sizing: content-box;\r\n        height: calc(100% - 2px);\r\n        width: calc(100% - 2px);\r\n        border: var(--ath-border-width-tab-item-box-hovered) solid var(--ath-color-tab-item-box-border);\r\n        border-radius: var(--border-radius);\r\n      }\r\n    }\r\n\r\n    ul[role='tablist'] li:last-child .ath-tab__item--box {\r\n      border-right: 1px solid var(--ath-color-tab-item-box-border);\r\n    }\r\n    ul[role='tablist'] li:first-child .ath-tab__item--box:not(:focus-visible) {\r\n      border-left: 1px solid var(--ath-color-tab-item-box-border);\r\n    }\r\n    ul[role='tablist'] li:first-child .ath-tab__item--box {\r\n      margin-left: 2px;\r\n    }\r\n    ul[role='tablist'] li:first-child .ath-tab__item--underline {\r\n      margin-left: 2px;\r\n    }\r\n  }\r\n\r\n  .warning {\r\n    color: var(--ath-color-alert-fg-danger);\r\n    font-family: var(--ath-font-family-primary);\r\n    font-size: var(--ath-font-size-body-sm,);\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 150%; /* 21px */\r\n    letter-spacing: -0.14px;\r\n  }\r\n}\r\n","import { Component, Prop, State, h, Element, Host, Watch } from '@stencil/core';\r\nimport { Tab } from './tabs.interfaces';\r\nimport { moveFocusToTab, focusTab } from './focus-manager';\r\nimport { TabItem, TabsType, TabsTypes } from './tabs.model';\r\nimport { FcButtonComp } from 'sharedfc/input';\r\nimport { ButtonIconPosition } from 'components/button/button.model';\r\nimport { IconSize } from '@utils/helper';\r\n\r\nlet tabsSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-tabs',\r\n  styleUrl: 'tabs.scss',\r\n  scoped: true,\r\n})\r\nexport class AthTabs {\r\n  /**\r\n   * Tipo de Tabs\r\n   */\r\n  @Prop() type: TabsType = TabsTypes.Underline;\r\n\r\n  /**\r\n   * Etiqueta accesible para la lista de tabs\r\n   */\r\n  @Prop() listAriaLabel: string;\r\n\r\n  /**\r\n   * Lista de tabs a generar\r\n   */\r\n  @Prop() items: TabItem[] | string;\r\n\r\n  @State() selectedTabId: string;\r\n  @State() activeTabId: string;\r\n  @State() showLeftArrow = false;\r\n  @State() showRightArrow = false;\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  private hostId = ++tabsSequence;\r\n  private tabs: Tab[] = [];\r\n  private panelElements: HTMLElement[] = [];\r\n  private firstEnabledTabId: string;\r\n  private lastEnabledTabId: string;\r\n  private tabGroup!: HTMLElement;\r\n  private resizeObserver: ResizeObserver;\r\n\r\n  @Watch('items')\r\n  onItemsChange(newValue: TabItem[] | string, oldValue: TabItem[] | string) {\r\n    if (newValue !== oldValue) {\r\n      this.generateTabs();\r\n      this.detectFirstAndLastEnabledTab();\r\n      this.detectSelectedTab();\r\n      this.showSelectedPanel();\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.panelElements = Array.from(this.el.querySelectorAll('ath-panel'));\r\n    this.generateTabs();\r\n    this.detectFirstAndLastEnabledTab();\r\n    this.detectSelectedTab();\r\n    this.setPanelAtributes();\r\n  }\r\n\r\n  private generateTabs() {\r\n    const tabs = this.getTabs();\r\n\r\n    this.tabs = tabs.map(tab => ({\r\n      id: `tab-${this.hostId}-${tab.id}`,\r\n      label: tab.label,\r\n      disabled: tab.disabled,\r\n      icon: tab.icon,\r\n      iconAriaLabel: tab['icon-aria-label'],\r\n      selected: tab.selected === true,\r\n      panelId: '',\r\n    }));\r\n  }\r\n\r\n  private getTabs(): TabItem[] {\r\n    if (this.items) {\r\n      const parsedItems = typeof this.items === 'string' ? this.parseItems(this.items) : [...this.items];\r\n      return parsedItems;\r\n    }\r\n\r\n    return this.getTabElements();\r\n  }\r\n\r\n  private parseItems(value: string): TabItem[] {\r\n    try {\r\n      return value ? JSON.parse(value) : [];\r\n    } catch (error) {\r\n      console.error('Error parsing items:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  private getTabElements(): TabItem[] {\r\n    return Array.from(this.el.querySelectorAll('ath-tab')).map(tab => ({\r\n      id: tab.id,\r\n      label: tab.label,\r\n      disabled: tab.disabled,\r\n      icon: tab.icon,\r\n      iconAriaLabel: tab.iconAriaLabel,\r\n      selected: tab.selected,\r\n    }));\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.showSelectedPanel();\r\n    this.updateArrowsVisibility();\r\n    this.resizeObserver = new ResizeObserver(() => {\r\n      this.updateArrowsVisibility();\r\n    });\r\n    this.resizeObserver.observe(this.el);\r\n    this.checkNumberOfPanels();\r\n  }\r\n\r\n  private setPanelAtributes() {\r\n    this.panelElements.map((_panel, index) => this.panelElements[index].setAttribute('hidden', 'true'));\r\n    this.tabs.map((tab, index) => {\r\n      if (this.panelElements[index]) {\r\n        if (!this.panelElements[index].id) {\r\n          this.panelElements[index].setAttribute('id', `panel-${tab.id}`);\r\n        }\r\n        tab.panelId = this.panelElements[index].id;\r\n        this.panelElements[index].setAttribute('aria-labelledby', tab.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  private detectFirstAndLastEnabledTab() {\r\n    this.firstEnabledTabId = this.tabs.find(tab => !tab.disabled).id;\r\n    this.lastEnabledTabId = this.tabs\r\n      .slice()\r\n      .reverse()\r\n      .find(tab => !tab.disabled)?.id;\r\n  }\r\n\r\n  private detectSelectedTab(): void {\r\n    const selectedTab = this.tabs.find(tab => tab.selected);\r\n    this.selectedTabId = selectedTab ? selectedTab.id : this.firstEnabledTabId;\r\n  }\r\n\r\n  private showSelectedPanel() {\r\n    const selectedPanelId = this.tabs.find(tab => tab.id === this.selectedTabId).panelId;\r\n\r\n    this.panelElements.forEach(panel => {\r\n      if (panel.id === selectedPanelId) {\r\n        panel.removeAttribute('hidden');\r\n      } else {\r\n        panel.setAttribute('hidden', 'true');\r\n      }\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.disconnect();\r\n    }\r\n  }\r\n\r\n  private handleTabClick = tab => {\r\n    if (!tab.disabled) {\r\n      this.selectedTabId = tab.id;\r\n      this.showSelectedPanel();\r\n    }\r\n  };\r\n\r\n  private handleKeyUp = (event: KeyboardEvent, tab) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      this.handleTabClick(tab);\r\n    } else if (event.key === 'ArrowLeft') {\r\n      if (this.activeTabId !== this.firstEnabledTabId) {\r\n        const nextTabId = moveFocusToTab(this.tabs, -1, this.activeTabId);\r\n        focusTab(nextTabId, this.el);\r\n      }\r\n    } else if (event.key === 'ArrowRight') {\r\n      if (this.activeTabId !== this.lastEnabledTabId) {\r\n        const nextTabId = moveFocusToTab(this.tabs, 1, this.activeTabId);\r\n        focusTab(nextTabId, this.el);\r\n      }\r\n    } else if (event.key === 'Home') {\r\n      if (this.activeTabId !== this.firstEnabledTabId) {\r\n        focusTab(this.firstEnabledTabId, this.el);\r\n      }\r\n    } else if (event.key === 'End') {\r\n      if (this.activeTabId !== this.lastEnabledTabId) {\r\n        focusTab(this.lastEnabledTabId, this.el);\r\n      }\r\n    }\r\n    this.activeTabId = (document.activeElement as HTMLElement).id;\r\n  };\r\n\r\n  private scrollTabs(direction: 'left' | 'right') {\r\n    if (this.tabGroup) {\r\n      const scrollAmount = 250;\r\n      this.tabGroup.scrollBy({\r\n        left: direction === 'left' ? -scrollAmount : scrollAmount,\r\n        behavior: 'smooth',\r\n      });\r\n\r\n      requestAnimationFrame(() => this.updateArrowsVisibility());\r\n    }\r\n  }\r\n\r\n  private updateArrowsVisibility = () => {\r\n    if (this.tabGroup) {\r\n      const maxScrollLeft = this.tabGroup.scrollWidth - this.tabGroup.clientWidth;\r\n      this.showLeftArrow = this.tabGroup.scrollLeft > 0;\r\n      this.showRightArrow = this.tabGroup.scrollLeft < maxScrollLeft - 5;\r\n    }\r\n  };\r\n\r\n  private checkNumberOfPanels = () => {\r\n    {\r\n      if (this.panelElements.length != this.tabs.length) {\r\n        console.error(\r\n          `AVISO: Hay una ${this.panelElements.length > this.tabs.length ? 'mayor' : 'menor'} cantidad de paneles (${this.panelElements.length}) que de tabs (${this.tabs.length}). Por favor, revíselo.`,\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  private getHostClassNames() {\r\n    return {\r\n      'ath_tab-header': true,\r\n      [`ath-tabs--${this.type}`]: !!this.type,\r\n    };\r\n  }\r\n\r\n  private getTabItemClassNames(tab) {\r\n    return {\r\n      'ath-tab__item': true,\r\n      [`ath-tab__item--${this.type}`]: !!this.type,\r\n      ['ath-tab__item--selected']: tab.id === this.selectedTabId,\r\n      ['ath-tab__item--box--selected']: tab.id === this.selectedTabId && this.type === 'box',\r\n      ['ath-tab__item--disabled']: tab.disabled,\r\n    };\r\n  }\r\n\r\n  private getTabListClassNames() {\r\n    return {\r\n      'ath-tab__list--box': this.type === 'box',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class={this.getHostClassNames()}>\r\n          {this.showLeftArrow && (\r\n            <div class=\"ath-tab-header__button ath-tab-header__button-left\">\r\n              <FcButtonComp\r\n                icon=\"chevron_left\"\r\n                color=\"default\"\r\n                iconPosition={ButtonIconPosition.IconOnly}\r\n                size={IconSize.Small}\r\n                onClick={() => this.scrollTabs('left')}\r\n                buttonAriaLabel=\"Mostrar más pestañas hacia la izquierda\"\r\n              ></FcButtonComp>\r\n            </div>\r\n          )}\r\n          <div class=\"ath-tab__group\" ref={el => (this.tabGroup = el as HTMLElement)} onScroll={() => this.updateArrowsVisibility()}>\r\n            <ul role=\"tablist\" aria-label={this.listAriaLabel} class={this.getTabListClassNames()}>\r\n              {this.tabs.map(tab => (\r\n                <li role=\"presentation\" class={this.getTabListClassNames()}>\r\n                  <span\r\n                    role=\"tab\"\r\n                    id={tab.id}\r\n                    aria-controls={tab.panelId}\r\n                    aria-selected={tab.id === this.selectedTabId ? 'true' : 'false'}\r\n                    aria-disabled={tab.disabled ? true : false}\r\n                    tabindex={tab.id === this.selectedTabId ? '0' : '-1'}\r\n                    class={this.getTabItemClassNames(tab)}\r\n                    onClick={() => this.handleTabClick(tab)}\r\n                    onKeyUp={event => this.handleKeyUp(event, tab)}\r\n                  >\r\n                    {tab.icon && <ath-icon icon={tab.icon} size=\"md\" aria-label={tab.iconAriaLabel}></ath-icon>}\r\n                    {tab.label}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {this.showRightArrow && (\r\n            <div class=\"ath-tab-header__button ath-tab-header__button-right\">\r\n              <FcButtonComp\r\n                icon=\"chevron_right\"\r\n                color=\"default\"\r\n                iconPosition={ButtonIconPosition.IconOnly}\r\n                size={IconSize.Small}\r\n                onClick={() => this.scrollTabs('right')}\r\n                buttonAriaLabel=\"Mostrar más pestañas hacia la derecha\"\r\n              ></FcButtonComp>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <slot name=\"panel\"></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}