import{r as t,c as e,a as s,h as i,H as a}from"./p-D2-yfY-d.js";const h=":host .ath-collapse{transition:height 0.5s;color:var(--ath-color-fg-default)}:host .ath-collapse--overflow-hidden{overflow:hidden}";const o=class{constructor(s){t(this,s);this.athCollapseState=e(this,"athCollapseState")}timeoutHideContent;timeoutChangeOverflow;animationtime=500;get el(){return s(this)}show=false;isExpanded;collapseHeight;overflowHidden=true;athCollapseState;handleCollapse(t){const e=t.detail;if(!e||e!==this.el?.id)return;this.isExpanded=!this.isExpanded;this.athCollapseState.emit({id:this.el.id,isExpanded:this.isExpanded});clearTimeout(this.timeoutHideContent);clearTimeout(this.timeoutChangeOverflow);if(this.isExpanded){this.show=true;this.timeoutChangeOverflow=setTimeout((()=>{this.overflowHidden=false}),this.animationtime)}else{this.timeoutHideContent=setTimeout((()=>this.show=false),this.animationtime);this.overflowHidden=true}}handleResize(){this.getCollapseHeight()}async handleExpanded(){await this.getCollapseHeight()}getClassNames=()=>({"ath-collapse":true,"ath-collapse--expanded":this.isExpanded,"ath-collapse--collapsed":!this.isExpanded,"ath-collapse--overflow-hidden":this.overflowHidden});getCollapseHeight=async()=>{await new Promise((t=>setTimeout(t,0)));await new Promise((t=>requestAnimationFrame(t)));const t=this.el.shadowRoot?.querySelector(".ath-collapse");if(t&&this.isExpanded){const e=t.style.height;t.style.height="auto";const s=t.scrollHeight;t.style.height=e;await new Promise((t=>requestAnimationFrame(t)));this.collapseHeight=`${s}px`}else{this.collapseHeight="0px"}};componentWillLoad(){this.isExpanded=this.show;this.athCollapseState.emit({id:this.el?.id,isExpanded:this.isExpanded})}componentDidLoad(){this.getCollapseHeight()}disconnectedCallback(){clearTimeout(this.timeoutHideContent);clearTimeout(this.timeoutChangeOverflow)}render(){return i(a,{key:"08bc17e50c5fb6c7256b0d1b331b8231cb0bbde1"},i("div",{key:"bd4ac59b2eca99f5512b8e73d2d7d5b34b5c9476"},i("div",{key:"f469338b9dbd4f4cb489fec4450929194e574639",class:this.getClassNames(),style:{height:this.collapseHeight}},this.show&&i("slot",{key:"80f958764334f5d4cd4ad6d71ef813cae861008b"}))))}static get watchers(){return{isExpanded:["handleExpanded"]}}};o.style=h;export{o as ath_collapse};
//# sourceMappingURL=p-62a4f2a3.entry.js.map