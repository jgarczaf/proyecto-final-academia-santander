import{r as t,c as s,a as i,h,H as e}from"./p-D2-yfY-d.js";import{a}from"./p-Ck_3aICM.js";const r=":host{display:flex;align-items:center;align-content:center;gap:var(--ath-spacing-chip-group-row-gap) var(--ath-spacing-chip-group-col-gap);flex-wrap:wrap;width:100%}";const n=class{constructor(i){t(this,i);this.athChangeValue=s(this,"athChangeValue");if(i.$hostElement$["s-ei"]){this.internals=i.$hostElement$["s-ei"]}else{this.internals=i.$hostElement$.attachInternals();i.$hostElement$["s-ei"]=this.internals}}get el(){return i(this)}internals;disabled=false;multiple=false;name;size=a.Medium;width;value;watchValueHandler(t){this.selectByValue(t)}athChangeValue;handleChange(t){t.stopPropagation();if(this.multiple){this.selectedChip=this.getChipIndex(t.detail)}else{this.selectByValue(t.detail.value);this.setValue()}this.emitCheckedChips()}handleMouseDown(t){switch(t.code){case"ArrowLeft":this.movePreviousChip();break;case"ArrowRight":this.moveNextChip();break;case"Home":this.selectFocusChip(this.firstEnabledChip);break;case"End":this.selectFocusChip(this.lastEnabledChip);break}}chips=[];selectedChip;firstEnabledChip;lastEnabledChip;initialValue;componentDidLoad(){this.loadChips();this.propagateAttributes();this.initialValue=this.value;if(this.value){this.selectByValue(this.value);this.setInputValue(this.value)}else{this.setFocusFirstChip()}}formResetCallback(){this.value=this.initialValue;this.selectByValue(this.value);this.setInputValue(this.initialValue);this.emitCheckedChips()}loadChips(){this.chips=this.getChips();this.firstEnabledChip=this.getFirstEnabledChip();this.lastEnabledChip=this.getLastEnabledChip()}setFocusFirstChip(){const t=this.getFirstCheckedChip();this.selectFocusChip(t>-1?t:this.firstEnabledChip)}getChips(){const t=this.el.querySelectorAll("ath-chip-choice");const s=[];if(t){t.forEach((t=>{s.push(t)}))}return s}propagateAttributes(){if(this.chips){this.chips.forEach((t=>{this.propagateAttribute(t)}))}}propagateAttribute(t){if(!t){return}t.role=this.multiple?"checkbox":"radio";if(this.disabled){t.disabled=true}if(this.size&&!t.hasAttribute("size")){t.setAttribute("size",this.size)}if(this.name&&this.multiple){t.setAttribute("name",this.name)}else{t.removeAttribute("name")}}getFirstEnabledChip(){return this.chips.findIndex((t=>!t.disabled))}getLastEnabledChip(){for(let t=this.chips.length-1;t>=0;t--){if(!this.chips[t].disabled){return t}}return-1}getFirstCheckedChip(){const t=this.chips.findIndex((t=>t.selected&&!t.disabled));return t}getChipIndex(t){return this.chips.findIndex((s=>s===t))}getHostStyles(){return{width:this.width||undefined}}moveNextChip(){const t=this.chips.findIndex(((t,s)=>s>this.selectedChip&&!t.disabled));this.selectFocusChip(t===-1?this.firstEnabledChip:t)}movePreviousChip(){let t=this.selectedChip-1;while(t>=0&&this.chips[t].disabled){t--}this.selectFocusChip(t===-1?this.lastEnabledChip:t)}selectFocusChip(t){this.selectedChip=t;this.chips.forEach((t=>{t.unselect()}));this.chips[this.selectedChip].select()}selectByValue(t){if(!this.multiple){this.unCheckAllChips();const s=this.chips.findIndex((s=>s.value===t));this.selectedChip=s;if(s!==-1){this.chips[s].selected=true;this.chips[s].select()}}}unCheckAllChips(){this.chips.forEach((t=>{t.selected=false;t.unselect()}))}emitCheckedChips(){const t=this.chips.filter((t=>t.selected));this.athChangeValue.emit(t)}setValue(){if(!this.multiple){const t=this.selectedChip>-1?this.chips[this.selectedChip].value:"";this.value=t;this.setInputValue(t)}}setInputValue(t){if(!this.multiple&&this.internals&&"setFormValue"in this.internals){this.internals.setFormValue(t);this.internals.checkValidity()}}render(){return h(e,{key:"314196f7f6af6b4166d6d0790bcf80fd54ee2f3f",role:this.multiple?"group":"radiogroup",style:this.getHostStyles()},h("slot",{key:"685dd733659d890e1b69a8397641c97abc723a9d"}))}static get formAssociated(){return true}static get watchers(){return{value:["watchValueHandler"]}}};n.style=r;export{n as ath_chip_choice_group};
//# sourceMappingURL=p-0a51af85.entry.js.map