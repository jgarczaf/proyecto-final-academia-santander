import{r as t,c as a,a as e,h as o,H as i}from"./p-D2-yfY-d.js";import{I as s}from"./p-BnU0zKUi.js";import{B as r}from"./p-D0e48E4w.js";import{F as l}from"./p-DFvcul4f.js";import{F as n}from"./p-D6Gz9Koh.js";import{g as h}from"./p-wtmkpk46.js";const d={Error:"error"};const c={Medium:"md"};const u=".ath-scroll{overflow:auto}.ath-overflow-hidden{overflow:hidden}.ath-overflow-x-hidden{overflow-x:hidden}.ath-overflow-y-hidden{overflow-y:hidden}@supports (-moz-appearance: none){.ath-scroll{scrollbar-width:thin;scrollbar-color:var(--ath-color-bg-alpha-bolder-default) var(--ath-color-scroll-track-bg)}.ath-scroll:hover{scrollbar-color:var(--ath-color-bg-alpha-bolder-hovered) var(--ath-color-scroll-track-bg)}}.ath-scroll::-webkit-scrollbar{width:var(--ath-sizing-scroll);height:var(--ath-sizing-scroll)}.ath-scroll::-webkit-scrollbar-track{background-color:var(--ath-color-scroll-track-bg)}.ath-scroll::-webkit-scrollbar-thumb{background-color:var(--ath-color-bg-alpha-bolder-default);border-radius:var(--ath-border-radius-scroll)}.ath-scroll::-webkit-scrollbar-thumb:hover{background-color:var(--ath-color-bg-alpha-bolder-hovered)}.ath-scroll::-webkit-scrollbar-button{display:none}:host .ath-modal--sm{--padding:var(--ath-spacing-modal-padding-around-sm)}:host .ath-modal--md{--padding:var(--ath-spacing-modal-padding-around-md)}:host .ath-button_comp--size-xs{--button-padding:var(--ath-spacing-button-padding-around-xs)}:host .ath-button_comp--size-sm{--button-padding:var(--ath-spacing-button-padding-around-xs)}:host .ath-button_comp--size-md{--button-padding:var(--ath-spacing-button-padding-around-xs)}:host .ath-button_comp--size-lg{--button-padding:var(--ath-spacing-button-padding-around-sm)}.ath-button_comp{display:inline-flex;justify-content:center;align-items:center;border-radius:var(--ath-border-radius-button);border:none;background:none;padding:var(--button-padding);outline:none;transition:background 0.5s;cursor:pointer}.ath-button_comp:focus{background:var(--ath-color-bg-alpha-focus);box-shadow:0px 0px 0px 2px var(--ath-color-border-focus)}.ath-button_comp:hover{background:var(--ath-color-bg-alpha-hovered)}.ath-button_comp:active{background:var(--ath-color-bg-alpha-pressed);box-shadow:none}.ath-button_comp--disabled{pointer-events:none;color:var(--ath-color-button-icon-disabled)}:host{z-index:1000}:host .backdrop{position:fixed;top:0;left:0;bottom:0;right:0;background:var(--ath-color-bg-surface-scrim);display:flex;justify-content:center;align-items:center;z-index:9999}:host .ath-modal{display:flex;flex-direction:column;position:relative;padding:var(--padding);gap:var(--ath-spacing-modal-row-gap-sm);border-radius:var(--ath-border-radius-modal-default);border:1px solid var(--ath-color-modal-border);background:var(--ath-color-bg-surface-secondary-subtlest);box-shadow:var(--ath-box-shadow-position-x-0) var(--ath-box-shadow-position-y-4) var(--ath-box-shadow-blur-4) var(--ath-box-shadow-spread-0) var(--ath-color-drop-shadow-default);align-items:flex-start;min-width:288px;margin:16px}:host .ath-modal:focus-visible{border:none}:host .ath-modal-header{display:flex;align-self:stretch;justify-content:space-between;align-items:flex-start;gap:var(--ath-spacing-modal-row-gap-sm)}:host .ath-modal-header:focus-visible{outline:none}:host .ath-modal-header img{width:104px;height:104px}:host .ath-modal-header-text{display:flex;flex-direction:column;gap:var(--ath-spacing-modal-header-text-row-gap);word-break:break-word}:host .ath-modal-header-text:focus :focus-visible :focus-within{outline:none}:host .ath-modal-header-text-title{align-items:flex-start;color:var(--ath-color-fg-default);font-family:var(--ath-font-family-heading);font-size:var(--ath-font-size-heading-2);font-style:normal;font-weight:var(--ath-font-weight-heading);line-height:var(--ath-font-line-height-heading-2);margin:0px}:host .ath-modal-header-text-subtitle{align-items:flex-start;color:var(--ath-color-fg-default);font-family:var(--ath-font-family-heading);font-size:var(--ath-font-size-heading-4);font-style:normal;font-weight:var(--ath-font-weight-heading);line-height:var(--ath-font-line-height-heading-4)}:host .ath-modal-header--alert{display:flex;flex-direction:column;align-items:center;gap:var(--ath-spacing-modal-header-row-gap-alert)}:host .ath-modal-header--alert .ath-modal-header-close{position:absolute;top:var(--ath-spacing-around-250);right:var(--ath-spacing-around-250)}:host .ath-modal-header--alert .ath-modal-header-text-title{align-self:center}:host .ath-modal-header--alert .ath-modal-header-text-subtitle{align-self:center}:host .ath-modal--fullscreen{margin:unset;border-radius:var(--ath-border-radius-modal-full-screen);margin:unset;position:fixed;left:0px;top:0px;right:0;bottom:0}:host .ath-modal ath-divider{width:100%}:host .ath-modal .scrollable-slot{max-height:60vh}:host .ath-modal:focus-visible{outline:none}";const b=class{constructor(e){t(this,e);this.athOpened=a(this,"athOpened");this.athClosed=a(this,"athClosed")}get el(){return e(this)}appearance=d.Error;autofocus=true;clickOutsideClose=false;fullScreen=false;hasClose=true;hasDivider=false;headingLevel=2;headingText;isAlert=false;maxHeight;maxWidth;open=false;size=c.Medium;subtitleText;closeAriaLabel;athOpened;athClosed;async openModal(){this.open=true;this.previouslyFocusedElement=this.getDeepActiveElement();requestAnimationFrame((()=>{this.focusableElements=this.findFocusableElements();if(this.autofocus){this.focusFirstElement()}else{this.blurOuterElement()}this.athOpened.emit()}))}async closeModal(){this.open=false;if(this.previouslyFocusedElement){this.previouslyFocusedElement.focus()}this.athClosed.emit()}previouslyFocusedElement=null;focusableElements=[];handleKeyDown(t){if(this.open){if(t.key==="Escape"){this.closeModal()}if(t.key==="Tab"){if(this.focusableElements.length!==0){this.trapFocus(t)}else{t.preventDefault()}}}}findFocusableElements(){const t=new Set;const a=['button:not([disabled]):not([tabindex="-1"])','a[href]:not([tabindex="-1"])','input:not([disabled]):not([type="hidden"]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','details:not([tabindex="-1"])','area[href]:not([tabindex="-1"])','[contentEditable=true]:not([tabindex="-1"])','iframe:not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])'].join(",");const e=new WeakSet;const o=i=>{if(!i||e.has(i))return;e.add(i);if(i instanceof HTMLElement){const e=window.getComputedStyle(i);const s=e.display!=="none"&&e.visibility!=="hidden";if(s&&i.matches(a)){t.add(i)}if(i.shadowRoot){o(i.shadowRoot)}const r=i.shadowRoot;if(r){r.querySelectorAll(a).forEach((a=>{if(a instanceof HTMLElement&&window.getComputedStyle(a).display!=="none"){t.add(a)}}))}}i.childNodes.forEach(o);if(typeof HTMLSlotElement!=="undefined"&&i instanceof HTMLSlotElement){i.assignedNodes({flatten:true}).forEach(o)}};o(this.el.shadowRoot??this.el);return Array.from(t)}focusFirstElement=()=>{if(this.focusableElements.length>0){if(this.focusableElements.length>1&&this.hasClose){this.focusableElements[1].focus()}else{this.focusableElements[0].focus()}}};blurOuterElement=()=>{const t=this.el.shadowRoot?.querySelector(".ath-modal");t?.focus()};componentDidLoad(){if(this.open){this.openModal()}}trapFocus=t=>{if(this.focusableElements.length===0)return;const a=this.focusableElements[0];const e=this.focusableElements[this.focusableElements.length-1];const o=this.getDeepActiveElement();if(t.shiftKey){if(o===a){t.preventDefault();e.focus()}}else{if(o===e){t.preventDefault();a.focus()}}};getDeepActiveElement(t=document){let a=t.activeElement;while(a?.shadowRoot&&a.shadowRoot.activeElement){a=a.shadowRoot.activeElement}return a}handleBackdropClick=t=>{if(t.target===t.currentTarget&&this.clickOutsideClose){this.closeModal()}};getAccesibilityAttributes=()=>({role:this.isAlert?"alertdialog":"dialog","aria-describedby":this.subtitleText?"subtitleTextId":undefined,"aria-labelledby":this.headingText?"headlineTextId":undefined,"aria-modal":"true",tabindex:"-1"});getDialogClassNames=()=>({"ath-modal":true,"ath-modal--fullscreen":this.fullScreen,[`ath-modal--${this.size}`]:!!this.size});getHeaderClassNames=()=>({"ath-modal-header":true,"ath-modal-header--alert":this.isAlert});getDialogStyle=()=>({maxHeight:this.maxHeight||"unset",maxWidth:this.maxWidth||"unset"});renderHeading=()=>{const t=h(this.headingLevel);return o(t,{class:"ath-modal-header-text-title",id:"headlineTextId"},this.headingText)};renderHeadingSubtitle=()=>o("div",{class:"ath-modal-header-text-subtitle",id:"subtitleTextId"},this.subtitleText);render(){if(!this.open){return o(i,null)}return o(i,null,o("div",{class:"backdrop",onClick:this.handleBackdropClick},o("div",{...this.getAccesibilityAttributes(),class:this.getDialogClassNames(),style:this.getDialogStyle()},o("div",{class:this.getHeaderClassNames()},this.isAlert&&o(n,{name:`illu_${this.appearance}_msg`}),o("div",{class:"ath-modal-header-text"},this.headingText&&this.renderHeading(),this.subtitleText&&this.renderHeadingSubtitle()),this.hasClose&&o("div",{class:"ath-modal-header-close"},o(l,{icon:"close_small",color:"default",iconPosition:r.IconOnly,size:s.Small,onClick:()=>this.closeModal(),buttonAriaLabel:this.closeAriaLabel}))),this.hasDivider&&o("ath-divider",null),o("div",{class:"scrollable-slot ath-scroll"},o("slot",{name:"body"})),o("slot",{name:"footer"}))))}};b.style=u;export{b as ath_modal};
//# sourceMappingURL=p-11d7bd5d.entry.js.map