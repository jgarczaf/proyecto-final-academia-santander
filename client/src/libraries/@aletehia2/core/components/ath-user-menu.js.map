{"file":"ath-user-menu.js","mappings":";;;;;AAEO,MAAM,aAAa,GAAG;AAC3B,IAGA,UAAU,EAAE,aAAa;CACjB;;ACPV,MAAM,WAAW,GAAG,mnBAAmnB;;ACIvoB,IAAI,gBAAgB,GAAG,CAAC;MAOXA,aAAW,iBAAAC,kBAAA,CAAA,MAAA,WAAA,SAAAC,CAAA,CAAA;AACd,IAAA,MAAM,GAAG,CAAA,SAAA,EAAY,EAAE,gBAAgB,EAAE;AACzC,IAAA,aAAa,GAAG,CAAG,EAAA,IAAI,CAAC,MAAM,UAAU;AAEhD;;AAEG;AACK,IAAA,QAAQ;AAChB;;AAEG;IACsB,IAAI,GAAY,KAAK;AAC9C;;AAEG;AACK,IAAA,QAAQ;AAChB;;AAEG;AACK,IAAA,QAAQ;AAChB;;AAEG;IACK,IAAI,GAAiB,SAAS;AAEtC;;AAEG;AACM,IAAA,SAAS;;AAGV,IAAA,YAAY;IACZ,YAAY,GAAG,CAAC;IAChB,aAAa,GAAG,IAAI;AAE5B,IAAA,kBAAkB,CAAC,KAAiB,EAAA;AAClC,QAAA,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAc,CAAC,EAAE;AAC3C,YAAA,IAAI,CAAC,IAAI,GAAG,KAAK;;;IAIrB,cAAc,GAAA;AACZ,QAAA,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC;;aAC1D;YACL,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC;;;IAI9D,WAAW,GAAG,EAAE,IAAG;QACzB,EAAE,CAAC,eAAe,EAAE;QACpB,IAAI,CAAC,UAAU,EAAE;AACnB,KAAC;IAEO,UAAU,GAAA;AAChB,QAAA,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI;AACtB,QAAA,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAClE,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;AACd,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI;;;AAK7B,IAAA,OAAO,CAAC,EAAe,EAAA;AACrB,QAAA,IAAI,CAAC,IAAI,GAAG,KAAK;AACjB,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE;QACtB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;AACxD,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI;QACzB,IAAI,CAAC,uBAAuB,EAAE;AAC9B,QAAA,IAAI,EAAE,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;;QAEvC,EAAE,CAAC,eAAe,EAAE;;AAGd,IAAA,aAAa,GAAG,OAAO;AAC7B,QAAA,eAAe,EAAE,IAAI;AACtB,KAAA,CAAC;AAGF,IAAA,aAAa,CAAC,EAAiB,EAAA;AAC7B,QAAA,IAAI,EAAE,CAAC,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC,GAAG,KAAK,OAAO,EAAE;YACxC,EAAE,CAAC,cAAc,EAAE;;QAErB,IAAI,EAAE,CAAC,GAAG,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,EAAE;YACpC,EAAE,CAAC,cAAc,EAAE;AACnB,YAAA,IAAI,CAAC,IAAI,GAAG,KAAK;YACjB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;AACxD,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI;AACzB,YAAA,IAAI,CAAC,YAAY,GAAG,EAAE;YACtB,IAAI,CAAC,uBAAuB,EAAE;;QAEhC,IAAI,EAAE,CAAC,GAAG,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE;AACjC,YAAA,IAAI,CAAC,IAAI,GAAG,KAAK;YACjB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;AACxD,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI;AACzB,YAAA,IAAI,CAAC,YAAY,GAAG,EAAE;;AAGxB,QAAA,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;;AAGf,IAAA,YAAY,CAAC,EAAE,EAAA;AACrB,QAAA,MAAM,SAAS,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,CAAC;QACpF,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;AAC9B,YAAA,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAc,sBAAsB,CAAC,CAAC;AACvF,YAAA,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM;AAC/B,YAAA,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY;AAEjC,YAAA,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,gBAAA,IAAI,EAAE,CAAC,GAAG,KAAK,SAAS,IAAI,EAAE,CAAC,GAAG,KAAK,WAAW,EAAE;AAClD,oBAAA,CAAC,IAAI,CAAC,aAAa,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,UAAU,CAAC,KAAK,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;;AACvJ,qBAAA,IAAI,EAAE,CAAC,GAAG,KAAK,WAAW,IAAI,EAAE,CAAC,GAAG,KAAK,YAAY,EAAE;AAC5D,oBAAA,CAAC,IAAI,CAAC,aAAa,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,EAAE,UAAU,CAAC,KAAK,SAAS,GAAG,CAAC,CAAC;;AACnG,qBAAA,IAAI,EAAE,CAAC,GAAG,KAAK,MAAM,EAAE;AAC5B,oBAAA,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,EAAE,CAAC,EAAE,UAAU,CAAC;;AAClD,qBAAA,IAAI,EAAE,CAAC,GAAG,KAAK,KAAK,EAAE;AAC3B,oBAAA,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,CAAC;;gBAGlE,IAAI,IAAI,CAAC,aAAa;AAAE,oBAAA,IAAI,CAAC,aAAa,GAAG,KAAK;AAElD,gBAAA,IAAI,CAAC,YAAY,GAAG,SAAS;AAC7B,gBAAA,MAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAQ;AAExC,gBAAA,KAAK,CAAC,OAAO,CAAC,IAAI,IAAG;AAClB,oBAAA,IAAY,CAAC,YAAY,GAAG,IAAI,KAAK,QAAQ,GAAG,CAAC,GAAG,EAAE;AACzD,iBAAC,CAAC;gBAEF,QAAQ,CAAC,KAAK,EAAE;;;;IAKd,YAAY,GAAG,CAAC,KAAY,EAAE,YAAoB,EAAE,SAAiB,EAAE,UAAkB,KAAY;QAC3G,IAAI,QAAQ,GAAG,CAAC,YAAY,GAAG,SAAS,GAAG,UAAU,IAAI,UAAU;AACnE,QAAA,OAAO,KAAK,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE;YAC/B,QAAQ,GAAG,CAAC,QAAQ,GAAG,SAAS,GAAG,UAAU,IAAI,UAAU;;AAE7D,QAAA,OAAO,QAAQ;AACjB,KAAC;IAEO,uBAAuB,GAAA;AAC7B,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAgB;QACxF,aAAa,CAAC,KAAK,EAAE;QACrB;;IAGM,MAAM,GAAG,MAAK;AACpB,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;AACnB,YAAA,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ;YACzB,OAAO,CAAK,CAAA,KAAA,EAAA,EAAA,IAAI,EAAC,KAAK,EAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,GAAI;;aAClD;YACL;;AAEJ,KAAC;AAEO,IAAA,oBAAoB,GAAG,OAAO;AACpC,QAAA,uBAAuB,EAAE,IAAI;AAC9B,KAAA,CAAC;AAEM,IAAA,sBAAsB,GAAG,OAAO;AACtC,QAAA,yBAAyB,EAAE,IAAI;AAChC,KAAA,CAAC;AAEF,IAAA,WAAA,CAAA,YAAA,EAAA;;;;;;;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;AAC7D;IAED,oBAAoB,GAAA;QAClB,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC;;IAGpE,kBAAkB,GAAA;AAChB,QAAA,IAAI,IAAI,CAAC,IAAI,EAAE;AACb,YAAA,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,CAAkB;AAC3F,YAAA,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,UAAU,CAAC,CAAiC;YAC9F,IAAI,SAAS,EAAE;AACb,gBAAA,KAAK,CAAC,OAAO,CAAC,IAAI,IAAG;AAClB,oBAAA,IAAY,CAAC,YAAY,GAAG,IAAI,KAAK,SAAS,GAAG,CAAC,GAAG,EAAE;AAC1D,iBAAC,CAAC;;;;AAKA,IAAA,mBAAmB,GAAG,OAAO;AACnC,QAAA,aAAa,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,SAAS;QAC1D,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,SAAS;AACvE,QAAA,MAAM,EAAE,IAAI,CAAC,IAAI,KAAK,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,GAAG,SAAS;QACtE,MAAM,EAAE,WAAW,CAAC,UAAU;AAC/B,KAAA,CAAC;IAEF,MAAM,GAAA;AACJ,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,YAAY,GAAG,cAAc;QACtD,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACH,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,EAAA,EAC7B,IAAI,CAAC,IAAI,KAAK,aAAa,CAAC,UAAU,IAAI,CAAA,CAAA,YAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAgB,IAAI,CAAC,mBAAmB,EAAE,EAAA,EAAG,IAAI,CAAC,MAAM,EAAE,CAAc,EACnH,CACE,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAG,EAAE,CAAC,EAA4B,MAAM,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,EAC/D,UAAU,EAAE,IAAI,CAAC,WAAW,EAC5B,IAAI,EAAC,IAAI,EACT,IAAI,EAAE,IAAI,EACI,eAAA,EAAA,OAAO,mBACN,IAAI,CAAC,aAAa,EAAA,eAAA,EAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAClB,eAAA,EAAA,MAAM,IAEnB,IAAI,CAAC,QAAQ,CACE,CACd,EAEL,IAAI,CAAC,IAAI,KACR,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAE,IAAI,CAAC,sBAAsB,EAAE,EAAA,EACvC,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAE,IAAI,CAAC,oBAAoB,EAAE,EAAE,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAC,IAAI,EAAC,EAAE,EAAE,IAAI,CAAC,aAAa,EAAA,aAAA,EAAe,IAAI,CAAC,IAAI,GAAG,OAAO,GAAG,MAAM,EAAA,EAClI,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAa,CACT,CACF,CACP,CACI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["AthUserMenu","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/user/user-menu/user-menu.model.ts","src/components/user/user-menu/user-menu.scss?tag=ath-user-menu&encapsulation=shadow","src/components/user/user-menu/user-menu.tsx"],"sourcesContent":["import { ValueOf } from '@utils/helper';\r\n\r\nexport const UserMenuTypes = {\r\n  Default: 'default',\r\n  Initials: 'initials',\r\n  Image: 'image',\r\n  HideAvatar: 'hide-avatar',\r\n} as const;\r\n\r\nexport type UserMenuType = ValueOf<typeof UserMenuTypes>;\r\n",":host {\r\n  display: inline-block;\r\n  width: fit-content;\r\n  .ath-user-menu {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: var(--ath-spacing-user-menu-col-gap);\r\n\r\n    &-container {\r\n      width: 100%;\r\n      position: relative;\r\n    }\r\n\r\n    &-overlay {\r\n      display: flex;\r\n      padding: var(--ath-spacing-menu-button-overlay-padding);\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      gap: var(--ath-spacing-menu-button-overlay-row-gap);\r\n      position: absolute;\r\n      right: 0;\r\n      top: 4px;\r\n      border-radius: var(--ath-border-radius-3xl);\r\n      border: var(--ath-border-width-xs) solid var(--ath-color-border-alpha-bolder-default);\r\n      background: var(--ath-color-menu-button-overlay-bg);\r\n      z-index: 1000;\r\n    }\r\n  }\r\n}\r\n","import { Component, ComponentInterface, Host, Prop, h, Element, Listen, Event, EventEmitter, Watch } from '@stencil/core';\r\nimport { UserMenuType, UserMenuTypes } from './user-menu.model';\r\nimport { AvatarSizes } from 'components/avatar/avatar.model';\r\n\r\nlet userMenuSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-user-menu',\r\n  styleUrls: ['user-menu.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthUserMenu implements ComponentInterface {\r\n  private hostId = `user-menu${++userMenuSequence}`;\r\n  private menuOverlayId = `${this.hostId}-overlay`;\r\n\r\n  /**\r\n   * Initials to display in the avatar.\r\n   */\r\n  @Prop() initials: string;\r\n  /**\r\n   * Indica si user-menu esta abierto\r\n   */\r\n  @Prop({ mutable: true }) open: boolean = false;\r\n  /**\r\n   * Define la src para imagen avatar\r\n   */\r\n  @Prop() srcImage: string;\r\n  /**\r\n   * Define el nombre del usuario\r\n   */\r\n  @Prop() userName: string;\r\n  /**\r\n   * Define el tipo de avatar\r\n   */\r\n  @Prop() type: UserMenuType = undefined;\r\n\r\n  /**\r\n   * Emitted when an item is clicked\r\n   */\r\n  @Event() athAction: EventEmitter<{ item: HTMLAthMenuButtonItemElement }>;\r\n\r\n  @Element() el: HTMLElement;\r\n  private buttonLinkEl: HTMLAthButtonLinkElement;\r\n  private currentIndex = 0;\r\n  private firstTimeOpen = true;\r\n\r\n  handleOutsideClick(event: MouseEvent) {\r\n    if (!this.el.contains(event.target as Node)) {\r\n      this.open = false;\r\n    }\r\n  }\r\n  @Watch('open')\r\n  watchOpenState() {\r\n    if (this.open) {\r\n      document.addEventListener('mousedown', this.handleOutsideClick);\r\n    } else {\r\n      document.removeEventListener('mousedown', this.handleOutsideClick);\r\n    }\r\n  }\r\n\r\n  private handleClick = ev => {\r\n    ev.stopPropagation();\r\n    this.toggleMenu();\r\n  };\r\n\r\n  private toggleMenu() {\r\n    this.open = !this.open;\r\n    this.buttonLinkEl.setAttribute('aria-expanded', String(this.open));\r\n    if (!this.open) {\r\n      this.firstTimeOpen = true;\r\n    }\r\n  }\r\n\r\n  @Listen('athSelected')\r\n  onClick(ev: CustomEvent) {\r\n    this.open = false;\r\n    this.currentIndex = -1;\r\n    this.buttonLinkEl.setAttribute('aria-expanded', 'false');\r\n    this.firstTimeOpen = true;\r\n    this.setFocusToAthButtonLink();\r\n    if (ev.detail) {\r\n      this.athAction.emit(ev.detail.target);\r\n    }\r\n    ev.stopPropagation();\r\n  }\r\n\r\n  private getClassNames = () => ({\r\n    'ath-user-menu': true,\r\n  });\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    if (ev.key === ' ' || ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n    }\r\n    if (ev.key === 'Escape' && this.open) {\r\n      ev.preventDefault();\r\n      this.open = false;\r\n      this.buttonLinkEl.setAttribute('aria-expanded', 'false');\r\n      this.firstTimeOpen = true;\r\n      this.currentIndex = -1;\r\n      this.setFocusToAthButtonLink();\r\n    }\r\n    if (ev.key === 'Tab' && this.open) {\r\n      this.open = false;\r\n      this.buttonLinkEl.setAttribute('aria-expanded', 'false');\r\n      this.firstTimeOpen = true;\r\n      this.currentIndex = -1;\r\n    }\r\n\r\n    this.focusManager(ev);\r\n  }\r\n\r\n  private focusManager(ev) {\r\n    const eventKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Home', 'End'];\r\n    if (eventKeys.includes(ev.key)) {\r\n      const items = Array.from(this.el.querySelectorAll<HTMLElement>('ath-menu-button-item'));\r\n      const totalItems = items.length;\r\n      let nextIndex = this.currentIndex;\r\n\r\n      if (items.length > 0) {\r\n        if (ev.key === 'ArrowUp' || ev.key === 'ArrowLeft') {\r\n          !this.firstTimeOpen ? (nextIndex = this.getNextIndex(items, nextIndex, -1, totalItems)) : (nextIndex = this.getNextIndex(items, totalItems, -1, totalItems));\r\n        } else if (ev.key === 'ArrowDown' || ev.key === 'ArrowRight') {\r\n          !this.firstTimeOpen ? (nextIndex = this.getNextIndex(items, nextIndex, 1, totalItems)) : (nextIndex = 0);\r\n        } else if (ev.key === 'Home') {\r\n          nextIndex = this.getNextIndex(items, -1, 1, totalItems);\r\n        } else if (ev.key === 'End') {\r\n          nextIndex = this.getNextIndex(items, totalItems, -1, totalItems);\r\n        }\r\n\r\n        if (this.firstTimeOpen) this.firstTimeOpen = false;\r\n\r\n        this.currentIndex = nextIndex;\r\n        const nextItem = items[nextIndex] as any;\r\n\r\n        items.forEach(item => {\r\n          (item as any).itemTabIndex = item === nextItem ? 0 : -1;\r\n        });\r\n\r\n        nextItem.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  private getNextIndex = (items: any[], currentIndex: number, direction: number, totalItems: number): number => {\r\n    let newIndex = (currentIndex + direction + totalItems) % totalItems;\r\n    while (items[newIndex].disabled) {\r\n      newIndex = (newIndex + direction + totalItems) % totalItems;\r\n    }\r\n    return newIndex;\r\n  };\r\n\r\n  private setFocusToAthButtonLink() {\r\n    const athButtonLink = this.el.shadowRoot.querySelector('ath-button-link') as HTMLElement;\r\n    athButtonLink.focus();\r\n    return;\r\n  }\r\n\r\n  private imgTag = () => {\r\n    if (!!this.srcImage) {\r\n      const src = this.srcImage;\r\n      return <img slot=\"img\" src={src} alt={this.userName} />;\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  private getOverlayClassNames = () => ({\r\n    'ath-user-menu-overlay': true,\r\n  });\r\n\r\n  private getContainerClassNames = () => ({\r\n    'ath-user-menu-container': true,\r\n  });\r\n\r\n  constructor() {\r\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    document.removeEventListener('mousedown', this.handleOutsideClick);\r\n  }\r\n\r\n  componentDidRender(): void {\r\n    if (this.open) {\r\n      const items = Array.from(this.el.querySelectorAll('ath-menu-button-item')) as HTMLElement[];\r\n      const firstItem = items.find(i => !i.hasAttribute('disabled')) as HTMLAthMenuButtonItemElement;\r\n      if (firstItem) {\r\n        items.forEach(item => {\r\n          (item as any).itemTabIndex = item === firstItem ? 0 : -1;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private getAvatarAttributes = () => ({\r\n    'avatar-name': !!this.userName ? this.userName : undefined,\r\n    'initials': !!this.initials ? this.initials.substring(0, 2) : undefined,\r\n    'type': this.type !== UserMenuTypes.HideAvatar ? this.type : undefined,\r\n    'size': AvatarSizes.ExtraSmall,\r\n  });\r\n\r\n  render() {\r\n    const icon = this.open ? 'chevron_up' : 'chevron_down';\r\n    return (\r\n      <Host>\r\n        <div class={this.getClassNames()}>\r\n          {this.type !== UserMenuTypes.HideAvatar && <ath-avatar {...this.getAvatarAttributes()}>{this.imgTag()}</ath-avatar>}\r\n          <ath-button-link\r\n            ref={(el: HTMLAthButtonLinkElement) => (this.buttonLinkEl = el)}\r\n            onAthClick={this.handleClick}\r\n            size=\"md\"\r\n            icon={icon}\r\n            icon-position=\"right\"\r\n            aria-controls={this.menuOverlayId}\r\n            aria-expanded={String(this.open)}\r\n            aria-haspopup=\"true\"\r\n          >\r\n            {this.userName}\r\n          </ath-button-link>\r\n        </div>\r\n\r\n        {this.open && (\r\n          <div class={this.getContainerClassNames()}>\r\n            <div class={this.getOverlayClassNames()} role=\"menu\" tabindex=\"-1\" id={this.menuOverlayId} aria-hidden={this.open ? 'false' : 'true'}>\r\n              <slot></slot>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}