{"file":"p-BU8ktV_8.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/avatar/avatar.model.ts","src/components/avatar/avatar.scss?tag=ath-avatar&encapsulation=shadow","src/components/avatar/avatar.tsx"],"sourcesContent":["export type AvatarSize = 'xs' | 'sm' | 'md' | 'lg';\r\nexport type AvatarType = undefined | 'default' | 'initials' | 'image';\r\n\r\nexport const AvatarSizes = {\r\n  ExtraSmall: 'xs',\r\n  Small: 'sm',\r\n  Medium: 'md',\r\n  Large: 'lg',\r\n} as const;\r\n\r\nexport const AvatarTypes = {\r\n  Default: 'default',\r\n  Initials: 'initials',\r\n  Image: 'image',\r\n} as const;\r\n","@use 'utilities';\r\n@use 'tools';\r\n@use './avatar.theme.scss' as theme;\r\n\r\n:host {\r\n  display: flex;\r\n  width: fit-content;\r\n  height: fit-content;\r\n  .ath-avatar {\r\n    @include theme.size('xs');\r\n    @include theme.size('sm');\r\n    @include theme.size('md');\r\n    @include theme.size('lg');\r\n    @include theme.type('default');\r\n    @include theme.type('initials');\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: var(--ath-border-radius-avatar);\r\n    font-family: var(--ath-font-family-primary);\r\n    font-weight: var(--ath-font-weight-heading);\r\n    overflow: hidden;\r\n\r\n    &--image {\r\n      background: var(--ath-color-bg-secondary-subtlest-default);\r\n    }\r\n\r\n    & .ath-avatar--initials {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: var(--ath-color-avatar-initials-fg);\r\n    }\r\n  }\r\n}\r\n","import { Component, ComponentInterface, Host, Prop, h, Element } from '@stencil/core';\r\nimport { AvatarSize, AvatarSizes, AvatarType, AvatarTypes } from './avatar.model';\r\n\r\n@Component({\r\n  tag: 'ath-avatar',\r\n  styleUrls: ['avatar.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthAvatar implements ComponentInterface {\r\n  /**\r\n   * Initials to display in the avatar.\r\n   */\r\n  @Prop() initials: string;\r\n\r\n  /**\r\n   * Size of the avatar.\r\n   */\r\n  @Prop() size: AvatarSize = AvatarSizes.Medium;\r\n\r\n  /**\r\n   * Type of avatar (image or initials).\r\n   */\r\n  @Prop() type: AvatarType;\r\n\r\n  /**\r\n   * Name used to generate initials if none are provided.\r\n   */\r\n  @Prop() avatarName: string;\r\n\r\n  /**\r\n   * The aria-labelledby attribute of the icon\r\n   */\r\n  @Prop() ariaLabelledby?: string;\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  private avatarClassType: string;\r\n\r\n  private getClassNames = (): { [key: string]: boolean } => ({\r\n    'ath-avatar': true,\r\n    [`ath-avatar--${this.size}`]: true,\r\n  });\r\n\r\n  private hasImage(): boolean {\r\n    return !!this.el.querySelector('img');\r\n  }\r\n\r\n  private getInitials = () => {\r\n    if (this.initials) {\r\n      this.avatarClassType = 'initials';\r\n      return <span class=\"ath-avatar--initials\">{this.initials.toUpperCase().slice(0, 2)}</span>;\r\n    } else if (this.avatarName) {\r\n      this.avatarClassType = 'initials';\r\n      const initials = this.avatarName\r\n        .split(' ')\r\n        .map(word => word.charAt(0).toUpperCase())\r\n        .slice(0, 2)\r\n        .join('');\r\n      return <span class=\"ath-avatar--initials\">{initials}</span>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  private renderContent = () => {\r\n    // If type is defined and is image, Check for image\r\n    if (this.type === AvatarTypes.Image && this.hasImage()) {\r\n      this.avatarClassType = 'image';\r\n      return <slot name=\"img\"></slot>;\r\n    }\r\n\r\n    // If type is defined and is initials, check for initials\r\n    if (this.type === AvatarTypes.Initials) {\r\n      return this.getInitials() || this.renderDefaultImg();\r\n    }\r\n\r\n    // If type is undefined, check in priority order (image>initials).\r\n    if (!this.type) {\r\n      if (this.hasImage()) {\r\n        this.avatarClassType = 'image';\r\n        return <slot name=\"img\"></slot>;\r\n      }\r\n      const initialsContent = this.getInitials();\r\n      if (initialsContent) {\r\n        return initialsContent;\r\n      }\r\n    }\r\n\r\n    // Fallback to default image\r\n    return this.renderDefaultImg();\r\n  };\r\n\r\n  componentDidLoad(): void {\r\n    const athAvatar = this.el.shadowRoot.querySelector('.ath-avatar');\r\n    athAvatar.classList.add('ath-avatar--' + (this.avatarClassType || 'default'));\r\n  }\r\n\r\n  private renderDefaultImg = () => {\r\n    const theme = document.body.dataset.theme || 'core';\r\n    const assetsPath = `assets/images/pictograms/${theme}/`;\r\n    return (\r\n      <svg focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 32 32\">\r\n        <use xlinkHref={`${assetsPath}illu_male.svg`}></use>\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  private hasAriaLabel() {\r\n    const ariaLabel = this.el.getAttribute('aria-label');\r\n    return !!ariaLabel?.trim();\r\n  }\r\n\r\n  private hasAriaLabelledBy() {\r\n    return !this.hasAriaLabel() && !!this.ariaLabelledby?.trim();\r\n  }\r\n\r\n  private getHostAttributes() {\r\n    const ariaLabel = this.el.getAttribute('aria-label');\r\n    const hasLabel = this.hasAriaLabel() || this.hasAriaLabelledBy();\r\n    const currentAriaLabel = this.hasAriaLabel() ? ariaLabel.trim() : !!this.avatarName ? this.avatarName : undefined;\r\n    return {\r\n      'aria-label': currentAriaLabel,\r\n      'role': hasLabel ? 'img' : !!this.avatarName ? 'img' : undefined,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host {...this.getHostAttributes()}>\r\n        <div class={this.getClassNames()}>{this.renderContent()}</div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}