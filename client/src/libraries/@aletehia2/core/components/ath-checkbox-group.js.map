{"file":"ath-checkbox-group.js","mappings":";;;;;;;AAEA,IAAY,YAIX;AAJD,CAAA,UAAY,YAAY,EAAA;AACtB,IAAA,YAAA,CAAA,MAAA,CAAA,GAAA,MAAa;AACb,IAAA,YAAA,CAAA,OAAA,CAAA,GAAA,OAAe;AACf,IAAA,YAAA,CAAA,SAAA,CAAA,GAAA,SAAmB;AACrB,CAAC,EAJW,YAAY,KAAZ,YAAY,GAIvB,EAAA,CAAA,CAAA;;ACND,MAAM,gBAAgB,GAAG,muEAAmuE;;ACK5vE,IAAI,qBAAqB,GAAG,CAAC;MAOhB,gBAAgB,iBAAAA,kBAAA,CAAA,MAAA,gBAAA,SAAAC,CAAA,CAAA;;;;;;;;;AACnB,IAAA,eAAe,GAAG,CAAA,eAAA,EAAkB,EAAE,qBAAqB,EAAE;AAC7D,IAAA,yBAAyB,GAAG,CAAG,EAAA,IAAI,CAAC,eAAe,cAAc;AACjE,IAAA,uBAAuB,GAAG,CAAG,EAAA,IAAI,CAAC,eAAe,WAAW;AAC5D,IAAA,QAAQ,GAAG,CAAG,EAAA,IAAI,CAAC,eAAe,UAAU;;AAIpD;;AAEG;IACK,QAAQ,GAAG,KAAK;AAExB;;AAEG;AACK,IAAA,QAAQ,GAAkB,YAAY,CAAC,IAAI;AAEnD;;AAEG;AACK,IAAA,YAAY;AAEpB;;AAEG;AACK,IAAA,UAAU;AAElB;;AAEG;AACK,IAAA,KAAK;AAEb;;AAEG;AACK,IAAA,IAAI;AAEZ;;AAEG;IACK,QAAQ,GAAG,KAAK;AAExB;;AAEG;IACK,YAAY,GAAG,KAAK;AAE5B;;AAEG;AACK,IAAA,WAAW;AAEnB;;AAEG;IACK,YAAY,GAAG,CAAC;;AAGxB;;AAEG;AACK,IAAA,iBAAiB;;AAGzB;;AAEG;AACM,IAAA,UAAU;IAEnB,gBAAgB,GAAA;QACd,IAAI,CAAC,gBAAgB,EAAE;QACvB,IAAI,CAAC,4BAA4B,EAAE;;AAGrC;;;AAGG;IACK,gBAAgB,GAAA;QACtB,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,cAAc,CAAC;AAC3D,QAAA,UAAU,CAAC,OAAO,CAAC,CAAC,QAAgC,KAAI;AACtD,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAA,QAAQ,CAAC,QAAQ,GAAG,IAAI;;AAE1B,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAA,QAAQ,CAAC,QAAQ,GAAG,IAAI;;AAE1B,YAAA,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;AAC3B,gBAAA,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;;AAE7B,SAAC,CAAC;;IAGI,kBAAkB,GAAgC,EAAE;IAEpD,4BAA4B,GAAA;AAClC,QAAA,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAA6B;AAEnG,QAAA,UAAU,CAAC,OAAO,CAAC,QAAQ,IAAG;YAC5B,MAAM,eAAe,GAAG,QAAe;YACvC,MAAM,KAAK,GAAG,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC;YACnD,MAAM,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC;YACjD,MAAM,KAAK,GAAG,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC;AAEnD,YAAA,IAAI,KAAK,KAAK,aAAa,CAAC,IAAI,EAAE;AAChC,gBAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;;AAE5E,SAAC,CAAC;;AAIJ,IAAA,yBAAyB,CAAC,KAA6C,EAAA;QACrE,KAAK,CAAC,eAAe,EAAE;AACvB,QAAA,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,MAAM,CAAC;;AAGrC,IAAA,wBAAwB,CAAC,yBAAoD,EAAA;QACnF,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,yBAAyB;AAExD,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,KAAK,KAAK,CAAC;AACrF,QAAA,IAAI,KAAK,KAAK,EAAE,EAAE;AAChB,YAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;;aAC/C;YACL,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;;QAG1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC;;IAGvC,eAAe,GAAG,MAAK;QAC7B,MAAM,YAAY,GAA8B,EAAE;AAElD,QAAA,IAAI,IAAI,CAAC,UAAU,IAAI,SAAS;YAAE,YAAY,CAAC,IAAI,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC,yBAAyB;AAC/G,QAAA,IAAI,IAAI,CAAC,QAAQ,IAAI,YAAY,CAAC,IAAI;YAAE,YAAY,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,uBAAuB;AAEjH,QAAA,OAAO,YAAY;AACrB,KAAC;IAEO,kBAAkB,GAAA;AACxB,QAAA,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,SAAS;QACnI,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,GAAG,CAAA,EAAG,IAAI,CAAC,eAAe,CAAI,CAAA,EAAA,IAAI,CAAC,QAAQ,CAAE,CAAA,GAAG,IAAI,CAAC,eAAe;QAE/G,OAAO;AACL,YAAA,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,IAAI,CAAC,eAAe;YAC1B,MAAM,EAAE,IAAI,CAAC,IAAI;AACjB,YAAA,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS;AACnD,YAAA,iBAAiB,EAAE,iBAAiB;AACpC,YAAA,kBAAkB,EAAE,cAAc;AAClC,YAAA,cAAc,EAAE,IAAI,CAAC,QAAQ,KAAK,YAAY,CAAC,KAAK,GAAG,MAAM,GAAG,SAAS;SAC1E;;AAGK,IAAA,gBAAgB,GAAG,OAA4B;QACrD,EAAE,EAAE,IAAI,CAAC,uBAAuB;QAChC,IAAI,EAAE,IAAI,CAAC,QAAQ;QACnB,IAAI,EAAE,IAAI,CAAC,YAAY;AACxB,KAAA,CAAC;IAEM,kBAAkB,GAAG,MAA4B;QACvD,OAAO;YACL,EAAE,EAAE,IAAI,CAAC,yBAAyB;AAClC,YAAA,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE;SACtD;AACH,KAAC;AAEO,IAAA,aAAa,GAAG,OAAyB;QAC/C,SAAS,EAAE,IAAI,CAAC,eAAe;QAC/B,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,YAAY,EAAE,IAAI,CAAC,YAAY;QAC/B,QAAQ,EAAE,IAAI,CAAC,YAAY;QAC3B,WAAW,EAAE,IAAI,CAAC,WAAW;QAC7B,YAAY,EAAE,IAAI,CAAC,YAAY;AAChC,KAAA,CAAC;IAEF,MAAM,GAAA;AACJ,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE;AAChD,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;AACvC,QAAA,MAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE;AACjD,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;AAC7C,QAAA,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACH,CAAA,CAAA,UAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAU,KAAK,EAAC,qBAAqB,EAAA,GAAK,cAAc,EAAA,EACrD,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAA,YAAY,EAAK,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAA,UAAU,EAAiB,CAAA,EAC7D,IAAI,CAAC,YAAY,KAChB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAC,SAAS,EAAA,EACpC,IAAI,CAAC,iBAAiB,CACnB,CACP,EACD,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,4BAA4B,EAAA,EACrC,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAa,CACT,EACL,IAAI,CAAC,UAAU,IAAI,EAAC,iBAAiB,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAK,eAAe,EAAsB,CAAA,EAC/E,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAA,CAAC,eAAe,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,GAAK,aAAa,EAAoB,CAAA,CAC/G,CACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/checkbox/checkbox-group/checkbox-group.model.ts","src/components/checkbox/checkbox-group/checkbox-group.scss?tag=ath-checkbox-group&encapsulation=shadow","src/components/checkbox/checkbox-group/checkbox-group.tsx"],"sourcesContent":["export type FeedbackTypes = 'none' | 'error' | 'success';\r\n\r\nexport enum FeedbackType {\r\n  None = 'none',\r\n  Error = 'error',\r\n  Success = 'success'\r\n}\r\n","@use '../../../sharedfc/input' as Input;\r\n@use 'utilities';\r\n@use 'tools';\r\n\r\n:host {\r\n  color: var(--ath-color-fg-default);\r\n  font-family: var(--ath-font-family-primary);\r\n  @include Input.fc-input-helper;\r\n  @include Input.fc-input-feedback;\r\n  @include Input.fc-input-label;\r\n  .ath-checkbox {\r\n    &--group {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      gap: var(--ath-spacing-checkbox-group-row-gap);\r\n      border: none;\r\n      margin: 0px;\r\n      padding: 0px;\r\n\r\n      &__items {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        gap: var(--ath-spacing-checkbox-group-row-gap);\r\n        align-self: stretch;\r\n      }\r\n\r\n      .sr-only {\r\n        position: absolute;\r\n        width: 1px;\r\n        height: 1px;\r\n        overflow: hidden;\r\n        clip: rect(0, 0, 0, 0);\r\n        white-space: nowrap;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, ComponentInterface, Host, JSX, Prop, h, Element, Listen, Event, EventEmitter } from '@stencil/core';\r\nimport { FeedbackType, FeedbackTypes } from './checkbox-group.model';\r\nimport { FcInputFeedback, FcInputFeedbackType, FcInputHelperText, FcInputHelperTextType, FcInputLabel, FcInputLabelType } from '../../../sharedfc/input/index';\r\nimport { CheckboxChangeEventDetail, CheckboxValue } from '../checkbox.model';\r\n\r\nlet checkboxGroupSequence = 0;\r\n\r\n@Component({\r\n  tag: 'ath-checkbox-group',\r\n  styleUrls: ['checkbox-group.scss'],\r\n  shadow: true,\r\n})\r\nexport class AthCheckBoxGroup implements ComponentInterface {\r\n  private checkboxGroupId = `checkbox-group-${++checkboxGroupSequence}`;\r\n  private checkboxGroupHelperTextId = `${this.checkboxGroupId}-helper-text`;\r\n  private checkboxGroupFeedbackId = `${this.checkboxGroupId}-feedback`;\r\n  private srOnlyId = `${this.checkboxGroupId}-sr-only`;\r\n\r\n  @Element() el: HTMLElement | null;\r\n\r\n  /**\r\n   * Indica si esta deshabilitado\r\n   */\r\n  @Prop() disabled = false;\r\n\r\n  /**\r\n   * Indica el tipo de feedback\r\n   */\r\n  @Prop() feedback: FeedbackTypes = FeedbackType.None;\r\n\r\n  /**\r\n   * Texto feedback\r\n   */\r\n  @Prop() feedbackText: string;\r\n\r\n  /**\r\n   * Texto ayuda\r\n   */\r\n  @Prop() helperText: string;\r\n\r\n  /**\r\n   * Texto para el Label\r\n   */\r\n  @Prop() label: string;\r\n\r\n  /**\r\n   * Atributo name a aplicar a todo el grupo\r\n   */\r\n  @Prop() name: string;\r\n\r\n  /**\r\n   * Indica si es solo lectura\r\n   */\r\n  @Prop() readonly = false;\r\n\r\n  /**\r\n   * Indica si se muestra el asterisco\r\n   */\r\n  @Prop() showRequired = false;\r\n\r\n  /**\r\n   * Indica el texto del tooltip\r\n   */\r\n  @Prop() tooltipText: string;\r\n\r\n  /**\r\n   * Indica el ancho de la burbuja tooltip\r\n   */\r\n  @Prop() tooltipWidth = 0;\r\n\r\n  // ACCESSIBILITY\r\n  /**\r\n   * Texto oculto para lectores de pantalla indicando que el grupo es requerido\r\n   */\r\n  @Prop() requiredAriaLabel: string;\r\n\r\n  // EVENTS\r\n  /**\r\n   * Emite el array de checkboxes seleccionados\r\n   */\r\n  @Event() athChecked: EventEmitter<CheckboxChangeEventDetail[]>;\r\n\r\n  componentDidLoad() {\r\n    this.spreadProperties();\r\n    this.initializeSelectedCheckboxes();\r\n  }\r\n\r\n  /**\r\n   * Propagate attributes from parent to children.\r\n   * Set boolean attributes only for true.\r\n   */\r\n  private spreadProperties() {\r\n    const checkboxes = this.el.querySelectorAll('ath-checkbox');\r\n    checkboxes.forEach((checkbox: HTMLAthCheckboxElement) => {\r\n      if (this.readonly) {\r\n        checkbox.readonly = true;\r\n      }\r\n      if (this.disabled) {\r\n        checkbox.disabled = true;\r\n      }\r\n      if (this.name !== undefined) {\r\n        checkbox.name = this.name;\r\n      }\r\n    });\r\n  }\r\n\r\n  private selectedCheckboxes: CheckboxChangeEventDetail[] = [];\r\n\r\n  private initializeSelectedCheckboxes() {\r\n    const checkboxes = Array.from(this.el.querySelectorAll('ath-checkbox')) as HTMLAthCheckboxElement[];\r\n\r\n    checkboxes.forEach(checkbox => {\r\n      const checkboxElement = checkbox as any;\r\n      const label = checkboxElement.getAttribute('label');\r\n      const name = checkboxElement.getAttribute('name');\r\n      const value = checkboxElement.getAttribute('value');\r\n\r\n      if (value === CheckboxValue.True) {\r\n        this.selectedCheckboxes.push({ label: label, name: name, value: value });\r\n      }\r\n    });\r\n  }\r\n\r\n  @Listen('athChange')\r\n  handleChildCheckboxChange(event: CustomEvent<CheckboxChangeEventDetail>) {\r\n    event.stopPropagation();\r\n    this.updateSelectedCheckboxes(event.detail);\r\n  }\r\n\r\n  private updateSelectedCheckboxes(checkboxChangeEventDetail: CheckboxChangeEventDetail) {\r\n    const { label, name, value } = checkboxChangeEventDetail;\r\n\r\n    const index = this.selectedCheckboxes.findIndex(selected => selected.label === label);\r\n    if (index === -1) {\r\n      this.selectedCheckboxes.push({ label, name, value });\r\n    } else {\r\n      this.selectedCheckboxes.splice(index, 1);\r\n    }\r\n\r\n    this.athChecked.emit(this.selectedCheckboxes);\r\n  }\r\n\r\n  private ariaDescribedBy = () => {\r\n    const descriptions: { [key: string]: string } = {};\r\n\r\n    if (this.helperText != undefined) descriptions[this.checkboxGroupHelperTextId] = this.checkboxGroupHelperTextId;\r\n    if (this.feedback != FeedbackType.None) descriptions[this.checkboxGroupFeedbackId] = this.checkboxGroupFeedbackId;\r\n\r\n    return descriptions;\r\n  };\r\n\r\n  private getAttributesGroup() {\r\n    const describedByIds = Object.keys(this.ariaDescribedBy()).length !== 0 ? Object.keys(this.ariaDescribedBy()).join(' ') : undefined;\r\n    const ariaLabelledByIds = this.showRequired ? `${this.checkboxGroupId} ${this.srOnlyId}` : this.checkboxGroupId;\r\n\r\n    return {\r\n      'role': 'group',\r\n      'id': this.checkboxGroupId,\r\n      'name': this.name,\r\n      'aria-label': !!this.label ? this.label : undefined,\r\n      'aria-labelledby': ariaLabelledByIds,\r\n      'aria-describedby': describedByIds,\r\n      'aria-invalid': this.feedback === FeedbackType.Error ? 'true' : undefined,\r\n    };\r\n  }\r\n\r\n  private getFeedbackProps = (): FcInputFeedbackType => ({\r\n    id: this.checkboxGroupFeedbackId,\r\n    type: this.feedback,\r\n    text: this.feedbackText,\r\n  });\r\n\r\n  private getHelperTextProps = (): FcInputHelperTextType => {\r\n    return {\r\n      id: this.checkboxGroupHelperTextId,\r\n      text: !!this.helperText ? this.helperText.trim() : '',\r\n    };\r\n  };\r\n\r\n  private getLabelProps = (): FcInputLabelType => ({\r\n    htmlForId: this.checkboxGroupId,\r\n    label: this.label,\r\n    showRequired: this.showRequired,\r\n    required: this.showRequired,\r\n    tooltipText: this.tooltipText,\r\n    tooltipWidth: this.tooltipWidth,\r\n  });\r\n\r\n  render(): JSX.Element {\r\n    const ariaAttributes = this.getAttributesGroup();\r\n    const labelProps = this.getLabelProps();\r\n    const helperTextProps = this.getHelperTextProps();\r\n    const feedbackProps = this.getFeedbackProps();\r\n    return (\r\n      <Host>\r\n        <fieldset class=\"ath-checkbox--group\" {...ariaAttributes}>\r\n          {!!this.label && <FcInputLabel {...labelProps}></FcInputLabel>}\r\n          {this.showRequired && (\r\n            <div id={this.srOnlyId} class=\"sr-only\">\r\n              {this.requiredAriaLabel}\r\n            </div>\r\n          )}\r\n          <div class=\"ath-checkbox--group__items\">\r\n            <slot></slot>\r\n          </div>\r\n          {this.helperText && <FcInputHelperText {...helperTextProps}></FcInputHelperText>}\r\n          {this.feedback === 'error' && !this.disabled && !this.readonly && <FcInputFeedback {...feedbackProps}></FcInputFeedback>}\r\n        </fieldset>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}